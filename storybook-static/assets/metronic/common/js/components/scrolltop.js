"use strict";var KTScrolltop=function(elementId,options){var the=this,element=KTUtil.getById(elementId),body=KTUtil.getBody();if(element){var defaultOptions={offset:300,speed:6e3},Plugin={construct:function(options){return KTUtil.data(element).has("scrolltop")?the=KTUtil.data(element).get("scrolltop"):(Plugin.init(options),Plugin.build(),KTUtil.data(element).set("scrolltop",the)),the},init:function(options){the.events=[],the.options=KTUtil.deepExtend({},defaultOptions,options)},build:function(){window.addEventListener("scroll",(function(){KTUtil.throttle(undefined,(function(){Plugin.handle()}),200)})),KTUtil.addEvent(element,"click",Plugin.scroll)},handle:function(){KTUtil.getScrollTop()>the.options.offset?!1===body.hasAttribute("data-scrolltop")&&body.setAttribute("data-scrolltop","on"):!0===body.hasAttribute("data-scrolltop")&&body.removeAttribute("data-scrolltop")},scroll:function(e){e.preventDefault(),KTUtil.scrollTop(0,the.options.speed)},eventTrigger:function(name,args){for(var i=0;i<the.events.length;i++){var event=the.events[i];if(event.name==name){if(1!=event.one)return event.handler.call(this,the,args);if(0==event.fired)return the.events[i].fired=!0,event.handler.call(this,the,args)}}},addEvent:function(name,handler,one){the.events.push({name:name,handler:handler,one:one,fired:!1})}};return the.setDefaults=function(options){defaultOptions=options},the.on=function(name,handler){return Plugin.addEvent(name,handler)},the.one=function(name,handler){return Plugin.addEvent(name,handler,!0)},Plugin.construct.apply(the,[options]),!0,the}};"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=KTScrolltop);