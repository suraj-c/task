/*! For license information please see scripts.js.LICENSE.txt */
!function webpackUniversalModuleDefinition(root,factory){"object"==typeof exports&&"object"==typeof module?module.exports=factory():"function"==typeof define&&define.amd?define([],factory):"object"==typeof exports?exports.signalR=factory():root.signalR=factory()}(window,(function(){return function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module.default}:function getModuleExports(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=0)}([function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var es6_promise_dist_es6_promise_auto_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_index__WEBPACK_IMPORTED_MODULE_1__=(__webpack_require__.n(es6_promise_dist_es6_promise_auto_js__WEBPACK_IMPORTED_MODULE_0__),__webpack_require__(3));__webpack_require__.d(__webpack_exports__,"AbortError",(function(){return _index__WEBPACK_IMPORTED_MODULE_1__.AbortError})),__webpack_require__.d(__webpack_exports__,"HttpError",(function(){return _index__WEBPACK_IMPORTED_MODULE_1__.HttpError})),__webpack_require__.d(__webpack_exports__,"TimeoutError",(function(){return _index__WEBPACK_IMPORTED_MODULE_1__.TimeoutError})),__webpack_require__.d(__webpack_exports__,"HttpClient",(function(){return _index__WEBPACK_IMPORTED_MODULE_1__.HttpClient})),__webpack_require__.d(__webpack_exports__,"HttpResponse",(function(){return _index__WEBPACK_IMPORTED_MODULE_1__.HttpResponse})),__webpack_require__.d(__webpack_exports__,"DefaultHttpClient",(function(){return _index__WEBPACK_IMPORTED_MODULE_1__.DefaultHttpClient})),__webpack_require__.d(__webpack_exports__,"HubConnection",(function(){return _index__WEBPACK_IMPORTED_MODULE_1__.HubConnection})),__webpack_require__.d(__webpack_exports__,"HubConnectionState",(function(){return _index__WEBPACK_IMPORTED_MODULE_1__.HubConnectionState})),__webpack_require__.d(__webpack_exports__,"HubConnectionBuilder",(function(){return _index__WEBPACK_IMPORTED_MODULE_1__.HubConnectionBuilder})),__webpack_require__.d(__webpack_exports__,"MessageType",(function(){return _index__WEBPACK_IMPORTED_MODULE_1__.MessageType})),__webpack_require__.d(__webpack_exports__,"LogLevel",(function(){return _index__WEBPACK_IMPORTED_MODULE_1__.LogLevel})),__webpack_require__.d(__webpack_exports__,"HttpTransportType",(function(){return _index__WEBPACK_IMPORTED_MODULE_1__.HttpTransportType})),__webpack_require__.d(__webpack_exports__,"TransferFormat",(function(){return _index__WEBPACK_IMPORTED_MODULE_1__.TransferFormat})),__webpack_require__.d(__webpack_exports__,"NullLogger",(function(){return _index__WEBPACK_IMPORTED_MODULE_1__.NullLogger})),__webpack_require__.d(__webpack_exports__,"JsonHubProtocol",(function(){return _index__WEBPACK_IMPORTED_MODULE_1__.JsonHubProtocol})),__webpack_require__.d(__webpack_exports__,"Subject",(function(){return _index__WEBPACK_IMPORTED_MODULE_1__.Subject})),__webpack_require__.d(__webpack_exports__,"VERSION",(function(){return _index__WEBPACK_IMPORTED_MODULE_1__.VERSION})),Uint8Array.prototype.indexOf||Object.defineProperty(Uint8Array.prototype,"indexOf",{value:Array.prototype.indexOf,writable:!0}),Uint8Array.prototype.slice||Object.defineProperty(Uint8Array.prototype,"slice",{value:function(start,end){return new Uint8Array(Array.prototype.slice.call(this,start,end))},writable:!0}),Uint8Array.prototype.forEach||Object.defineProperty(Uint8Array.prototype,"forEach",{value:Array.prototype.forEach,writable:!0})},function(module,exports,__webpack_require__){(function(global){var factory;factory=function(){"use strict";function isFunction(x){return"function"==typeof x}var isArray=Array.isArray?Array.isArray:function(x){return"[object Array]"===Object.prototype.toString.call(x)},len=0,vertxNext=void 0,customSchedulerFn=void 0,asap=function asap(callback,arg){queue[len]=callback,queue[len+1]=arg,2===(len+=2)&&(customSchedulerFn?customSchedulerFn(flush):scheduleFlush())},browserWindow="undefined"!=typeof window?window:void 0,browserGlobal=browserWindow||{},BrowserMutationObserver=browserGlobal.MutationObserver||browserGlobal.WebKitMutationObserver,isNode="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),isWorker="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function useSetTimeout(){var globalSetTimeout=setTimeout;return function(){return globalSetTimeout(flush,1)}}var queue=new Array(1e3);function flush(){for(var i=0;i<len;i+=2)(0,queue[i])(queue[i+1]),queue[i]=void 0,queue[i+1]=void 0;len=0}var scheduleFlush=void 0;function then(onFulfillment,onRejection){var parent=this,child=new this.constructor(noop);void 0===child[PROMISE_ID]&&makePromise(child);var _state=parent._state;if(_state){var callback=arguments[_state-1];asap((function(){return invokeCallback(_state,child,callback,parent._result)}))}else subscribe(parent,child,onFulfillment,onRejection);return child}function resolve$1(object){if(object&&"object"==typeof object&&object.constructor===this)return object;var promise=new this(noop);return resolve(promise,object),promise}scheduleFlush=isNode?function useNextTick(){return function(){return process.nextTick(flush)}}():BrowserMutationObserver?function useMutationObserver(){var iterations=0,observer=new BrowserMutationObserver(flush),node=document.createTextNode("");return observer.observe(node,{characterData:!0}),function(){node.data=iterations=++iterations%2}}():isWorker?function useMessageChannel(){var channel=new MessageChannel;return channel.port1.onmessage=flush,function(){return channel.port2.postMessage(0)}}():void 0===browserWindow?function attemptVertx(){try{var vertx=__webpack_require__(!function webpackMissingModule(){var e=new Error("Cannot find module 'vertx'");throw e.code="MODULE_NOT_FOUND",e}());return vertxNext=vertx.runOnLoop||vertx.runOnContext,function useVertxTimer(){return void 0!==vertxNext?function(){vertxNext(flush)}:useSetTimeout()}()}catch(e){return useSetTimeout()}}():useSetTimeout();var PROMISE_ID=Math.random().toString(36).substring(16);function noop(){}var GET_THEN_ERROR=new ErrorObject;function getThen(promise){try{return promise.then}catch(error){return GET_THEN_ERROR.error=error,GET_THEN_ERROR}}function handleMaybeThenable(promise,maybeThenable,then$$1){maybeThenable.constructor===promise.constructor&&then$$1===then&&maybeThenable.constructor.resolve===resolve$1?function handleOwnThenable(promise,thenable){1===thenable._state?fulfill(promise,thenable._result):2===thenable._state?reject(promise,thenable._result):subscribe(thenable,void 0,(function(value){return resolve(promise,value)}),(function(reason){return reject(promise,reason)}))}(promise,maybeThenable):then$$1===GET_THEN_ERROR?(reject(promise,GET_THEN_ERROR.error),GET_THEN_ERROR.error=null):void 0===then$$1?fulfill(promise,maybeThenable):isFunction(then$$1)?function handleForeignThenable(promise,thenable,then$$1){asap((function(promise){var sealed=!1,error=function tryThen(then$$1,value,fulfillmentHandler,rejectionHandler){try{then$$1.call(value,fulfillmentHandler,rejectionHandler)}catch(e){return e}}(then$$1,thenable,(function(value){sealed||(sealed=!0,thenable!==value?resolve(promise,value):fulfill(promise,value))}),(function(reason){sealed||(sealed=!0,reject(promise,reason))}),promise._label);!sealed&&error&&(sealed=!0,reject(promise,error))}),promise)}(promise,maybeThenable,then$$1):fulfill(promise,maybeThenable)}function resolve(promise,value){promise===value?reject(promise,function selfFulfillment(){return new TypeError("You cannot resolve a promise with itself")}()):function objectOrFunction(x){var type=typeof x;return null!==x&&("object"===type||"function"===type)}(value)?handleMaybeThenable(promise,value,getThen(value)):fulfill(promise,value)}function publishRejection(promise){promise._onerror&&promise._onerror(promise._result),publish(promise)}function fulfill(promise,value){void 0===promise._state&&(promise._result=value,promise._state=1,0!==promise._subscribers.length&&asap(publish,promise))}function reject(promise,reason){void 0===promise._state&&(promise._state=2,promise._result=reason,asap(publishRejection,promise))}function subscribe(parent,child,onFulfillment,onRejection){var _subscribers=parent._subscribers,length=_subscribers.length;parent._onerror=null,_subscribers[length]=child,_subscribers[length+1]=onFulfillment,_subscribers[length+2]=onRejection,0===length&&parent._state&&asap(publish,parent)}function publish(promise){var subscribers=promise._subscribers,settled=promise._state;if(0!==subscribers.length){for(var child=void 0,callback=void 0,detail=promise._result,i=0;i<subscribers.length;i+=3)child=subscribers[i],callback=subscribers[i+settled],child?invokeCallback(settled,child,callback,detail):callback(detail);promise._subscribers.length=0}}function ErrorObject(){this.error=null}var TRY_CATCH_ERROR=new ErrorObject;function invokeCallback(settled,promise,callback,detail){var hasCallback=isFunction(callback),value=void 0,error=void 0,succeeded=void 0,failed=void 0;if(hasCallback){if((value=function tryCatch(callback,detail){try{return callback(detail)}catch(e){return TRY_CATCH_ERROR.error=e,TRY_CATCH_ERROR}}(callback,detail))===TRY_CATCH_ERROR?(failed=!0,error=value.error,value.error=null):succeeded=!0,promise===value)return void reject(promise,function cannotReturnOwn(){return new TypeError("A promises callback cannot return that same promise.")}())}else value=detail,succeeded=!0;void 0!==promise._state||(hasCallback&&succeeded?resolve(promise,value):failed?reject(promise,error):1===settled?fulfill(promise,value):2===settled&&reject(promise,value))}var id=0;function makePromise(promise){promise[PROMISE_ID]=id++,promise._state=void 0,promise._result=void 0,promise._subscribers=[]}var Enumerator=function(){function Enumerator(Constructor,input){this._instanceConstructor=Constructor,this.promise=new Constructor(noop),this.promise[PROMISE_ID]||makePromise(this.promise),isArray(input)?(this.length=input.length,this._remaining=input.length,this._result=new Array(this.length),0===this.length?fulfill(this.promise,this._result):(this.length=this.length||0,this._enumerate(input),0===this._remaining&&fulfill(this.promise,this._result))):reject(this.promise,function validationError(){return new Error("Array Methods must be provided an Array")}())}return Enumerator.prototype._enumerate=function _enumerate(input){for(var i=0;void 0===this._state&&i<input.length;i++)this._eachEntry(input[i],i)},Enumerator.prototype._eachEntry=function _eachEntry(entry,i){var c=this._instanceConstructor,resolve$$1=c.resolve;if(resolve$$1===resolve$1){var _then=getThen(entry);if(_then===then&&void 0!==entry._state)this._settledAt(entry._state,i,entry._result);else if("function"!=typeof _then)this._remaining--,this._result[i]=entry;else if(c===Promise$2){var promise=new c(noop);handleMaybeThenable(promise,entry,_then),this._willSettleAt(promise,i)}else this._willSettleAt(new c((function(resolve$$1){return resolve$$1(entry)})),i)}else this._willSettleAt(resolve$$1(entry),i)},Enumerator.prototype._settledAt=function _settledAt(state,i,value){var promise=this.promise;void 0===promise._state&&(this._remaining--,2===state?reject(promise,value):this._result[i]=value),0===this._remaining&&fulfill(promise,this._result)},Enumerator.prototype._willSettleAt=function _willSettleAt(promise,i){var enumerator=this;subscribe(promise,void 0,(function(value){return enumerator._settledAt(1,i,value)}),(function(reason){return enumerator._settledAt(2,i,reason)}))},Enumerator}(),Promise$2=function(){function Promise(resolver){this[PROMISE_ID]=function nextId(){return id++}(),this._result=this._state=void 0,this._subscribers=[],noop!==resolver&&("function"!=typeof resolver&&function needsResolver(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof Promise?function initializePromise(promise,resolver){try{resolver((function resolvePromise(value){resolve(promise,value)}),(function rejectPromise(reason){reject(promise,reason)}))}catch(e){reject(promise,e)}}(this,resolver):function needsNew(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return Promise.prototype.catch=function _catch(onRejection){return this.then(null,onRejection)},Promise.prototype.finally=function _finally(callback){var constructor=this.constructor;return this.then((function(value){return constructor.resolve(callback()).then((function(){return value}))}),(function(reason){return constructor.resolve(callback()).then((function(){throw reason}))}))},Promise}();return Promise$2.prototype.then=then,Promise$2.all=function all(entries){return new Enumerator(this,entries).promise},Promise$2.race=function race(entries){var Constructor=this;return isArray(entries)?new Constructor((function(resolve,reject){for(var length=entries.length,i=0;i<length;i++)Constructor.resolve(entries[i]).then(resolve,reject)})):new Constructor((function(_,reject){return reject(new TypeError("You must pass an array to race."))}))},Promise$2.resolve=resolve$1,Promise$2.reject=function reject$1(reason){var promise=new this(noop);return reject(promise,reason),promise},Promise$2._setScheduler=function setScheduler(scheduleFn){customSchedulerFn=scheduleFn},Promise$2._setAsap=function setAsap(asapFn){asap=asapFn},Promise$2._asap=asap,Promise$2.polyfill=function polyfill(){var local=void 0;if(void 0!==global)local=global;else if("undefined"!=typeof self)local=self;else try{local=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var P=local.Promise;if(P){var promiseToString=null;try{promiseToString=Object.prototype.toString.call(P.resolve())}catch(e){}if("[object Promise]"===promiseToString&&!P.cast)return}local.Promise=Promise$2},Promise$2.Promise=Promise$2,Promise$2.polyfill(),Promise$2},module.exports=factory()}).call(this,__webpack_require__(2))},function(module,exports){var g;g=function(){return this}();try{g=g||new Function("return this")()}catch(e){"object"==typeof window&&(g=window)}module.exports=g},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _Errors__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4);__webpack_require__.d(__webpack_exports__,"AbortError",(function(){return _Errors__WEBPACK_IMPORTED_MODULE_0__.AbortError})),__webpack_require__.d(__webpack_exports__,"HttpError",(function(){return _Errors__WEBPACK_IMPORTED_MODULE_0__.HttpError})),__webpack_require__.d(__webpack_exports__,"TimeoutError",(function(){return _Errors__WEBPACK_IMPORTED_MODULE_0__.TimeoutError}));var _HttpClient__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5);__webpack_require__.d(__webpack_exports__,"HttpClient",(function(){return _HttpClient__WEBPACK_IMPORTED_MODULE_1__.HttpClient})),__webpack_require__.d(__webpack_exports__,"HttpResponse",(function(){return _HttpClient__WEBPACK_IMPORTED_MODULE_1__.HttpResponse}));var _DefaultHttpClient__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6);__webpack_require__.d(__webpack_exports__,"DefaultHttpClient",(function(){return _DefaultHttpClient__WEBPACK_IMPORTED_MODULE_2__.DefaultHttpClient}));var _HubConnection__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(12);__webpack_require__.d(__webpack_exports__,"HubConnection",(function(){return _HubConnection__WEBPACK_IMPORTED_MODULE_3__.HubConnection})),__webpack_require__.d(__webpack_exports__,"HubConnectionState",(function(){return _HubConnection__WEBPACK_IMPORTED_MODULE_3__.HubConnectionState}));var _HubConnectionBuilder__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(17);__webpack_require__.d(__webpack_exports__,"HubConnectionBuilder",(function(){return _HubConnectionBuilder__WEBPACK_IMPORTED_MODULE_4__.HubConnectionBuilder}));var _IHubProtocol__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(15);__webpack_require__.d(__webpack_exports__,"MessageType",(function(){return _IHubProtocol__WEBPACK_IMPORTED_MODULE_5__.MessageType}));var _ILogger__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(8);__webpack_require__.d(__webpack_exports__,"LogLevel",(function(){return _ILogger__WEBPACK_IMPORTED_MODULE_6__.LogLevel}));var _ITransport__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(20);__webpack_require__.d(__webpack_exports__,"HttpTransportType",(function(){return _ITransport__WEBPACK_IMPORTED_MODULE_7__.HttpTransportType})),__webpack_require__.d(__webpack_exports__,"TransferFormat",(function(){return _ITransport__WEBPACK_IMPORTED_MODULE_7__.TransferFormat}));var _Loggers__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(10);__webpack_require__.d(__webpack_exports__,"NullLogger",(function(){return _Loggers__WEBPACK_IMPORTED_MODULE_8__.NullLogger}));var _JsonHubProtocol__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(25);__webpack_require__.d(__webpack_exports__,"JsonHubProtocol",(function(){return _JsonHubProtocol__WEBPACK_IMPORTED_MODULE_9__.JsonHubProtocol}));var _Subject__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(16);__webpack_require__.d(__webpack_exports__,"Subject",(function(){return _Subject__WEBPACK_IMPORTED_MODULE_10__.Subject}));var _Utils__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(9);__webpack_require__.d(__webpack_exports__,"VERSION",(function(){return _Utils__WEBPACK_IMPORTED_MODULE_11__.VERSION}))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"HttpError",(function(){return HttpError})),__webpack_require__.d(__webpack_exports__,"TimeoutError",(function(){return TimeoutError})),__webpack_require__.d(__webpack_exports__,"AbortError",(function(){return AbortError}));var extendStatics,__extends=(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),HttpError=function(_super){function HttpError(errorMessage,statusCode){var _this=this,trueProto=this.constructor.prototype;return(_this=_super.call(this,errorMessage)||this).statusCode=statusCode,_this.__proto__=trueProto,_this}return __extends(HttpError,_super),HttpError}(Error),TimeoutError=function(_super){function TimeoutError(errorMessage){void 0===errorMessage&&(errorMessage="A timeout occurred.");var _this=this,trueProto=this.constructor.prototype;return(_this=_super.call(this,errorMessage)||this).__proto__=trueProto,_this}return __extends(TimeoutError,_super),TimeoutError}(Error),AbortError=function(_super){function AbortError(errorMessage){void 0===errorMessage&&(errorMessage="An abort occurred.");var _this=this,trueProto=this.constructor.prototype;return(_this=_super.call(this,errorMessage)||this).__proto__=trueProto,_this}return __extends(AbortError,_super),AbortError}(Error)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"HttpResponse",(function(){return HttpResponse})),__webpack_require__.d(__webpack_exports__,"HttpClient",(function(){return HttpClient}));var __assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},HttpResponse=function HttpResponse(statusCode,statusText,content){this.statusCode=statusCode,this.statusText=statusText,this.content=content},HttpClient=function(){function HttpClient(){}return HttpClient.prototype.get=function(url,options){return this.send(__assign({},options,{method:"GET",url:url}))},HttpClient.prototype.post=function(url,options){return this.send(__assign({},options,{method:"POST",url:url}))},HttpClient.prototype.delete=function(url,options){return this.send(__assign({},options,{method:"DELETE",url:url}))},HttpClient.prototype.getCookieString=function(url){return""},HttpClient}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"DefaultHttpClient",(function(){return DefaultHttpClient}));var extendStatics,_Errors__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4),_FetchHttpClient__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),_HttpClient__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5),_Utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),_XhrHttpClient__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(11),__extends=(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),DefaultHttpClient=function(_super){function DefaultHttpClient(logger){var _this=_super.call(this)||this;if("undefined"!=typeof fetch||_Utils__WEBPACK_IMPORTED_MODULE_3__.Platform.isNode)_this.httpClient=new _FetchHttpClient__WEBPACK_IMPORTED_MODULE_1__.FetchHttpClient(logger);else{if("undefined"==typeof XMLHttpRequest)throw new Error("No usable HttpClient found.");_this.httpClient=new _XhrHttpClient__WEBPACK_IMPORTED_MODULE_4__.XhrHttpClient(logger)}return _this}return __extends(DefaultHttpClient,_super),DefaultHttpClient.prototype.send=function(request){return request.abortSignal&&request.abortSignal.aborted?Promise.reject(new _Errors__WEBPACK_IMPORTED_MODULE_0__.AbortError):request.method?request.url?this.httpClient.send(request):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))},DefaultHttpClient.prototype.getCookieString=function(url){return this.httpClient.getCookieString(url)},DefaultHttpClient}(_HttpClient__WEBPACK_IMPORTED_MODULE_2__.HttpClient)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"FetchHttpClient",(function(){return FetchHttpClient}));var extendStatics,_Errors__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4),_HttpClient__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5),_ILogger__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8),_Utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),__extends=(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P((function(resolve){resolve(result.value)})).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))},__generator=function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}},FetchHttpClient=function(_super){function FetchHttpClient(logger){var _this=_super.call(this)||this;if(_this.logger=logger,"undefined"==typeof fetch){var requireFunc=require;_this.jar=new(requireFunc("tough-cookie").CookieJar),_this.fetchType=requireFunc("node-fetch"),_this.fetchType=requireFunc("fetch-cookie")(_this.fetchType,_this.jar),_this.abortControllerType=requireFunc("abort-controller")}else _this.fetchType=fetch.bind(self),_this.abortControllerType=AbortController;return _this}return __extends(FetchHttpClient,_super),FetchHttpClient.prototype.send=function(request){return __awaiter(this,void 0,void 0,(function(){var abortController,error,timeoutId,msTimeout,response,e_1,payload,_this=this;return __generator(this,(function(_a){switch(_a.label){case 0:if(request.abortSignal&&request.abortSignal.aborted)throw new _Errors__WEBPACK_IMPORTED_MODULE_0__.AbortError;if(!request.method)throw new Error("No method defined.");if(!request.url)throw new Error("No url defined.");abortController=new this.abortControllerType,request.abortSignal&&(request.abortSignal.onabort=function(){abortController.abort(),error=new _Errors__WEBPACK_IMPORTED_MODULE_0__.AbortError}),timeoutId=null,request.timeout&&(msTimeout=request.timeout,timeoutId=setTimeout((function(){abortController.abort(),_this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Warning,"Timeout from HTTP request."),error=new _Errors__WEBPACK_IMPORTED_MODULE_0__.TimeoutError}),msTimeout)),_a.label=1;case 1:return _a.trys.push([1,3,4,5]),[4,this.fetchType(request.url,{body:request.content,cache:"no-cache",credentials:!0===request.withCredentials?"include":"same-origin",headers:__assign({"Content-Type":"text/plain;charset=UTF-8","X-Requested-With":"XMLHttpRequest"},request.headers),method:request.method,mode:"cors",redirect:"manual",signal:abortController.signal})];case 2:return response=_a.sent(),[3,5];case 3:if(e_1=_a.sent(),error)throw error;throw this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Warning,"Error from HTTP request. "+e_1+"."),e_1;case 4:return timeoutId&&clearTimeout(timeoutId),request.abortSignal&&(request.abortSignal.onabort=null),[7];case 5:if(!response.ok)throw new _Errors__WEBPACK_IMPORTED_MODULE_0__.HttpError(response.statusText,response.status);return[4,function deserializeContent(response,responseType){var content;switch(responseType){case"arraybuffer":content=response.arrayBuffer();break;case"text":content=response.text();break;case"blob":case"document":case"json":throw new Error(responseType+" is not supported.");default:content=response.text()}return content}(response,request.responseType)];case 6:return payload=_a.sent(),[2,new _HttpClient__WEBPACK_IMPORTED_MODULE_1__.HttpResponse(response.status,response.statusText,payload)]}}))}))},FetchHttpClient.prototype.getCookieString=function(url){var cookies="";return _Utils__WEBPACK_IMPORTED_MODULE_3__.Platform.isNode&&this.jar&&this.jar.getCookies(url,(function(e,c){return cookies=c.join("; ")})),cookies},FetchHttpClient}(_HttpClient__WEBPACK_IMPORTED_MODULE_1__.HttpClient)},function(module,__webpack_exports__,__webpack_require__){"use strict";var LogLevel;__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"LogLevel",(function(){return LogLevel})),function(LogLevel){LogLevel[LogLevel.Trace=0]="Trace",LogLevel[LogLevel.Debug=1]="Debug",LogLevel[LogLevel.Information=2]="Information",LogLevel[LogLevel.Warning=3]="Warning",LogLevel[LogLevel.Error=4]="Error",LogLevel[LogLevel.Critical=5]="Critical",LogLevel[LogLevel.None=6]="None"}(LogLevel||(LogLevel={}))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"VERSION",(function(){return VERSION})),__webpack_require__.d(__webpack_exports__,"Arg",(function(){return Arg})),__webpack_require__.d(__webpack_exports__,"Platform",(function(){return Platform})),__webpack_require__.d(__webpack_exports__,"getDataDetail",(function(){return getDataDetail})),__webpack_require__.d(__webpack_exports__,"formatArrayBuffer",(function(){return formatArrayBuffer})),__webpack_require__.d(__webpack_exports__,"isArrayBuffer",(function(){return isArrayBuffer})),__webpack_require__.d(__webpack_exports__,"sendMessage",(function(){return sendMessage})),__webpack_require__.d(__webpack_exports__,"createLogger",(function(){return createLogger})),__webpack_require__.d(__webpack_exports__,"SubjectSubscription",(function(){return SubjectSubscription})),__webpack_require__.d(__webpack_exports__,"ConsoleLogger",(function(){return ConsoleLogger})),__webpack_require__.d(__webpack_exports__,"getUserAgentHeader",(function(){return getUserAgentHeader})),__webpack_require__.d(__webpack_exports__,"constructUserAgent",(function(){return constructUserAgent}));var _ILogger__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(8),_Loggers__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(10),__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P((function(resolve){resolve(result.value)})).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))},__generator=function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}},VERSION="5.0.7",Arg=function(){function Arg(){}return Arg.isRequired=function(val,name){if(null==val)throw new Error("The '"+name+"' argument is required.")},Arg.isNotEmpty=function(val,name){if(!val||val.match(/^\s*$/))throw new Error("The '"+name+"' argument should not be empty.")},Arg.isIn=function(val,values,name){if(!(val in values))throw new Error("Unknown "+name+" value: "+val+".")},Arg}(),Platform=function(){function Platform(){}return Object.defineProperty(Platform,"isBrowser",{get:function(){return"object"==typeof window},enumerable:!0,configurable:!0}),Object.defineProperty(Platform,"isWebWorker",{get:function(){return"object"==typeof self&&"importScripts"in self},enumerable:!0,configurable:!0}),Object.defineProperty(Platform,"isNode",{get:function(){return!this.isBrowser&&!this.isWebWorker},enumerable:!0,configurable:!0}),Platform}();function getDataDetail(data,includeContent){var detail="";return isArrayBuffer(data)?(detail="Binary data of length "+data.byteLength,includeContent&&(detail+=". Content: '"+formatArrayBuffer(data)+"'")):"string"==typeof data&&(detail="String data of length "+data.length,includeContent&&(detail+=". Content: '"+data+"'")),detail}function formatArrayBuffer(data){var view=new Uint8Array(data),str="";return view.forEach((function(num){str+="0x"+(num<16?"0":"")+num.toString(16)+" "})),str.substr(0,str.length-1)}function isArrayBuffer(val){return val&&"undefined"!=typeof ArrayBuffer&&(val instanceof ArrayBuffer||val.constructor&&"ArrayBuffer"===val.constructor.name)}function sendMessage(logger,transportName,httpClient,url,accessTokenFactory,content,logMessageContent,withCredentials,defaultHeaders){return __awaiter(this,void 0,void 0,(function(){var _a,headers,token,_b,name,value,responseType,response;return __generator(this,(function(_c){switch(_c.label){case 0:return headers={},accessTokenFactory?[4,accessTokenFactory()]:[3,2];case 1:(token=_c.sent())&&((_a={}).Authorization="Bearer "+token,headers=_a),_c.label=2;case 2:return _b=getUserAgentHeader(),name=_b[0],value=_b[1],headers[name]=value,logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Trace,"("+transportName+" transport) sending data. "+getDataDetail(content,logMessageContent)+"."),responseType=isArrayBuffer(content)?"arraybuffer":"text",[4,httpClient.post(url,{content:content,headers:__assign({},headers,defaultHeaders),responseType:responseType,withCredentials:withCredentials})];case 3:return response=_c.sent(),logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Trace,"("+transportName+" transport) request complete. Response status: "+response.statusCode+"."),[2]}}))}))}function createLogger(logger){return void 0===logger?new ConsoleLogger(_ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Information):null===logger?_Loggers__WEBPACK_IMPORTED_MODULE_1__.NullLogger.instance:logger.log?logger:new ConsoleLogger(logger)}var SubjectSubscription=function(){function SubjectSubscription(subject,observer){this.subject=subject,this.observer=observer}return SubjectSubscription.prototype.dispose=function(){var index=this.subject.observers.indexOf(this.observer);index>-1&&this.subject.observers.splice(index,1),0===this.subject.observers.length&&this.subject.cancelCallback&&this.subject.cancelCallback().catch((function(_){}))},SubjectSubscription}(),ConsoleLogger=function(){function ConsoleLogger(minimumLogLevel){this.minimumLogLevel=minimumLogLevel,this.outputConsole=console}return ConsoleLogger.prototype.log=function(logLevel,message){if(logLevel>=this.minimumLogLevel)switch(logLevel){case _ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Critical:case _ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Error:this.outputConsole.error("["+(new Date).toISOString()+"] "+_ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel[logLevel]+": "+message);break;case _ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Warning:this.outputConsole.warn("["+(new Date).toISOString()+"] "+_ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel[logLevel]+": "+message);break;case _ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Information:this.outputConsole.info("["+(new Date).toISOString()+"] "+_ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel[logLevel]+": "+message);break;default:this.outputConsole.log("["+(new Date).toISOString()+"] "+_ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel[logLevel]+": "+message)}},ConsoleLogger}();function getUserAgentHeader(){var userAgentHeaderName="X-SignalR-User-Agent";return Platform.isNode&&(userAgentHeaderName="User-Agent"),[userAgentHeaderName,constructUserAgent(VERSION,getOsName(),getRuntime(),getRuntimeVersion())]}function constructUserAgent(version,os,runtime,runtimeVersion){var userAgent="Microsoft SignalR/",majorAndMinor=version.split(".");return userAgent+=majorAndMinor[0]+"."+majorAndMinor[1],userAgent+=" ("+version+"; ",userAgent+=os&&""!==os?os+"; ":"Unknown OS; ",userAgent+=""+runtime,userAgent+=runtimeVersion?"; "+runtimeVersion:"; Unknown Runtime Version",userAgent+=")"}function getOsName(){if(!Platform.isNode)return"";switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}}function getRuntimeVersion(){if(Platform.isNode)return process.versions.node}function getRuntime(){return Platform.isNode?"NodeJS":"Browser"}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NullLogger",(function(){return NullLogger}));var NullLogger=function(){function NullLogger(){}return NullLogger.prototype.log=function(_logLevel,_message){},NullLogger.instance=new NullLogger,NullLogger}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"XhrHttpClient",(function(){return XhrHttpClient}));var extendStatics,_Errors__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4),_HttpClient__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5),_ILogger__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8),__extends=(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),XhrHttpClient=function(_super){function XhrHttpClient(logger){var _this=_super.call(this)||this;return _this.logger=logger,_this}return __extends(XhrHttpClient,_super),XhrHttpClient.prototype.send=function(request){var _this=this;return request.abortSignal&&request.abortSignal.aborted?Promise.reject(new _Errors__WEBPACK_IMPORTED_MODULE_0__.AbortError):request.method?request.url?new Promise((function(resolve,reject){var xhr=new XMLHttpRequest;xhr.open(request.method,request.url,!0),xhr.withCredentials=void 0===request.withCredentials||request.withCredentials,xhr.setRequestHeader("X-Requested-With","XMLHttpRequest"),xhr.setRequestHeader("Content-Type","text/plain;charset=UTF-8");var headers=request.headers;headers&&Object.keys(headers).forEach((function(header){xhr.setRequestHeader(header,headers[header])})),request.responseType&&(xhr.responseType=request.responseType),request.abortSignal&&(request.abortSignal.onabort=function(){xhr.abort(),reject(new _Errors__WEBPACK_IMPORTED_MODULE_0__.AbortError)}),request.timeout&&(xhr.timeout=request.timeout),xhr.onload=function(){request.abortSignal&&(request.abortSignal.onabort=null),xhr.status>=200&&xhr.status<300?resolve(new _HttpClient__WEBPACK_IMPORTED_MODULE_1__.HttpResponse(xhr.status,xhr.statusText,xhr.response||xhr.responseText)):reject(new _Errors__WEBPACK_IMPORTED_MODULE_0__.HttpError(xhr.statusText,xhr.status))},xhr.onerror=function(){_this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Warning,"Error from HTTP request. "+xhr.status+": "+xhr.statusText+"."),reject(new _Errors__WEBPACK_IMPORTED_MODULE_0__.HttpError(xhr.statusText,xhr.status))},xhr.ontimeout=function(){_this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Warning,"Timeout from HTTP request."),reject(new _Errors__WEBPACK_IMPORTED_MODULE_0__.TimeoutError)},xhr.send(request.content||"")})):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))},XhrHttpClient}(_HttpClient__WEBPACK_IMPORTED_MODULE_1__.HttpClient)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"HubConnectionState",(function(){return HubConnectionState})),__webpack_require__.d(__webpack_exports__,"HubConnection",(function(){return HubConnection}));var HubConnectionState,_HandshakeProtocol__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(13),_IHubProtocol__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(15),_ILogger__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8),_Subject__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(16),_Utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9),__awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P((function(resolve){resolve(result.value)})).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))},__generator=function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};!function(HubConnectionState){HubConnectionState.Disconnected="Disconnected",HubConnectionState.Connecting="Connecting",HubConnectionState.Connected="Connected",HubConnectionState.Disconnecting="Disconnecting",HubConnectionState.Reconnecting="Reconnecting"}(HubConnectionState||(HubConnectionState={}));var HubConnection=function(){function HubConnection(connection,logger,protocol,reconnectPolicy){var _this=this;this.nextKeepAlive=0,_Utils__WEBPACK_IMPORTED_MODULE_4__.Arg.isRequired(connection,"connection"),_Utils__WEBPACK_IMPORTED_MODULE_4__.Arg.isRequired(logger,"logger"),_Utils__WEBPACK_IMPORTED_MODULE_4__.Arg.isRequired(protocol,"protocol"),this.serverTimeoutInMilliseconds=3e4,this.keepAliveIntervalInMilliseconds=15e3,this.logger=logger,this.protocol=protocol,this.connection=connection,this.reconnectPolicy=reconnectPolicy,this.handshakeProtocol=new _HandshakeProtocol__WEBPACK_IMPORTED_MODULE_0__.HandshakeProtocol,this.connection.onreceive=function(data){return _this.processIncomingData(data)},this.connection.onclose=function(error){return _this.connectionClosed(error)},this.callbacks={},this.methods={},this.closedCallbacks=[],this.reconnectingCallbacks=[],this.reconnectedCallbacks=[],this.invocationId=0,this.receivedHandshakeResponse=!1,this.connectionState=HubConnectionState.Disconnected,this.connectionStarted=!1,this.cachedPingMessage=this.protocol.writeMessage({type:_IHubProtocol__WEBPACK_IMPORTED_MODULE_1__.MessageType.Ping})}return HubConnection.create=function(connection,logger,protocol,reconnectPolicy){return new HubConnection(connection,logger,protocol,reconnectPolicy)},Object.defineProperty(HubConnection.prototype,"state",{get:function(){return this.connectionState},enumerable:!0,configurable:!0}),Object.defineProperty(HubConnection.prototype,"connectionId",{get:function(){return this.connection&&this.connection.connectionId||null},enumerable:!0,configurable:!0}),Object.defineProperty(HubConnection.prototype,"baseUrl",{get:function(){return this.connection.baseUrl||""},set:function(url){if(this.connectionState!==HubConnectionState.Disconnected&&this.connectionState!==HubConnectionState.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!url)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=url},enumerable:!0,configurable:!0}),HubConnection.prototype.start=function(){return this.startPromise=this.startWithStateTransitions(),this.startPromise},HubConnection.prototype.startWithStateTransitions=function(){return __awaiter(this,void 0,void 0,(function(){var e_1;return __generator(this,(function(_a){switch(_a.label){case 0:if(this.connectionState!==HubConnectionState.Disconnected)return[2,Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."))];this.connectionState=HubConnectionState.Connecting,this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Debug,"Starting HubConnection."),_a.label=1;case 1:return _a.trys.push([1,3,,4]),[4,this.startInternal()];case 2:return _a.sent(),this.connectionState=HubConnectionState.Connected,this.connectionStarted=!0,this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Debug,"HubConnection connected successfully."),[3,4];case 3:return e_1=_a.sent(),this.connectionState=HubConnectionState.Disconnected,this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Debug,"HubConnection failed to start successfully because of error '"+e_1+"'."),[2,Promise.reject(e_1)];case 4:return[2]}}))}))},HubConnection.prototype.startInternal=function(){return __awaiter(this,void 0,void 0,(function(){var handshakePromise,handshakeRequest,e_2,_this=this;return __generator(this,(function(_a){switch(_a.label){case 0:return this.stopDuringStartError=void 0,this.receivedHandshakeResponse=!1,handshakePromise=new Promise((function(resolve,reject){_this.handshakeResolver=resolve,_this.handshakeRejecter=reject})),[4,this.connection.start(this.protocol.transferFormat)];case 1:_a.sent(),_a.label=2;case 2:return _a.trys.push([2,5,,7]),handshakeRequest={protocol:this.protocol.name,version:this.protocol.version},this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Debug,"Sending handshake request."),[4,this.sendMessage(this.handshakeProtocol.writeHandshakeRequest(handshakeRequest))];case 3:return _a.sent(),this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Information,"Using HubProtocol '"+this.protocol.name+"'."),this.cleanupTimeout(),this.resetTimeoutPeriod(),this.resetKeepAliveInterval(),[4,handshakePromise];case 4:if(_a.sent(),this.stopDuringStartError)throw this.stopDuringStartError;return[3,7];case 5:return e_2=_a.sent(),this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Debug,"Hub handshake failed with error '"+e_2+"' during start(). Stopping HubConnection."),this.cleanupTimeout(),this.cleanupPingTimer(),[4,this.connection.stop(e_2)];case 6:throw _a.sent(),e_2;case 7:return[2]}}))}))},HubConnection.prototype.stop=function(){return __awaiter(this,void 0,void 0,(function(){var startPromise;return __generator(this,(function(_a){switch(_a.label){case 0:return startPromise=this.startPromise,this.stopPromise=this.stopInternal(),[4,this.stopPromise];case 1:_a.sent(),_a.label=2;case 2:return _a.trys.push([2,4,,5]),[4,startPromise];case 3:return _a.sent(),[3,5];case 4:return _a.sent(),[3,5];case 5:return[2]}}))}))},HubConnection.prototype.stopInternal=function(error){return this.connectionState===HubConnectionState.Disconnected?(this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Debug,"Call to HubConnection.stop("+error+") ignored because it is already in the disconnected state."),Promise.resolve()):this.connectionState===HubConnectionState.Disconnecting?(this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Debug,"Call to HttpConnection.stop("+error+") ignored because the connection is already in the disconnecting state."),this.stopPromise):(this.connectionState=HubConnectionState.Disconnecting,this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Debug,"Stopping HubConnection."),this.reconnectDelayHandle?(this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this.reconnectDelayHandle),this.reconnectDelayHandle=void 0,this.completeClose(),Promise.resolve()):(this.cleanupTimeout(),this.cleanupPingTimer(),this.stopDuringStartError=error||new Error("The connection was stopped before the hub handshake could complete."),this.connection.stop(error)))},HubConnection.prototype.stream=function(methodName){for(var _this=this,args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];var promiseQueue,_a=this.replaceStreamingParams(args),streams=_a[0],streamIds=_a[1],invocationDescriptor=this.createStreamInvocation(methodName,args,streamIds),subject=new _Subject__WEBPACK_IMPORTED_MODULE_3__.Subject;return subject.cancelCallback=function(){var cancelInvocation=_this.createCancelInvocation(invocationDescriptor.invocationId);return delete _this.callbacks[invocationDescriptor.invocationId],promiseQueue.then((function(){return _this.sendWithProtocol(cancelInvocation)}))},this.callbacks[invocationDescriptor.invocationId]=function(invocationEvent,error){error?subject.error(error):invocationEvent&&(invocationEvent.type===_IHubProtocol__WEBPACK_IMPORTED_MODULE_1__.MessageType.Completion?invocationEvent.error?subject.error(new Error(invocationEvent.error)):subject.complete():subject.next(invocationEvent.item))},promiseQueue=this.sendWithProtocol(invocationDescriptor).catch((function(e){subject.error(e),delete _this.callbacks[invocationDescriptor.invocationId]})),this.launchStreams(streams,promiseQueue),subject},HubConnection.prototype.sendMessage=function(message){return this.resetKeepAliveInterval(),this.connection.send(message)},HubConnection.prototype.sendWithProtocol=function(message){return this.sendMessage(this.protocol.writeMessage(message))},HubConnection.prototype.send=function(methodName){for(var args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];var _a=this.replaceStreamingParams(args),streams=_a[0],streamIds=_a[1],sendPromise=this.sendWithProtocol(this.createInvocation(methodName,args,!0,streamIds));return this.launchStreams(streams,sendPromise),sendPromise},HubConnection.prototype.invoke=function(methodName){for(var _this=this,args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];var _a=this.replaceStreamingParams(args),streams=_a[0],streamIds=_a[1],invocationDescriptor=this.createInvocation(methodName,args,!1,streamIds),p=new Promise((function(resolve,reject){_this.callbacks[invocationDescriptor.invocationId]=function(invocationEvent,error){error?reject(error):invocationEvent&&(invocationEvent.type===_IHubProtocol__WEBPACK_IMPORTED_MODULE_1__.MessageType.Completion?invocationEvent.error?reject(new Error(invocationEvent.error)):resolve(invocationEvent.result):reject(new Error("Unexpected message type: "+invocationEvent.type)))};var promiseQueue=_this.sendWithProtocol(invocationDescriptor).catch((function(e){reject(e),delete _this.callbacks[invocationDescriptor.invocationId]}));_this.launchStreams(streams,promiseQueue)}));return p},HubConnection.prototype.on=function(methodName,newMethod){methodName&&newMethod&&(methodName=methodName.toLowerCase(),this.methods[methodName]||(this.methods[methodName]=[]),-1===this.methods[methodName].indexOf(newMethod)&&this.methods[methodName].push(newMethod))},HubConnection.prototype.off=function(methodName,method){if(methodName){methodName=methodName.toLowerCase();var handlers=this.methods[methodName];if(handlers)if(method){var removeIdx=handlers.indexOf(method);-1!==removeIdx&&(handlers.splice(removeIdx,1),0===handlers.length&&delete this.methods[methodName])}else delete this.methods[methodName]}},HubConnection.prototype.onclose=function(callback){callback&&this.closedCallbacks.push(callback)},HubConnection.prototype.onreconnecting=function(callback){callback&&this.reconnectingCallbacks.push(callback)},HubConnection.prototype.onreconnected=function(callback){callback&&this.reconnectedCallbacks.push(callback)},HubConnection.prototype.processIncomingData=function(data){if(this.cleanupTimeout(),this.receivedHandshakeResponse||(data=this.processHandshakeResponse(data),this.receivedHandshakeResponse=!0),data)for(var _i=0,messages_1=this.protocol.parseMessages(data,this.logger);_i<messages_1.length;_i++){var message=messages_1[_i];switch(message.type){case _IHubProtocol__WEBPACK_IMPORTED_MODULE_1__.MessageType.Invocation:this.invokeClientMethod(message);break;case _IHubProtocol__WEBPACK_IMPORTED_MODULE_1__.MessageType.StreamItem:case _IHubProtocol__WEBPACK_IMPORTED_MODULE_1__.MessageType.Completion:var callback=this.callbacks[message.invocationId];callback&&(message.type===_IHubProtocol__WEBPACK_IMPORTED_MODULE_1__.MessageType.Completion&&delete this.callbacks[message.invocationId],callback(message));break;case _IHubProtocol__WEBPACK_IMPORTED_MODULE_1__.MessageType.Ping:break;case _IHubProtocol__WEBPACK_IMPORTED_MODULE_1__.MessageType.Close:this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Information,"Close message received from server.");var error=message.error?new Error("Server returned an error on close: "+message.error):void 0;!0===message.allowReconnect?this.connection.stop(error):this.stopPromise=this.stopInternal(error);break;default:this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Warning,"Invalid message type: "+message.type+".")}}this.resetTimeoutPeriod()},HubConnection.prototype.processHandshakeResponse=function(data){var _a,responseMessage,remainingData;try{remainingData=(_a=this.handshakeProtocol.parseHandshakeResponse(data))[0],responseMessage=_a[1]}catch(e){var message="Error parsing handshake response: "+e;this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Error,message);var error=new Error(message);throw this.handshakeRejecter(error),error}if(responseMessage.error){message="Server returned handshake error: "+responseMessage.error;this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Error,message);error=new Error(message);throw this.handshakeRejecter(error),error}return this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Debug,"Server handshake complete."),this.handshakeResolver(),remainingData},HubConnection.prototype.resetKeepAliveInterval=function(){this.connection.features.inherentKeepAlive||(this.nextKeepAlive=(new Date).getTime()+this.keepAliveIntervalInMilliseconds,this.cleanupPingTimer())},HubConnection.prototype.resetTimeoutPeriod=function(){var _this=this;if(!(this.connection.features&&this.connection.features.inherentKeepAlive||(this.timeoutHandle=setTimeout((function(){return _this.serverTimeout()}),this.serverTimeoutInMilliseconds),void 0!==this.pingServerHandle))){var nextPing=this.nextKeepAlive-(new Date).getTime();nextPing<0&&(nextPing=0),this.pingServerHandle=setTimeout((function(){return __awaiter(_this,void 0,void 0,(function(){return __generator(this,(function(_b){switch(_b.label){case 0:if(this.connectionState!==HubConnectionState.Connected)return[3,4];_b.label=1;case 1:return _b.trys.push([1,3,,4]),[4,this.sendMessage(this.cachedPingMessage)];case 2:return _b.sent(),[3,4];case 3:return _b.sent(),this.cleanupPingTimer(),[3,4];case 4:return[2]}}))}))}),nextPing)}},HubConnection.prototype.serverTimeout=function(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))},HubConnection.prototype.invokeClientMethod=function(invocationMessage){var _this=this,methods=this.methods[invocationMessage.target.toLowerCase()];if(methods){try{methods.forEach((function(m){return m.apply(_this,invocationMessage.arguments)}))}catch(e){this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Error,"A callback for the method "+invocationMessage.target.toLowerCase()+" threw error '"+e+"'.")}if(invocationMessage.invocationId){var message="Server requested a response, which is not supported in this version of the client.";this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Error,message),this.stopPromise=this.stopInternal(new Error(message))}}else this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Warning,"No client method with the name '"+invocationMessage.target+"' found.")},HubConnection.prototype.connectionClosed=function(error){this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Debug,"HubConnection.connectionClosed("+error+") called while in state "+this.connectionState+"."),this.stopDuringStartError=this.stopDuringStartError||error||new Error("The underlying connection was closed before the hub handshake could complete."),this.handshakeResolver&&this.handshakeResolver(),this.cancelCallbacksWithError(error||new Error("Invocation canceled due to the underlying connection being closed.")),this.cleanupTimeout(),this.cleanupPingTimer(),this.connectionState===HubConnectionState.Disconnecting?this.completeClose(error):this.connectionState===HubConnectionState.Connected&&this.reconnectPolicy?this.reconnect(error):this.connectionState===HubConnectionState.Connected&&this.completeClose(error)},HubConnection.prototype.completeClose=function(error){var _this=this;if(this.connectionStarted){this.connectionState=HubConnectionState.Disconnected,this.connectionStarted=!1;try{this.closedCallbacks.forEach((function(c){return c.apply(_this,[error])}))}catch(e){this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Error,"An onclose callback called with error '"+error+"' threw error '"+e+"'.")}}},HubConnection.prototype.reconnect=function(error){return __awaiter(this,void 0,void 0,(function(){var reconnectStartTime,previousReconnectAttempts,retryError,nextRetryDelay,e_4,_this=this;return __generator(this,(function(_a){switch(_a.label){case 0:if(reconnectStartTime=Date.now(),previousReconnectAttempts=0,retryError=void 0!==error?error:new Error("Attempting to reconnect due to a unknown error."),null===(nextRetryDelay=this.getNextRetryDelay(previousReconnectAttempts++,0,retryError)))return this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),this.completeClose(error),[2];if(this.connectionState=HubConnectionState.Reconnecting,error?this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Information,"Connection reconnecting because of error '"+error+"'."):this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Information,"Connection reconnecting."),this.onreconnecting){try{this.reconnectingCallbacks.forEach((function(c){return c.apply(_this,[error])}))}catch(e){this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Error,"An onreconnecting callback called with error '"+error+"' threw error '"+e+"'.")}if(this.connectionState!==HubConnectionState.Reconnecting)return this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting."),[2]}_a.label=1;case 1:return null===nextRetryDelay?[3,7]:(this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Information,"Reconnect attempt number "+previousReconnectAttempts+" will start in "+nextRetryDelay+" ms."),[4,new Promise((function(resolve){_this.reconnectDelayHandle=setTimeout(resolve,nextRetryDelay)}))]);case 2:if(_a.sent(),this.reconnectDelayHandle=void 0,this.connectionState!==HubConnectionState.Reconnecting)return this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting."),[2];_a.label=3;case 3:return _a.trys.push([3,5,,6]),[4,this.startInternal()];case 4:if(_a.sent(),this.connectionState=HubConnectionState.Connected,this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Information,"HubConnection reconnected successfully."),this.onreconnected)try{this.reconnectedCallbacks.forEach((function(c){return c.apply(_this,[_this.connection.connectionId])}))}catch(e){this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Error,"An onreconnected callback called with connectionId '"+this.connection.connectionId+"; threw error '"+e+"'.")}return[2];case 5:return e_4=_a.sent(),this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Information,"Reconnect attempt failed because of error '"+e_4+"'."),this.connectionState!==HubConnectionState.Reconnecting?(this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Debug,"Connection moved to the '"+this.connectionState+"' from the reconnecting state during reconnect attempt. Done reconnecting."),this.connectionState===HubConnectionState.Disconnecting&&this.completeClose(),[2]):(retryError=e_4 instanceof Error?e_4:new Error(e_4.toString()),nextRetryDelay=this.getNextRetryDelay(previousReconnectAttempts++,Date.now()-reconnectStartTime,retryError),[3,6]);case 6:return[3,1];case 7:return this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Information,"Reconnect retries have been exhausted after "+(Date.now()-reconnectStartTime)+" ms and "+previousReconnectAttempts+" failed attempts. Connection disconnecting."),this.completeClose(),[2]}}))}))},HubConnection.prototype.getNextRetryDelay=function(previousRetryCount,elapsedMilliseconds,retryReason){try{return this.reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:elapsedMilliseconds,previousRetryCount:previousRetryCount,retryReason:retryReason})}catch(e){return this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Error,"IRetryPolicy.nextRetryDelayInMilliseconds("+previousRetryCount+", "+elapsedMilliseconds+") threw error '"+e+"'."),null}},HubConnection.prototype.cancelCallbacksWithError=function(error){var callbacks=this.callbacks;this.callbacks={},Object.keys(callbacks).forEach((function(key){(0,callbacks[key])(null,error)}))},HubConnection.prototype.cleanupPingTimer=function(){this.pingServerHandle&&(clearTimeout(this.pingServerHandle),this.pingServerHandle=void 0)},HubConnection.prototype.cleanupTimeout=function(){this.timeoutHandle&&clearTimeout(this.timeoutHandle)},HubConnection.prototype.createInvocation=function(methodName,args,nonblocking,streamIds){if(nonblocking)return 0!==streamIds.length?{arguments:args,streamIds:streamIds,target:methodName,type:_IHubProtocol__WEBPACK_IMPORTED_MODULE_1__.MessageType.Invocation}:{arguments:args,target:methodName,type:_IHubProtocol__WEBPACK_IMPORTED_MODULE_1__.MessageType.Invocation};var invocationId=this.invocationId;return this.invocationId++,0!==streamIds.length?{arguments:args,invocationId:invocationId.toString(),streamIds:streamIds,target:methodName,type:_IHubProtocol__WEBPACK_IMPORTED_MODULE_1__.MessageType.Invocation}:{arguments:args,invocationId:invocationId.toString(),target:methodName,type:_IHubProtocol__WEBPACK_IMPORTED_MODULE_1__.MessageType.Invocation}},HubConnection.prototype.launchStreams=function(streams,promiseQueue){var _this=this;if(0!==streams.length){promiseQueue||(promiseQueue=Promise.resolve());var _loop_1=function(streamId){streams[streamId].subscribe({complete:function(){promiseQueue=promiseQueue.then((function(){return _this.sendWithProtocol(_this.createCompletionMessage(streamId))}))},error:function(err){var message;message=err instanceof Error?err.message:err&&err.toString?err.toString():"Unknown error",promiseQueue=promiseQueue.then((function(){return _this.sendWithProtocol(_this.createCompletionMessage(streamId,message))}))},next:function(item){promiseQueue=promiseQueue.then((function(){return _this.sendWithProtocol(_this.createStreamItemMessage(streamId,item))}))}})};for(var streamId in streams)_loop_1(streamId)}},HubConnection.prototype.replaceStreamingParams=function(args){for(var streams=[],streamIds=[],i=0;i<args.length;i++){var argument=args[i];if(this.isObservable(argument)){var streamId=this.invocationId;this.invocationId++,streams[streamId]=argument,streamIds.push(streamId.toString()),args.splice(i,1)}}return[streams,streamIds]},HubConnection.prototype.isObservable=function(arg){return arg&&arg.subscribe&&"function"==typeof arg.subscribe},HubConnection.prototype.createStreamInvocation=function(methodName,args,streamIds){var invocationId=this.invocationId;return this.invocationId++,0!==streamIds.length?{arguments:args,invocationId:invocationId.toString(),streamIds:streamIds,target:methodName,type:_IHubProtocol__WEBPACK_IMPORTED_MODULE_1__.MessageType.StreamInvocation}:{arguments:args,invocationId:invocationId.toString(),target:methodName,type:_IHubProtocol__WEBPACK_IMPORTED_MODULE_1__.MessageType.StreamInvocation}},HubConnection.prototype.createCancelInvocation=function(id){return{invocationId:id,type:_IHubProtocol__WEBPACK_IMPORTED_MODULE_1__.MessageType.CancelInvocation}},HubConnection.prototype.createStreamItemMessage=function(id,item){return{invocationId:id,item:item,type:_IHubProtocol__WEBPACK_IMPORTED_MODULE_1__.MessageType.StreamItem}},HubConnection.prototype.createCompletionMessage=function(id,error,result){return error?{error:error,invocationId:id,type:_IHubProtocol__WEBPACK_IMPORTED_MODULE_1__.MessageType.Completion}:{invocationId:id,result:result,type:_IHubProtocol__WEBPACK_IMPORTED_MODULE_1__.MessageType.Completion}},HubConnection}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"HandshakeProtocol",(function(){return HandshakeProtocol}));var _TextMessageFormat__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(14),_Utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9),HandshakeProtocol=function(){function HandshakeProtocol(){}return HandshakeProtocol.prototype.writeHandshakeRequest=function(handshakeRequest){return _TextMessageFormat__WEBPACK_IMPORTED_MODULE_0__.TextMessageFormat.write(JSON.stringify(handshakeRequest))},HandshakeProtocol.prototype.parseHandshakeResponse=function(data){var messageData,remainingData;if(Object(_Utils__WEBPACK_IMPORTED_MODULE_1__.isArrayBuffer)(data)||"undefined"!=typeof Buffer&&data instanceof Buffer){var binaryData=new Uint8Array(data);if(-1===(separatorIndex=binaryData.indexOf(_TextMessageFormat__WEBPACK_IMPORTED_MODULE_0__.TextMessageFormat.RecordSeparatorCode)))throw new Error("Message is incomplete.");var responseLength=separatorIndex+1;messageData=String.fromCharCode.apply(null,binaryData.slice(0,responseLength)),remainingData=binaryData.byteLength>responseLength?binaryData.slice(responseLength).buffer:null}else{var separatorIndex,textData=data;if(-1===(separatorIndex=textData.indexOf(_TextMessageFormat__WEBPACK_IMPORTED_MODULE_0__.TextMessageFormat.RecordSeparator)))throw new Error("Message is incomplete.");responseLength=separatorIndex+1;messageData=textData.substring(0,responseLength),remainingData=textData.length>responseLength?textData.substring(responseLength):null}var messages=_TextMessageFormat__WEBPACK_IMPORTED_MODULE_0__.TextMessageFormat.parse(messageData),response=JSON.parse(messages[0]);if(response.type)throw new Error("Expected a handshake response from the server.");return[remainingData,response]},HandshakeProtocol}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"TextMessageFormat",(function(){return TextMessageFormat}));var TextMessageFormat=function(){function TextMessageFormat(){}return TextMessageFormat.write=function(output){return""+output+TextMessageFormat.RecordSeparator},TextMessageFormat.parse=function(input){if(input[input.length-1]!==TextMessageFormat.RecordSeparator)throw new Error("Message is incomplete.");var messages=input.split(TextMessageFormat.RecordSeparator);return messages.pop(),messages},TextMessageFormat.RecordSeparatorCode=30,TextMessageFormat.RecordSeparator=String.fromCharCode(TextMessageFormat.RecordSeparatorCode),TextMessageFormat}()},function(module,__webpack_exports__,__webpack_require__){"use strict";var MessageType;__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"MessageType",(function(){return MessageType})),function(MessageType){MessageType[MessageType.Invocation=1]="Invocation",MessageType[MessageType.StreamItem=2]="StreamItem",MessageType[MessageType.Completion=3]="Completion",MessageType[MessageType.StreamInvocation=4]="StreamInvocation",MessageType[MessageType.CancelInvocation=5]="CancelInvocation",MessageType[MessageType.Ping=6]="Ping",MessageType[MessageType.Close=7]="Close"}(MessageType||(MessageType={}))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Subject",(function(){return Subject}));var _Utils__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9),Subject=function(){function Subject(){this.observers=[]}return Subject.prototype.next=function(item){for(var _i=0,_a=this.observers;_i<_a.length;_i++){_a[_i].next(item)}},Subject.prototype.error=function(err){for(var _i=0,_a=this.observers;_i<_a.length;_i++){var observer=_a[_i];observer.error&&observer.error(err)}},Subject.prototype.complete=function(){for(var _i=0,_a=this.observers;_i<_a.length;_i++){var observer=_a[_i];observer.complete&&observer.complete()}},Subject.prototype.subscribe=function(observer){return this.observers.push(observer),new _Utils__WEBPACK_IMPORTED_MODULE_0__.SubjectSubscription(this,observer)},Subject}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"HubConnectionBuilder",(function(){return HubConnectionBuilder}));var _DefaultReconnectPolicy__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(18),_HttpConnection__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(19),_HubConnection__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(12),_ILogger__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8),_JsonHubProtocol__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(25),_Loggers__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(10),_Utils__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(9),__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},LogLevelNameMapping={trace:_ILogger__WEBPACK_IMPORTED_MODULE_3__.LogLevel.Trace,debug:_ILogger__WEBPACK_IMPORTED_MODULE_3__.LogLevel.Debug,info:_ILogger__WEBPACK_IMPORTED_MODULE_3__.LogLevel.Information,information:_ILogger__WEBPACK_IMPORTED_MODULE_3__.LogLevel.Information,warn:_ILogger__WEBPACK_IMPORTED_MODULE_3__.LogLevel.Warning,warning:_ILogger__WEBPACK_IMPORTED_MODULE_3__.LogLevel.Warning,error:_ILogger__WEBPACK_IMPORTED_MODULE_3__.LogLevel.Error,critical:_ILogger__WEBPACK_IMPORTED_MODULE_3__.LogLevel.Critical,none:_ILogger__WEBPACK_IMPORTED_MODULE_3__.LogLevel.None};var HubConnectionBuilder=function(){function HubConnectionBuilder(){}return HubConnectionBuilder.prototype.configureLogging=function(logging){if(_Utils__WEBPACK_IMPORTED_MODULE_6__.Arg.isRequired(logging,"logging"),function isLogger(logger){return void 0!==logger.log}(logging))this.logger=logging;else if("string"==typeof logging){var logLevel=function parseLogLevel(name){var mapping=LogLevelNameMapping[name.toLowerCase()];if(void 0!==mapping)return mapping;throw new Error("Unknown log level: "+name)}(logging);this.logger=new _Utils__WEBPACK_IMPORTED_MODULE_6__.ConsoleLogger(logLevel)}else this.logger=new _Utils__WEBPACK_IMPORTED_MODULE_6__.ConsoleLogger(logging);return this},HubConnectionBuilder.prototype.withUrl=function(url,transportTypeOrOptions){return _Utils__WEBPACK_IMPORTED_MODULE_6__.Arg.isRequired(url,"url"),_Utils__WEBPACK_IMPORTED_MODULE_6__.Arg.isNotEmpty(url,"url"),this.url=url,this.httpConnectionOptions=__assign({},this.httpConnectionOptions,"object"==typeof transportTypeOrOptions?transportTypeOrOptions:{transport:transportTypeOrOptions}),this},HubConnectionBuilder.prototype.withHubProtocol=function(protocol){return _Utils__WEBPACK_IMPORTED_MODULE_6__.Arg.isRequired(protocol,"protocol"),this.protocol=protocol,this},HubConnectionBuilder.prototype.withAutomaticReconnect=function(retryDelaysOrReconnectPolicy){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return retryDelaysOrReconnectPolicy?Array.isArray(retryDelaysOrReconnectPolicy)?this.reconnectPolicy=new _DefaultReconnectPolicy__WEBPACK_IMPORTED_MODULE_0__.DefaultReconnectPolicy(retryDelaysOrReconnectPolicy):this.reconnectPolicy=retryDelaysOrReconnectPolicy:this.reconnectPolicy=new _DefaultReconnectPolicy__WEBPACK_IMPORTED_MODULE_0__.DefaultReconnectPolicy,this},HubConnectionBuilder.prototype.build=function(){var httpConnectionOptions=this.httpConnectionOptions||{};if(void 0===httpConnectionOptions.logger&&(httpConnectionOptions.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");var connection=new _HttpConnection__WEBPACK_IMPORTED_MODULE_1__.HttpConnection(this.url,httpConnectionOptions);return _HubConnection__WEBPACK_IMPORTED_MODULE_2__.HubConnection.create(connection,this.logger||_Loggers__WEBPACK_IMPORTED_MODULE_5__.NullLogger.instance,this.protocol||new _JsonHubProtocol__WEBPACK_IMPORTED_MODULE_4__.JsonHubProtocol,this.reconnectPolicy)},HubConnectionBuilder}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"DefaultReconnectPolicy",(function(){return DefaultReconnectPolicy}));var DEFAULT_RETRY_DELAYS_IN_MILLISECONDS=[0,2e3,1e4,3e4,null],DefaultReconnectPolicy=function(){function DefaultReconnectPolicy(retryDelays){this.retryDelays=void 0!==retryDelays?retryDelays.concat([null]):DEFAULT_RETRY_DELAYS_IN_MILLISECONDS}return DefaultReconnectPolicy.prototype.nextRetryDelayInMilliseconds=function(retryContext){return this.retryDelays[retryContext.previousRetryCount]},DefaultReconnectPolicy}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"HttpConnection",(function(){return HttpConnection})),__webpack_require__.d(__webpack_exports__,"TransportSendQueue",(function(){return TransportSendQueue}));var _DefaultHttpClient__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),_ILogger__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(8),_ITransport__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(20),_LongPollingTransport__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(21),_ServerSentEventsTransport__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(23),_Utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(9),_WebSocketTransport__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(24),__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P((function(resolve){resolve(result.value)})).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))},__generator=function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}},HttpConnection=function(){function HttpConnection(url,options){if(void 0===options&&(options={}),this.stopPromiseResolver=function(){},this.features={},this.negotiateVersion=1,_Utils__WEBPACK_IMPORTED_MODULE_5__.Arg.isRequired(url,"url"),this.logger=Object(_Utils__WEBPACK_IMPORTED_MODULE_5__.createLogger)(options.logger),this.baseUrl=this.resolveUrl(url),(options=options||{}).logMessageContent=void 0!==options.logMessageContent&&options.logMessageContent,"boolean"!=typeof options.withCredentials&&void 0!==options.withCredentials)throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");options.withCredentials=void 0===options.withCredentials||options.withCredentials;var webSocketModule=null,eventSourceModule=null;if(_Utils__WEBPACK_IMPORTED_MODULE_5__.Platform.isNode){var requireFunc=require;webSocketModule=requireFunc("ws"),eventSourceModule=requireFunc("eventsource")}_Utils__WEBPACK_IMPORTED_MODULE_5__.Platform.isNode||"undefined"==typeof WebSocket||options.WebSocket?_Utils__WEBPACK_IMPORTED_MODULE_5__.Platform.isNode&&!options.WebSocket&&webSocketModule&&(options.WebSocket=webSocketModule):options.WebSocket=WebSocket,_Utils__WEBPACK_IMPORTED_MODULE_5__.Platform.isNode||"undefined"==typeof EventSource||options.EventSource?_Utils__WEBPACK_IMPORTED_MODULE_5__.Platform.isNode&&!options.EventSource&&void 0!==eventSourceModule&&(options.EventSource=eventSourceModule):options.EventSource=EventSource,this.httpClient=options.httpClient||new _DefaultHttpClient__WEBPACK_IMPORTED_MODULE_0__.DefaultHttpClient(this.logger),this.connectionState="Disconnected",this.connectionStarted=!1,this.options=options,this.onreceive=null,this.onclose=null}return HttpConnection.prototype.start=function(transferFormat){return __awaiter(this,void 0,void 0,(function(){var message;return __generator(this,(function(_a){switch(_a.label){case 0:return transferFormat=transferFormat||_ITransport__WEBPACK_IMPORTED_MODULE_2__.TransferFormat.Binary,_Utils__WEBPACK_IMPORTED_MODULE_5__.Arg.isIn(transferFormat,_ITransport__WEBPACK_IMPORTED_MODULE_2__.TransferFormat,"transferFormat"),this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_1__.LogLevel.Debug,"Starting connection with transfer format '"+_ITransport__WEBPACK_IMPORTED_MODULE_2__.TransferFormat[transferFormat]+"'."),"Disconnected"!==this.connectionState?[2,Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."))]:(this.connectionState="Connecting",this.startInternalPromise=this.startInternal(transferFormat),[4,this.startInternalPromise]);case 1:return _a.sent(),"Disconnecting"!==this.connectionState?[3,3]:(message="Failed to start the HttpConnection before stop() was called.",this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_1__.LogLevel.Error,message),[4,this.stopPromise]);case 2:return _a.sent(),[2,Promise.reject(new Error(message))];case 3:if("Connected"!==this.connectionState)return message="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!",this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_1__.LogLevel.Error,message),[2,Promise.reject(new Error(message))];_a.label=4;case 4:return this.connectionStarted=!0,[2]}}))}))},HttpConnection.prototype.send=function(data){return"Connected"!==this.connectionState?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this.sendQueue||(this.sendQueue=new TransportSendQueue(this.transport)),this.sendQueue.send(data))},HttpConnection.prototype.stop=function(error){return __awaiter(this,void 0,void 0,(function(){var _this=this;return __generator(this,(function(_a){switch(_a.label){case 0:return"Disconnected"===this.connectionState?(this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_1__.LogLevel.Debug,"Call to HttpConnection.stop("+error+") ignored because the connection is already in the disconnected state."),[2,Promise.resolve()]):"Disconnecting"===this.connectionState?(this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_1__.LogLevel.Debug,"Call to HttpConnection.stop("+error+") ignored because the connection is already in the disconnecting state."),[2,this.stopPromise]):(this.connectionState="Disconnecting",this.stopPromise=new Promise((function(resolve){_this.stopPromiseResolver=resolve})),[4,this.stopInternal(error)]);case 1:return _a.sent(),[4,this.stopPromise];case 2:return _a.sent(),[2]}}))}))},HttpConnection.prototype.stopInternal=function(error){return __awaiter(this,void 0,void 0,(function(){var e_2;return __generator(this,(function(_a){switch(_a.label){case 0:this.stopError=error,_a.label=1;case 1:return _a.trys.push([1,3,,4]),[4,this.startInternalPromise];case 2:return _a.sent(),[3,4];case 3:return _a.sent(),[3,4];case 4:if(!this.transport)return[3,9];_a.label=5;case 5:return _a.trys.push([5,7,,8]),[4,this.transport.stop()];case 6:return _a.sent(),[3,8];case 7:return e_2=_a.sent(),this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_1__.LogLevel.Error,"HttpConnection.transport.stop() threw error '"+e_2+"'."),this.stopConnection(),[3,8];case 8:return this.transport=void 0,[3,10];case 9:this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_1__.LogLevel.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed."),_a.label=10;case 10:return[2]}}))}))},HttpConnection.prototype.startInternal=function(transferFormat){return __awaiter(this,void 0,void 0,(function(){var url,negotiateResponse,redirects,_loop_1,this_1,e_3;return __generator(this,(function(_a){switch(_a.label){case 0:url=this.baseUrl,this.accessTokenFactory=this.options.accessTokenFactory,_a.label=1;case 1:return _a.trys.push([1,12,,13]),this.options.skipNegotiation?this.options.transport!==_ITransport__WEBPACK_IMPORTED_MODULE_2__.HttpTransportType.WebSockets?[3,3]:(this.transport=this.constructTransport(_ITransport__WEBPACK_IMPORTED_MODULE_2__.HttpTransportType.WebSockets),[4,this.startTransport(url,transferFormat)]):[3,5];case 2:return _a.sent(),[3,4];case 3:throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");case 4:return[3,11];case 5:negotiateResponse=null,redirects=0,_loop_1=function(){var accessToken_1;return __generator(this,(function(_a){switch(_a.label){case 0:return[4,this_1.getNegotiationResponse(url)];case 1:if(negotiateResponse=_a.sent(),"Disconnecting"===this_1.connectionState||"Disconnected"===this_1.connectionState)throw new Error("The connection was stopped during negotiation.");if(negotiateResponse.error)throw new Error(negotiateResponse.error);if(negotiateResponse.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");return negotiateResponse.url&&(url=negotiateResponse.url),negotiateResponse.accessToken&&(accessToken_1=negotiateResponse.accessToken,this_1.accessTokenFactory=function(){return accessToken_1}),redirects++,[2]}}))},this_1=this,_a.label=6;case 6:return[5,_loop_1()];case 7:_a.sent(),_a.label=8;case 8:if(negotiateResponse.url&&redirects<100)return[3,6];_a.label=9;case 9:if(100===redirects&&negotiateResponse.url)throw new Error("Negotiate redirection limit exceeded.");return[4,this.createTransport(url,this.options.transport,negotiateResponse,transferFormat)];case 10:_a.sent(),_a.label=11;case 11:return this.transport instanceof _LongPollingTransport__WEBPACK_IMPORTED_MODULE_3__.LongPollingTransport&&(this.features.inherentKeepAlive=!0),"Connecting"===this.connectionState&&(this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_1__.LogLevel.Debug,"The HttpConnection connected successfully."),this.connectionState="Connected"),[3,13];case 12:return e_3=_a.sent(),this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_1__.LogLevel.Error,"Failed to start the connection: "+e_3),this.connectionState="Disconnected",this.transport=void 0,this.stopPromiseResolver(),[2,Promise.reject(e_3)];case 13:return[2]}}))}))},HttpConnection.prototype.getNegotiationResponse=function(url){return __awaiter(this,void 0,void 0,(function(){var headers,token,_a,name,value,negotiateUrl,response,negotiateResponse,e_4;return __generator(this,(function(_b){switch(_b.label){case 0:return headers={},this.accessTokenFactory?[4,this.accessTokenFactory()]:[3,2];case 1:(token=_b.sent())&&(headers.Authorization="Bearer "+token),_b.label=2;case 2:_a=Object(_Utils__WEBPACK_IMPORTED_MODULE_5__.getUserAgentHeader)(),name=_a[0],value=_a[1],headers[name]=value,negotiateUrl=this.resolveNegotiateUrl(url),this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_1__.LogLevel.Debug,"Sending negotiation request: "+negotiateUrl+"."),_b.label=3;case 3:return _b.trys.push([3,5,,6]),[4,this.httpClient.post(negotiateUrl,{content:"",headers:__assign({},headers,this.options.headers),withCredentials:this.options.withCredentials})];case 4:return 200!==(response=_b.sent()).statusCode?[2,Promise.reject(new Error("Unexpected status code returned from negotiate '"+response.statusCode+"'"))]:((!(negotiateResponse=JSON.parse(response.content)).negotiateVersion||negotiateResponse.negotiateVersion<1)&&(negotiateResponse.connectionToken=negotiateResponse.connectionId),[2,negotiateResponse]);case 5:return e_4=_b.sent(),this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_1__.LogLevel.Error,"Failed to complete negotiation with the server: "+e_4),[2,Promise.reject(e_4)];case 6:return[2]}}))}))},HttpConnection.prototype.createConnectUrl=function(url,connectionToken){return connectionToken?url+(-1===url.indexOf("?")?"?":"&")+"id="+connectionToken:url},HttpConnection.prototype.createTransport=function(url,requestedTransport,negotiateResponse,requestedTransferFormat){return __awaiter(this,void 0,void 0,(function(){var connectUrl,transportExceptions,transports,negotiate,_i,transports_1,endpoint,transportOrError,ex_1,ex_2,message;return __generator(this,(function(_a){switch(_a.label){case 0:return connectUrl=this.createConnectUrl(url,negotiateResponse.connectionToken),this.isITransport(requestedTransport)?(this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_1__.LogLevel.Debug,"Connection was provided an instance of ITransport, using that directly."),this.transport=requestedTransport,[4,this.startTransport(connectUrl,requestedTransferFormat)]):[3,2];case 1:return _a.sent(),this.connectionId=negotiateResponse.connectionId,[2];case 2:transportExceptions=[],transports=negotiateResponse.availableTransports||[],negotiate=negotiateResponse,_i=0,transports_1=transports,_a.label=3;case 3:return _i<transports_1.length?(endpoint=transports_1[_i],(transportOrError=this.resolveTransportOrError(endpoint,requestedTransport,requestedTransferFormat))instanceof Error?(transportExceptions.push(endpoint.transport+" failed: "+transportOrError),[3,12]):[3,4]):[3,13];case 4:if(!this.isITransport(transportOrError))return[3,12];if(this.transport=transportOrError,negotiate)return[3,9];_a.label=5;case 5:return _a.trys.push([5,7,,8]),[4,this.getNegotiationResponse(url)];case 6:return negotiate=_a.sent(),[3,8];case 7:return ex_1=_a.sent(),[2,Promise.reject(ex_1)];case 8:connectUrl=this.createConnectUrl(url,negotiate.connectionToken),_a.label=9;case 9:return _a.trys.push([9,11,,12]),[4,this.startTransport(connectUrl,requestedTransferFormat)];case 10:return _a.sent(),this.connectionId=negotiate.connectionId,[2];case 11:return ex_2=_a.sent(),this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_1__.LogLevel.Error,"Failed to start the transport '"+endpoint.transport+"': "+ex_2),negotiate=void 0,transportExceptions.push(endpoint.transport+" failed: "+ex_2),"Connecting"!==this.connectionState?(message="Failed to select transport before stop() was called.",this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_1__.LogLevel.Debug,message),[2,Promise.reject(new Error(message))]):[3,12];case 12:return _i++,[3,3];case 13:return transportExceptions.length>0?[2,Promise.reject(new Error("Unable to connect to the server with any of the available transports. "+transportExceptions.join(" ")))]:[2,Promise.reject(new Error("None of the transports supported by the client are supported by the server."))]}}))}))},HttpConnection.prototype.constructTransport=function(transport){switch(transport){case _ITransport__WEBPACK_IMPORTED_MODULE_2__.HttpTransportType.WebSockets:if(!this.options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new _WebSocketTransport__WEBPACK_IMPORTED_MODULE_6__.WebSocketTransport(this.httpClient,this.accessTokenFactory,this.logger,this.options.logMessageContent||!1,this.options.WebSocket,this.options.headers||{});case _ITransport__WEBPACK_IMPORTED_MODULE_2__.HttpTransportType.ServerSentEvents:if(!this.options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new _ServerSentEventsTransport__WEBPACK_IMPORTED_MODULE_4__.ServerSentEventsTransport(this.httpClient,this.accessTokenFactory,this.logger,this.options.logMessageContent||!1,this.options.EventSource,this.options.withCredentials,this.options.headers||{});case _ITransport__WEBPACK_IMPORTED_MODULE_2__.HttpTransportType.LongPolling:return new _LongPollingTransport__WEBPACK_IMPORTED_MODULE_3__.LongPollingTransport(this.httpClient,this.accessTokenFactory,this.logger,this.options.logMessageContent||!1,this.options.withCredentials,this.options.headers||{});default:throw new Error("Unknown transport: "+transport+".")}},HttpConnection.prototype.startTransport=function(url,transferFormat){var _this=this;return this.transport.onreceive=this.onreceive,this.transport.onclose=function(e){return _this.stopConnection(e)},this.transport.connect(url,transferFormat)},HttpConnection.prototype.resolveTransportOrError=function(endpoint,requestedTransport,requestedTransferFormat){var transport=_ITransport__WEBPACK_IMPORTED_MODULE_2__.HttpTransportType[endpoint.transport];if(null==transport)return this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_1__.LogLevel.Debug,"Skipping transport '"+endpoint.transport+"' because it is not supported by this client."),new Error("Skipping transport '"+endpoint.transport+"' because it is not supported by this client.");if(!function transportMatches(requestedTransport,actualTransport){return!requestedTransport||0!=(actualTransport&requestedTransport)}(requestedTransport,transport))return this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_1__.LogLevel.Debug,"Skipping transport '"+_ITransport__WEBPACK_IMPORTED_MODULE_2__.HttpTransportType[transport]+"' because it was disabled by the client."),new Error("'"+_ITransport__WEBPACK_IMPORTED_MODULE_2__.HttpTransportType[transport]+"' is disabled by the client.");if(!(endpoint.transferFormats.map((function(s){return _ITransport__WEBPACK_IMPORTED_MODULE_2__.TransferFormat[s]})).indexOf(requestedTransferFormat)>=0))return this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_1__.LogLevel.Debug,"Skipping transport '"+_ITransport__WEBPACK_IMPORTED_MODULE_2__.HttpTransportType[transport]+"' because it does not support the requested transfer format '"+_ITransport__WEBPACK_IMPORTED_MODULE_2__.TransferFormat[requestedTransferFormat]+"'."),new Error("'"+_ITransport__WEBPACK_IMPORTED_MODULE_2__.HttpTransportType[transport]+"' does not support "+_ITransport__WEBPACK_IMPORTED_MODULE_2__.TransferFormat[requestedTransferFormat]+".");if(transport===_ITransport__WEBPACK_IMPORTED_MODULE_2__.HttpTransportType.WebSockets&&!this.options.WebSocket||transport===_ITransport__WEBPACK_IMPORTED_MODULE_2__.HttpTransportType.ServerSentEvents&&!this.options.EventSource)return this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_1__.LogLevel.Debug,"Skipping transport '"+_ITransport__WEBPACK_IMPORTED_MODULE_2__.HttpTransportType[transport]+"' because it is not supported in your environment.'"),new Error("'"+_ITransport__WEBPACK_IMPORTED_MODULE_2__.HttpTransportType[transport]+"' is not supported in your environment.");this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_1__.LogLevel.Debug,"Selecting transport '"+_ITransport__WEBPACK_IMPORTED_MODULE_2__.HttpTransportType[transport]+"'.");try{return this.constructTransport(transport)}catch(ex){return ex}},HttpConnection.prototype.isITransport=function(transport){return transport&&"object"==typeof transport&&"connect"in transport},HttpConnection.prototype.stopConnection=function(error){var _this=this;if(this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_1__.LogLevel.Debug,"HttpConnection.stopConnection("+error+") called while in state "+this.connectionState+"."),this.transport=void 0,error=this.stopError||error,this.stopError=void 0,"Disconnected"!==this.connectionState){if("Connecting"===this.connectionState)throw this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_1__.LogLevel.Warning,"Call to HttpConnection.stopConnection("+error+") was ignored because the connection is still in the connecting state."),new Error("HttpConnection.stopConnection("+error+") was called while the connection is still in the connecting state.");if("Disconnecting"===this.connectionState&&this.stopPromiseResolver(),error?this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_1__.LogLevel.Error,"Connection disconnected with error '"+error+"'."):this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_1__.LogLevel.Information,"Connection disconnected."),this.sendQueue&&(this.sendQueue.stop().catch((function(e){_this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_1__.LogLevel.Error,"TransportSendQueue.stop() threw error '"+e+"'.")})),this.sendQueue=void 0),this.connectionId=void 0,this.connectionState="Disconnected",this.connectionStarted){this.connectionStarted=!1;try{this.onclose&&this.onclose(error)}catch(e){this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_1__.LogLevel.Error,"HttpConnection.onclose("+error+") threw error '"+e+"'.")}}}else this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_1__.LogLevel.Debug,"Call to HttpConnection.stopConnection("+error+") was ignored because the connection is already in the disconnected state.")},HttpConnection.prototype.resolveUrl=function(url){if(0===url.lastIndexOf("https://",0)||0===url.lastIndexOf("http://",0))return url;if(!_Utils__WEBPACK_IMPORTED_MODULE_5__.Platform.isBrowser||!window.document)throw new Error("Cannot resolve '"+url+"'.");var aTag=window.document.createElement("a");return aTag.href=url,this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_1__.LogLevel.Information,"Normalizing '"+url+"' to '"+aTag.href+"'."),aTag.href},HttpConnection.prototype.resolveNegotiateUrl=function(url){var index=url.indexOf("?"),negotiateUrl=url.substring(0,-1===index?url.length:index);return"/"!==negotiateUrl[negotiateUrl.length-1]&&(negotiateUrl+="/"),negotiateUrl+="negotiate",-1===(negotiateUrl+=-1===index?"":url.substring(index)).indexOf("negotiateVersion")&&(negotiateUrl+=-1===index?"?":"&",negotiateUrl+="negotiateVersion="+this.negotiateVersion),negotiateUrl},HttpConnection}();var TransportSendQueue=function(){function TransportSendQueue(transport){this.transport=transport,this.buffer=[],this.executing=!0,this.sendBufferedData=new PromiseSource,this.transportResult=new PromiseSource,this.sendLoopPromise=this.sendLoop()}return TransportSendQueue.prototype.send=function(data){return this.bufferData(data),this.transportResult||(this.transportResult=new PromiseSource),this.transportResult.promise},TransportSendQueue.prototype.stop=function(){return this.executing=!1,this.sendBufferedData.resolve(),this.sendLoopPromise},TransportSendQueue.prototype.bufferData=function(data){if(this.buffer.length&&typeof this.buffer[0]!=typeof data)throw new Error("Expected data to be of type "+typeof this.buffer+" but was of type "+typeof data);this.buffer.push(data),this.sendBufferedData.resolve()},TransportSendQueue.prototype.sendLoop=function(){return __awaiter(this,void 0,void 0,(function(){var transportResult,data,error_1;return __generator(this,(function(_a){switch(_a.label){case 0:return[4,this.sendBufferedData.promise];case 1:if(_a.sent(),!this.executing)return this.transportResult&&this.transportResult.reject("Connection stopped."),[3,6];this.sendBufferedData=new PromiseSource,transportResult=this.transportResult,this.transportResult=void 0,data="string"==typeof this.buffer[0]?this.buffer.join(""):TransportSendQueue.concatBuffers(this.buffer),this.buffer.length=0,_a.label=2;case 2:return _a.trys.push([2,4,,5]),[4,this.transport.send(data)];case 3:return _a.sent(),transportResult.resolve(),[3,5];case 4:return error_1=_a.sent(),transportResult.reject(error_1),[3,5];case 5:return[3,0];case 6:return[2]}}))}))},TransportSendQueue.concatBuffers=function(arrayBuffers){for(var totalLength=arrayBuffers.map((function(b){return b.byteLength})).reduce((function(a,b){return a+b})),result=new Uint8Array(totalLength),offset=0,_i=0,arrayBuffers_1=arrayBuffers;_i<arrayBuffers_1.length;_i++){var item=arrayBuffers_1[_i];result.set(new Uint8Array(item),offset),offset+=item.byteLength}return result.buffer},TransportSendQueue}(),PromiseSource=function(){function PromiseSource(){var _this=this;this.promise=new Promise((function(resolve,reject){var _a;return _a=[resolve,reject],_this.resolver=_a[0],_this.rejecter=_a[1],_a}))}return PromiseSource.prototype.resolve=function(){this.resolver()},PromiseSource.prototype.reject=function(reason){this.rejecter(reason)},PromiseSource}()},function(module,__webpack_exports__,__webpack_require__){"use strict";var HttpTransportType,TransferFormat;__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"HttpTransportType",(function(){return HttpTransportType})),__webpack_require__.d(__webpack_exports__,"TransferFormat",(function(){return TransferFormat})),function(HttpTransportType){HttpTransportType[HttpTransportType.None=0]="None",HttpTransportType[HttpTransportType.WebSockets=1]="WebSockets",HttpTransportType[HttpTransportType.ServerSentEvents=2]="ServerSentEvents",HttpTransportType[HttpTransportType.LongPolling=4]="LongPolling"}(HttpTransportType||(HttpTransportType={})),function(TransferFormat){TransferFormat[TransferFormat.Text=1]="Text",TransferFormat[TransferFormat.Binary=2]="Binary"}(TransferFormat||(TransferFormat={}))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"LongPollingTransport",(function(){return LongPollingTransport}));var _AbortController__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(22),_Errors__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4),_ILogger__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8),_ITransport__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(20),_Utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9),__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P((function(resolve){resolve(result.value)})).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))},__generator=function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}},LongPollingTransport=function(){function LongPollingTransport(httpClient,accessTokenFactory,logger,logMessageContent,withCredentials,headers){this.httpClient=httpClient,this.accessTokenFactory=accessTokenFactory,this.logger=logger,this.pollAbort=new _AbortController__WEBPACK_IMPORTED_MODULE_0__.AbortController,this.logMessageContent=logMessageContent,this.withCredentials=withCredentials,this.headers=headers,this.running=!1,this.onreceive=null,this.onclose=null}return Object.defineProperty(LongPollingTransport.prototype,"pollAborted",{get:function(){return this.pollAbort.aborted},enumerable:!0,configurable:!0}),LongPollingTransport.prototype.connect=function(url,transferFormat){return __awaiter(this,void 0,void 0,(function(){var _a,_b,name,value,headers,pollOptions,token,pollUrl,response;return __generator(this,(function(_c){switch(_c.label){case 0:if(_Utils__WEBPACK_IMPORTED_MODULE_4__.Arg.isRequired(url,"url"),_Utils__WEBPACK_IMPORTED_MODULE_4__.Arg.isRequired(transferFormat,"transferFormat"),_Utils__WEBPACK_IMPORTED_MODULE_4__.Arg.isIn(transferFormat,_ITransport__WEBPACK_IMPORTED_MODULE_3__.TransferFormat,"transferFormat"),this.url=url,this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Trace,"(LongPolling transport) Connecting."),transferFormat===_ITransport__WEBPACK_IMPORTED_MODULE_3__.TransferFormat.Binary&&"undefined"!=typeof XMLHttpRequest&&"string"!=typeof(new XMLHttpRequest).responseType)throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");return _b=Object(_Utils__WEBPACK_IMPORTED_MODULE_4__.getUserAgentHeader)(),name=_b[0],value=_b[1],headers=__assign(((_a={})[name]=value,_a),this.headers),pollOptions={abortSignal:this.pollAbort.signal,headers:headers,timeout:1e5,withCredentials:this.withCredentials},transferFormat===_ITransport__WEBPACK_IMPORTED_MODULE_3__.TransferFormat.Binary&&(pollOptions.responseType="arraybuffer"),[4,this.getAccessToken()];case 1:return token=_c.sent(),this.updateHeaderToken(pollOptions,token),pollUrl=url+"&_="+Date.now(),this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Trace,"(LongPolling transport) polling: "+pollUrl+"."),[4,this.httpClient.get(pollUrl,pollOptions)];case 2:return 200!==(response=_c.sent()).statusCode?(this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Error,"(LongPolling transport) Unexpected response code: "+response.statusCode+"."),this.closeError=new _Errors__WEBPACK_IMPORTED_MODULE_1__.HttpError(response.statusText||"",response.statusCode),this.running=!1):this.running=!0,this.receiving=this.poll(this.url,pollOptions),[2]}}))}))},LongPollingTransport.prototype.getAccessToken=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(_a){switch(_a.label){case 0:return this.accessTokenFactory?[4,this.accessTokenFactory()]:[3,2];case 1:return[2,_a.sent()];case 2:return[2,null]}}))}))},LongPollingTransport.prototype.updateHeaderToken=function(request,token){request.headers||(request.headers={}),token?request.headers.Authorization="Bearer "+token:request.headers.Authorization&&delete request.headers.Authorization},LongPollingTransport.prototype.poll=function(url,pollOptions){return __awaiter(this,void 0,void 0,(function(){var token,pollUrl,response,e_1;return __generator(this,(function(_a){switch(_a.label){case 0:_a.trys.push([0,,8,9]),_a.label=1;case 1:return this.running?[4,this.getAccessToken()]:[3,7];case 2:token=_a.sent(),this.updateHeaderToken(pollOptions,token),_a.label=3;case 3:return _a.trys.push([3,5,,6]),pollUrl=url+"&_="+Date.now(),this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Trace,"(LongPolling transport) polling: "+pollUrl+"."),[4,this.httpClient.get(pollUrl,pollOptions)];case 4:return 204===(response=_a.sent()).statusCode?(this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Information,"(LongPolling transport) Poll terminated by server."),this.running=!1):200!==response.statusCode?(this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Error,"(LongPolling transport) Unexpected response code: "+response.statusCode+"."),this.closeError=new _Errors__WEBPACK_IMPORTED_MODULE_1__.HttpError(response.statusText||"",response.statusCode),this.running=!1):response.content?(this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Trace,"(LongPolling transport) data received. "+Object(_Utils__WEBPACK_IMPORTED_MODULE_4__.getDataDetail)(response.content,this.logMessageContent)+"."),this.onreceive&&this.onreceive(response.content)):this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Trace,"(LongPolling transport) Poll timed out, reissuing."),[3,6];case 5:return e_1=_a.sent(),this.running?e_1 instanceof _Errors__WEBPACK_IMPORTED_MODULE_1__.TimeoutError?this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Trace,"(LongPolling transport) Poll timed out, reissuing."):(this.closeError=e_1,this.running=!1):this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Trace,"(LongPolling transport) Poll errored after shutdown: "+e_1.message),[3,6];case 6:return[3,1];case 7:return[3,9];case 8:return this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Trace,"(LongPolling transport) Polling complete."),this.pollAborted||this.raiseOnClose(),[7];case 9:return[2]}}))}))},LongPollingTransport.prototype.send=function(data){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(_a){return this.running?[2,Object(_Utils__WEBPACK_IMPORTED_MODULE_4__.sendMessage)(this.logger,"LongPolling",this.httpClient,this.url,this.accessTokenFactory,data,this.logMessageContent,this.withCredentials,this.headers)]:[2,Promise.reject(new Error("Cannot send until the transport is connected"))]}))}))},LongPollingTransport.prototype.stop=function(){return __awaiter(this,void 0,void 0,(function(){var headers,_a,name_1,value,deleteOptions,token;return __generator(this,(function(_b){switch(_b.label){case 0:this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Trace,"(LongPolling transport) Stopping polling."),this.running=!1,this.pollAbort.abort(),_b.label=1;case 1:return _b.trys.push([1,,5,6]),[4,this.receiving];case 2:return _b.sent(),this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Trace,"(LongPolling transport) sending DELETE request to "+this.url+"."),headers={},_a=Object(_Utils__WEBPACK_IMPORTED_MODULE_4__.getUserAgentHeader)(),name_1=_a[0],value=_a[1],headers[name_1]=value,deleteOptions={headers:__assign({},headers,this.headers),withCredentials:this.withCredentials},[4,this.getAccessToken()];case 3:return token=_b.sent(),this.updateHeaderToken(deleteOptions,token),[4,this.httpClient.delete(this.url,deleteOptions)];case 4:return _b.sent(),this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Trace,"(LongPolling transport) DELETE request sent."),[3,6];case 5:return this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Trace,"(LongPolling transport) Stop finished."),this.raiseOnClose(),[7];case 6:return[2]}}))}))},LongPollingTransport.prototype.raiseOnClose=function(){if(this.onclose){var logMessage="(LongPolling transport) Firing onclose event.";this.closeError&&(logMessage+=" Error: "+this.closeError),this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_2__.LogLevel.Trace,logMessage),this.onclose(this.closeError)}},LongPollingTransport}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"AbortController",(function(){return AbortController}));var AbortController=function(){function AbortController(){this.isAborted=!1,this.onabort=null}return AbortController.prototype.abort=function(){this.isAborted||(this.isAborted=!0,this.onabort&&this.onabort())},Object.defineProperty(AbortController.prototype,"signal",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(AbortController.prototype,"aborted",{get:function(){return this.isAborted},enumerable:!0,configurable:!0}),AbortController}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"ServerSentEventsTransport",(function(){return ServerSentEventsTransport}));var _ILogger__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(8),_ITransport__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(20),_Utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9),__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P((function(resolve){resolve(result.value)})).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))},__generator=function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}},ServerSentEventsTransport=function(){function ServerSentEventsTransport(httpClient,accessTokenFactory,logger,logMessageContent,eventSourceConstructor,withCredentials,headers){this.httpClient=httpClient,this.accessTokenFactory=accessTokenFactory,this.logger=logger,this.logMessageContent=logMessageContent,this.withCredentials=withCredentials,this.eventSourceConstructor=eventSourceConstructor,this.headers=headers,this.onreceive=null,this.onclose=null}return ServerSentEventsTransport.prototype.connect=function(url,transferFormat){return __awaiter(this,void 0,void 0,(function(){var token,_this=this;return __generator(this,(function(_a){switch(_a.label){case 0:return _Utils__WEBPACK_IMPORTED_MODULE_2__.Arg.isRequired(url,"url"),_Utils__WEBPACK_IMPORTED_MODULE_2__.Arg.isRequired(transferFormat,"transferFormat"),_Utils__WEBPACK_IMPORTED_MODULE_2__.Arg.isIn(transferFormat,_ITransport__WEBPACK_IMPORTED_MODULE_1__.TransferFormat,"transferFormat"),this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Trace,"(SSE transport) Connecting."),this.url=url,this.accessTokenFactory?[4,this.accessTokenFactory()]:[3,2];case 1:(token=_a.sent())&&(url+=(url.indexOf("?")<0?"?":"&")+"access_token="+encodeURIComponent(token)),_a.label=2;case 2:return[2,new Promise((function(resolve,reject){var opened=!1;if(transferFormat===_ITransport__WEBPACK_IMPORTED_MODULE_1__.TransferFormat.Text){var eventSource;if(_Utils__WEBPACK_IMPORTED_MODULE_2__.Platform.isBrowser||_Utils__WEBPACK_IMPORTED_MODULE_2__.Platform.isWebWorker)eventSource=new _this.eventSourceConstructor(url,{withCredentials:_this.withCredentials});else{var cookies=_this.httpClient.getCookieString(url),headers={};headers.Cookie=cookies;var _a=Object(_Utils__WEBPACK_IMPORTED_MODULE_2__.getUserAgentHeader)(),name_1=_a[0],value=_a[1];headers[name_1]=value,eventSource=new _this.eventSourceConstructor(url,{withCredentials:_this.withCredentials,headers:__assign({},headers,_this.headers)})}try{eventSource.onmessage=function(e){if(_this.onreceive)try{_this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Trace,"(SSE transport) data received. "+Object(_Utils__WEBPACK_IMPORTED_MODULE_2__.getDataDetail)(e.data,_this.logMessageContent)+"."),_this.onreceive(e.data)}catch(error){return void _this.close(error)}},eventSource.onerror=function(e){var error=new Error(e.data||"Error occurred");opened?_this.close(error):reject(error)},eventSource.onopen=function(){_this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Information,"SSE connected to "+_this.url),_this.eventSource=eventSource,opened=!0,resolve()}}catch(e){return void reject(e)}}else reject(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"))}))]}}))}))},ServerSentEventsTransport.prototype.send=function(data){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(_a){return this.eventSource?[2,Object(_Utils__WEBPACK_IMPORTED_MODULE_2__.sendMessage)(this.logger,"SSE",this.httpClient,this.url,this.accessTokenFactory,data,this.logMessageContent,this.withCredentials,this.headers)]:[2,Promise.reject(new Error("Cannot send until the transport is connected"))]}))}))},ServerSentEventsTransport.prototype.stop=function(){return this.close(),Promise.resolve()},ServerSentEventsTransport.prototype.close=function(e){this.eventSource&&(this.eventSource.close(),this.eventSource=void 0,this.onclose&&this.onclose(e))},ServerSentEventsTransport}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"WebSocketTransport",(function(){return WebSocketTransport}));var _ILogger__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(8),_ITransport__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(20),_Utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9),__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P((function(resolve){resolve(result.value)})).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))},__generator=function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}},WebSocketTransport=function(){function WebSocketTransport(httpClient,accessTokenFactory,logger,logMessageContent,webSocketConstructor,headers){this.logger=logger,this.accessTokenFactory=accessTokenFactory,this.logMessageContent=logMessageContent,this.webSocketConstructor=webSocketConstructor,this.httpClient=httpClient,this.onreceive=null,this.onclose=null,this.headers=headers}return WebSocketTransport.prototype.connect=function(url,transferFormat){return __awaiter(this,void 0,void 0,(function(){var token,_this=this;return __generator(this,(function(_a){switch(_a.label){case 0:return _Utils__WEBPACK_IMPORTED_MODULE_2__.Arg.isRequired(url,"url"),_Utils__WEBPACK_IMPORTED_MODULE_2__.Arg.isRequired(transferFormat,"transferFormat"),_Utils__WEBPACK_IMPORTED_MODULE_2__.Arg.isIn(transferFormat,_ITransport__WEBPACK_IMPORTED_MODULE_1__.TransferFormat,"transferFormat"),this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Trace,"(WebSockets transport) Connecting."),this.accessTokenFactory?[4,this.accessTokenFactory()]:[3,2];case 1:(token=_a.sent())&&(url+=(url.indexOf("?")<0?"?":"&")+"access_token="+encodeURIComponent(token)),_a.label=2;case 2:return[2,new Promise((function(resolve,reject){var webSocket;url=url.replace(/^http/,"ws");var cookies=_this.httpClient.getCookieString(url),opened=!1;if(_Utils__WEBPACK_IMPORTED_MODULE_2__.Platform.isNode){var headers={},_a=Object(_Utils__WEBPACK_IMPORTED_MODULE_2__.getUserAgentHeader)(),name_1=_a[0],value=_a[1];headers[name_1]=value,cookies&&(headers.Cookie=""+cookies),webSocket=new _this.webSocketConstructor(url,void 0,{headers:__assign({},headers,_this.headers)})}webSocket||(webSocket=new _this.webSocketConstructor(url)),transferFormat===_ITransport__WEBPACK_IMPORTED_MODULE_1__.TransferFormat.Binary&&(webSocket.binaryType="arraybuffer"),webSocket.onopen=function(_event){_this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Information,"WebSocket connected to "+url+"."),_this.webSocket=webSocket,opened=!0,resolve()},webSocket.onerror=function(event){var error=null;error="undefined"!=typeof ErrorEvent&&event instanceof ErrorEvent?event.error:new Error("There was an error with the transport."),reject(error)},webSocket.onmessage=function(message){if(_this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Trace,"(WebSockets transport) data received. "+Object(_Utils__WEBPACK_IMPORTED_MODULE_2__.getDataDetail)(message.data,_this.logMessageContent)+"."),_this.onreceive)try{_this.onreceive(message.data)}catch(error){return void _this.close(error)}},webSocket.onclose=function(event){if(opened)_this.close(event);else{var error=null;error="undefined"!=typeof ErrorEvent&&event instanceof ErrorEvent?event.error:new Error("There was an error with the transport."),reject(error)}}}))]}}))}))},WebSocketTransport.prototype.send=function(data){return this.webSocket&&this.webSocket.readyState===this.webSocketConstructor.OPEN?(this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Trace,"(WebSockets transport) sending data. "+Object(_Utils__WEBPACK_IMPORTED_MODULE_2__.getDataDetail)(data,this.logMessageContent)+"."),this.webSocket.send(data),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")},WebSocketTransport.prototype.stop=function(){return this.webSocket&&this.close(void 0),Promise.resolve()},WebSocketTransport.prototype.close=function(event){this.webSocket&&(this.webSocket.onclose=function(){},this.webSocket.onmessage=function(){},this.webSocket.onerror=function(){},this.webSocket.close(),this.webSocket=void 0),this.logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Trace,"(WebSockets transport) socket closed."),this.onclose&&(!this.isCloseEvent(event)||!1!==event.wasClean&&1e3===event.code?event instanceof Error?this.onclose(event):this.onclose():this.onclose(new Error("WebSocket closed with status code: "+event.code+" ("+event.reason+").")))},WebSocketTransport.prototype.isCloseEvent=function(event){return event&&"boolean"==typeof event.wasClean&&"number"==typeof event.code},WebSocketTransport}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"JsonHubProtocol",(function(){return JsonHubProtocol}));var _IHubProtocol__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(15),_ILogger__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(8),_ITransport__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(20),_Loggers__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(10),_TextMessageFormat__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(14),JsonHubProtocol=function(){function JsonHubProtocol(){this.name="json",this.version=1,this.transferFormat=_ITransport__WEBPACK_IMPORTED_MODULE_2__.TransferFormat.Text}return JsonHubProtocol.prototype.parseMessages=function(input,logger){if("string"!=typeof input)throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!input)return[];null===logger&&(logger=_Loggers__WEBPACK_IMPORTED_MODULE_3__.NullLogger.instance);for(var hubMessages=[],_i=0,messages_1=_TextMessageFormat__WEBPACK_IMPORTED_MODULE_4__.TextMessageFormat.parse(input);_i<messages_1.length;_i++){var message=messages_1[_i],parsedMessage=JSON.parse(message);if("number"!=typeof parsedMessage.type)throw new Error("Invalid payload.");switch(parsedMessage.type){case _IHubProtocol__WEBPACK_IMPORTED_MODULE_0__.MessageType.Invocation:this.isInvocationMessage(parsedMessage);break;case _IHubProtocol__WEBPACK_IMPORTED_MODULE_0__.MessageType.StreamItem:this.isStreamItemMessage(parsedMessage);break;case _IHubProtocol__WEBPACK_IMPORTED_MODULE_0__.MessageType.Completion:this.isCompletionMessage(parsedMessage);break;case _IHubProtocol__WEBPACK_IMPORTED_MODULE_0__.MessageType.Ping:case _IHubProtocol__WEBPACK_IMPORTED_MODULE_0__.MessageType.Close:break;default:logger.log(_ILogger__WEBPACK_IMPORTED_MODULE_1__.LogLevel.Information,"Unknown message type '"+parsedMessage.type+"' ignored.");continue}hubMessages.push(parsedMessage)}return hubMessages},JsonHubProtocol.prototype.writeMessage=function(message){return _TextMessageFormat__WEBPACK_IMPORTED_MODULE_4__.TextMessageFormat.write(JSON.stringify(message))},JsonHubProtocol.prototype.isInvocationMessage=function(message){this.assertNotEmptyString(message.target,"Invalid payload for Invocation message."),void 0!==message.invocationId&&this.assertNotEmptyString(message.invocationId,"Invalid payload for Invocation message.")},JsonHubProtocol.prototype.isStreamItemMessage=function(message){if(this.assertNotEmptyString(message.invocationId,"Invalid payload for StreamItem message."),void 0===message.item)throw new Error("Invalid payload for StreamItem message.")},JsonHubProtocol.prototype.isCompletionMessage=function(message){if(message.result&&message.error)throw new Error("Invalid payload for Completion message.");!message.result&&message.error&&this.assertNotEmptyString(message.error,"Invalid payload for Completion message."),this.assertNotEmptyString(message.invocationId,"Invalid payload for Completion message.")},JsonHubProtocol.prototype.assertNotEmptyString=function(value,errorMessage){if("string"!=typeof value||""===value)throw new Error(errorMessage)},JsonHubProtocol}()}])})),function(f){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=f();else if("function"==typeof define&&define.amd)define([],f);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).localforage=f()}}((function(){return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,(function(e){var n=t[o][1][e];return s(n||e)}),l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(_dereq_,module,exports){(function(global){"use strict";var scheduleDrain,draining,Mutation=global.MutationObserver||global.WebKitMutationObserver;if(Mutation){var called=0,observer=new Mutation(nextTick),element=global.document.createTextNode("");observer.observe(element,{characterData:!0}),scheduleDrain=function(){element.data=called=++called%2}}else if(global.setImmediate||void 0===global.MessageChannel)scheduleDrain="document"in global&&"onreadystatechange"in global.document.createElement("script")?function(){var scriptEl=global.document.createElement("script");scriptEl.onreadystatechange=function(){nextTick(),scriptEl.onreadystatechange=null,scriptEl.parentNode.removeChild(scriptEl),scriptEl=null},global.document.documentElement.appendChild(scriptEl)}:function(){setTimeout(nextTick,0)};else{var channel=new global.MessageChannel;channel.port1.onmessage=nextTick,scheduleDrain=function(){channel.port2.postMessage(0)}}var queue=[];function nextTick(){var i,oldQueue;draining=!0;for(var len=queue.length;len;){for(oldQueue=queue,queue=[],i=-1;++i<len;)oldQueue[i]();len=queue.length}draining=!1}module.exports=function immediate(task){1!==queue.push(task)||draining||scheduleDrain()}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(_dereq_,module,exports){"use strict";var immediate=_dereq_(1);function INTERNAL(){}var handlers={},REJECTED=["REJECTED"],FULFILLED=["FULFILLED"],PENDING=["PENDING"];function Promise(resolver){if("function"!=typeof resolver)throw new TypeError("resolver must be a function");this.state=PENDING,this.queue=[],this.outcome=void 0,resolver!==INTERNAL&&safelyResolveThenable(this,resolver)}function QueueItem(promise,onFulfilled,onRejected){this.promise=promise,"function"==typeof onFulfilled&&(this.onFulfilled=onFulfilled,this.callFulfilled=this.otherCallFulfilled),"function"==typeof onRejected&&(this.onRejected=onRejected,this.callRejected=this.otherCallRejected)}function unwrap(promise,func,value){immediate((function(){var returnValue;try{returnValue=func(value)}catch(e){return handlers.reject(promise,e)}returnValue===promise?handlers.reject(promise,new TypeError("Cannot resolve promise with itself")):handlers.resolve(promise,returnValue)}))}function getThen(obj){var then=obj&&obj.then;if(obj&&("object"==typeof obj||"function"==typeof obj)&&"function"==typeof then)return function appyThen(){then.apply(obj,arguments)}}function safelyResolveThenable(self,thenable){var called=!1;function onError(value){called||(called=!0,handlers.reject(self,value))}function onSuccess(value){called||(called=!0,handlers.resolve(self,value))}var result=tryCatch((function tryToUnwrap(){thenable(onSuccess,onError)}));"error"===result.status&&onError(result.value)}function tryCatch(func,value){var out={};try{out.value=func(value),out.status="success"}catch(e){out.status="error",out.value=e}return out}module.exports=Promise,Promise.prototype.catch=function(onRejected){return this.then(null,onRejected)},Promise.prototype.then=function(onFulfilled,onRejected){if("function"!=typeof onFulfilled&&this.state===FULFILLED||"function"!=typeof onRejected&&this.state===REJECTED)return this;var promise=new this.constructor(INTERNAL);this.state!==PENDING?unwrap(promise,this.state===FULFILLED?onFulfilled:onRejected,this.outcome):this.queue.push(new QueueItem(promise,onFulfilled,onRejected));return promise},QueueItem.prototype.callFulfilled=function(value){handlers.resolve(this.promise,value)},QueueItem.prototype.otherCallFulfilled=function(value){unwrap(this.promise,this.onFulfilled,value)},QueueItem.prototype.callRejected=function(value){handlers.reject(this.promise,value)},QueueItem.prototype.otherCallRejected=function(value){unwrap(this.promise,this.onRejected,value)},handlers.resolve=function(self,value){var result=tryCatch(getThen,value);if("error"===result.status)return handlers.reject(self,result.value);var thenable=result.value;if(thenable)safelyResolveThenable(self,thenable);else{self.state=FULFILLED,self.outcome=value;for(var i=-1,len=self.queue.length;++i<len;)self.queue[i].callFulfilled(value)}return self},handlers.reject=function(self,error){self.state=REJECTED,self.outcome=error;for(var i=-1,len=self.queue.length;++i<len;)self.queue[i].callRejected(error);return self},Promise.resolve=function resolve(value){if(value instanceof this)return value;return handlers.resolve(new this(INTERNAL),value)},Promise.reject=function reject(reason){var promise=new this(INTERNAL);return handlers.reject(promise,reason)},Promise.all=function all(iterable){var self=this;if("[object Array]"!==Object.prototype.toString.call(iterable))return this.reject(new TypeError("must be an array"));var len=iterable.length,called=!1;if(!len)return this.resolve([]);var values=new Array(len),resolved=0,i=-1,promise=new this(INTERNAL);for(;++i<len;)allResolver(iterable[i],i);return promise;function allResolver(value,i){self.resolve(value).then((function resolveFromAll(outValue){values[i]=outValue,++resolved!==len||called||(called=!0,handlers.resolve(promise,values))}),(function(error){called||(called=!0,handlers.reject(promise,error))}))}},Promise.race=function race(iterable){var self=this;if("[object Array]"!==Object.prototype.toString.call(iterable))return this.reject(new TypeError("must be an array"));var len=iterable.length,called=!1;if(!len)return this.resolve([]);var i=-1,promise=new this(INTERNAL);for(;++i<len;)value=iterable[i],self.resolve(value).then((function(response){called||(called=!0,handlers.resolve(promise,response))}),(function(error){called||(called=!0,handlers.reject(promise,error))}));var value;return promise}},{1:1}],3:[function(_dereq_,module,exports){(function(global){"use strict";"function"!=typeof global.Promise&&(global.Promise=_dereq_(2))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(_dereq_,module,exports){"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};var idb=function getIDB(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}();function createBlob(parts,properties){parts=parts||[],properties=properties||{};try{return new Blob(parts,properties)}catch(e){if("TypeError"!==e.name)throw e;for(var builder=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),i=0;i<parts.length;i+=1)builder.append(parts[i]);return builder.getBlob(properties.type)}}"undefined"==typeof Promise&&_dereq_(3);var Promise$1=Promise;function executeCallback(promise,callback){callback&&promise.then((function(result){callback(null,result)}),(function(error){callback(error)}))}function executeTwoCallbacks(promise,callback,errorCallback){"function"==typeof callback&&promise.then(callback),"function"==typeof errorCallback&&promise.catch(errorCallback)}function normalizeKey(key){return"string"!=typeof key&&(console.warn(key+" used as a key, but it is not a string."),key=String(key)),key}function getCallback(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var supportsBlobs=void 0,dbContexts={},toString=Object.prototype.toString;function _checkBlobSupport(idb){return"boolean"==typeof supportsBlobs?Promise$1.resolve(supportsBlobs):function _checkBlobSupportWithoutCaching(idb){return new Promise$1((function(resolve){var txn=idb.transaction("local-forage-detect-blob-support","readwrite"),blob=createBlob([""]);txn.objectStore("local-forage-detect-blob-support").put(blob,"key"),txn.onabort=function(e){e.preventDefault(),e.stopPropagation(),resolve(!1)},txn.oncomplete=function(){var matchedChrome=navigator.userAgent.match(/Chrome\/(\d+)/),matchedEdge=navigator.userAgent.match(/Edge\//);resolve(matchedEdge||!matchedChrome||parseInt(matchedChrome[1],10)>=43)}})).catch((function(){return!1}))}(idb).then((function(value){return supportsBlobs=value}))}function _deferReadiness(dbInfo){var dbContext=dbContexts[dbInfo.name],deferredOperation={};deferredOperation.promise=new Promise$1((function(resolve,reject){deferredOperation.resolve=resolve,deferredOperation.reject=reject})),dbContext.deferredOperations.push(deferredOperation),dbContext.dbReady?dbContext.dbReady=dbContext.dbReady.then((function(){return deferredOperation.promise})):dbContext.dbReady=deferredOperation.promise}function _advanceReadiness(dbInfo){var deferredOperation=dbContexts[dbInfo.name].deferredOperations.pop();if(deferredOperation)return deferredOperation.resolve(),deferredOperation.promise}function _rejectReadiness(dbInfo,err){var deferredOperation=dbContexts[dbInfo.name].deferredOperations.pop();if(deferredOperation)return deferredOperation.reject(err),deferredOperation.promise}function _getConnection(dbInfo,upgradeNeeded){return new Promise$1((function(resolve,reject){if(dbContexts[dbInfo.name]=dbContexts[dbInfo.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},dbInfo.db){if(!upgradeNeeded)return resolve(dbInfo.db);_deferReadiness(dbInfo),dbInfo.db.close()}var dbArgs=[dbInfo.name];upgradeNeeded&&dbArgs.push(dbInfo.version);var openreq=idb.open.apply(idb,dbArgs);upgradeNeeded&&(openreq.onupgradeneeded=function(e){var db=openreq.result;try{db.createObjectStore(dbInfo.storeName),e.oldVersion<=1&&db.createObjectStore("local-forage-detect-blob-support")}catch(ex){if("ConstraintError"!==ex.name)throw ex;console.warn('The database "'+dbInfo.name+'" has been upgraded from version '+e.oldVersion+" to version "+e.newVersion+', but the storage "'+dbInfo.storeName+'" already exists.')}}),openreq.onerror=function(e){e.preventDefault(),reject(openreq.error)},openreq.onsuccess=function(){resolve(openreq.result),_advanceReadiness(dbInfo)}}))}function _getOriginalConnection(dbInfo){return _getConnection(dbInfo,!1)}function _getUpgradedConnection(dbInfo){return _getConnection(dbInfo,!0)}function _isUpgradeNeeded(dbInfo,defaultVersion){if(!dbInfo.db)return!0;var isNewStore=!dbInfo.db.objectStoreNames.contains(dbInfo.storeName),isDowngrade=dbInfo.version<dbInfo.db.version,isUpgrade=dbInfo.version>dbInfo.db.version;if(isDowngrade&&(dbInfo.version!==defaultVersion&&console.warn('The database "'+dbInfo.name+"\" can't be downgraded from version "+dbInfo.db.version+" to version "+dbInfo.version+"."),dbInfo.version=dbInfo.db.version),isUpgrade||isNewStore){if(isNewStore){var incVersion=dbInfo.db.version+1;incVersion>dbInfo.version&&(dbInfo.version=incVersion)}return!0}return!1}function _decodeBlob(encodedBlob){return createBlob([function _binStringToArrayBuffer(bin){for(var length=bin.length,buf=new ArrayBuffer(length),arr=new Uint8Array(buf),i=0;i<length;i++)arr[i]=bin.charCodeAt(i);return buf}(atob(encodedBlob.data))],{type:encodedBlob.type})}function _isEncodedBlob(value){return value&&value.__local_forage_encoded_blob}function _fullyReady(callback){var self=this,promise=self._initReady().then((function(){var dbContext=dbContexts[self._dbInfo.name];if(dbContext&&dbContext.dbReady)return dbContext.dbReady}));return executeTwoCallbacks(promise,callback,callback),promise}function createTransaction(dbInfo,mode,callback,retries){void 0===retries&&(retries=1);try{var tx=dbInfo.db.transaction(dbInfo.storeName,mode);callback(null,tx)}catch(err){if(retries>0&&(!dbInfo.db||"InvalidStateError"===err.name||"NotFoundError"===err.name))return Promise$1.resolve().then((function(){if(!dbInfo.db||"NotFoundError"===err.name&&!dbInfo.db.objectStoreNames.contains(dbInfo.storeName)&&dbInfo.version<=dbInfo.db.version)return dbInfo.db&&(dbInfo.version=dbInfo.db.version+1),_getUpgradedConnection(dbInfo)})).then((function(){return function _tryReconnect(dbInfo){_deferReadiness(dbInfo);for(var dbContext=dbContexts[dbInfo.name],forages=dbContext.forages,i=0;i<forages.length;i++){var forage=forages[i];forage._dbInfo.db&&(forage._dbInfo.db.close(),forage._dbInfo.db=null)}return dbInfo.db=null,_getOriginalConnection(dbInfo).then((function(db){return dbInfo.db=db,_isUpgradeNeeded(dbInfo)?_getUpgradedConnection(dbInfo):db})).then((function(db){dbInfo.db=dbContext.db=db;for(var i=0;i<forages.length;i++)forages[i]._dbInfo.db=db})).catch((function(err){throw _rejectReadiness(dbInfo,err),err}))}(dbInfo).then((function(){createTransaction(dbInfo,mode,callback,retries-1)}))})).catch(callback);callback(err)}}var asyncStorage={_driver:"asyncStorage",_initStorage:function _initStorage(options){var self=this,dbInfo={db:null};if(options)for(var i in options)dbInfo[i]=options[i];var dbContext=dbContexts[dbInfo.name];dbContext||(dbContext={forages:[],db:null,dbReady:null,deferredOperations:[]},dbContexts[dbInfo.name]=dbContext),dbContext.forages.push(self),self._initReady||(self._initReady=self.ready,self.ready=_fullyReady);var initPromises=[];function ignoreErrors(){return Promise$1.resolve()}for(var j=0;j<dbContext.forages.length;j++){var forage=dbContext.forages[j];forage!==self&&initPromises.push(forage._initReady().catch(ignoreErrors))}var forages=dbContext.forages.slice(0);return Promise$1.all(initPromises).then((function(){return dbInfo.db=dbContext.db,_getOriginalConnection(dbInfo)})).then((function(db){return dbInfo.db=db,_isUpgradeNeeded(dbInfo,self._defaultConfig.version)?_getUpgradedConnection(dbInfo):db})).then((function(db){dbInfo.db=dbContext.db=db,self._dbInfo=dbInfo;for(var k=0;k<forages.length;k++){var forage=forages[k];forage!==self&&(forage._dbInfo.db=dbInfo.db,forage._dbInfo.version=dbInfo.version)}}))},_support:function isIndexedDBValid(){try{if(!idb||!idb.open)return!1;var isSafari="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),hasFetch="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!isSafari||hasFetch)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}}(),iterate:function iterate(iterator,callback){var self=this,promise=new Promise$1((function(resolve,reject){self.ready().then((function(){createTransaction(self._dbInfo,"readonly",(function(err,transaction){if(err)return reject(err);try{var req=transaction.objectStore(self._dbInfo.storeName).openCursor(),iterationNumber=1;req.onsuccess=function(){var cursor=req.result;if(cursor){var value=cursor.value;_isEncodedBlob(value)&&(value=_decodeBlob(value));var result=iterator(value,cursor.key,iterationNumber++);void 0!==result?resolve(result):cursor.continue()}else resolve()},req.onerror=function(){reject(req.error)}}catch(e){reject(e)}}))})).catch(reject)}));return executeCallback(promise,callback),promise},getItem:function getItem(key,callback){var self=this;key=normalizeKey(key);var promise=new Promise$1((function(resolve,reject){self.ready().then((function(){createTransaction(self._dbInfo,"readonly",(function(err,transaction){if(err)return reject(err);try{var req=transaction.objectStore(self._dbInfo.storeName).get(key);req.onsuccess=function(){var value=req.result;void 0===value&&(value=null),_isEncodedBlob(value)&&(value=_decodeBlob(value)),resolve(value)},req.onerror=function(){reject(req.error)}}catch(e){reject(e)}}))})).catch(reject)}));return executeCallback(promise,callback),promise},setItem:function setItem(key,value,callback){var self=this;key=normalizeKey(key);var promise=new Promise$1((function(resolve,reject){var dbInfo;self.ready().then((function(){return dbInfo=self._dbInfo,"[object Blob]"===toString.call(value)?_checkBlobSupport(dbInfo.db).then((function(blobSupport){return blobSupport?value:function _encodeBlob(blob){return new Promise$1((function(resolve,reject){var reader=new FileReader;reader.onerror=reject,reader.onloadend=function(e){var base64=btoa(e.target.result||"");resolve({__local_forage_encoded_blob:!0,data:base64,type:blob.type})},reader.readAsBinaryString(blob)}))}(value)})):value})).then((function(value){createTransaction(self._dbInfo,"readwrite",(function(err,transaction){if(err)return reject(err);try{var store=transaction.objectStore(self._dbInfo.storeName);null===value&&(value=void 0);var req=store.put(value,key);transaction.oncomplete=function(){void 0===value&&(value=null),resolve(value)},transaction.onabort=transaction.onerror=function(){var err=req.error?req.error:req.transaction.error;reject(err)}}catch(e){reject(e)}}))})).catch(reject)}));return executeCallback(promise,callback),promise},removeItem:function removeItem(key,callback){var self=this;key=normalizeKey(key);var promise=new Promise$1((function(resolve,reject){self.ready().then((function(){createTransaction(self._dbInfo,"readwrite",(function(err,transaction){if(err)return reject(err);try{var req=transaction.objectStore(self._dbInfo.storeName).delete(key);transaction.oncomplete=function(){resolve()},transaction.onerror=function(){reject(req.error)},transaction.onabort=function(){var err=req.error?req.error:req.transaction.error;reject(err)}}catch(e){reject(e)}}))})).catch(reject)}));return executeCallback(promise,callback),promise},clear:function clear(callback){var self=this,promise=new Promise$1((function(resolve,reject){self.ready().then((function(){createTransaction(self._dbInfo,"readwrite",(function(err,transaction){if(err)return reject(err);try{var req=transaction.objectStore(self._dbInfo.storeName).clear();transaction.oncomplete=function(){resolve()},transaction.onabort=transaction.onerror=function(){var err=req.error?req.error:req.transaction.error;reject(err)}}catch(e){reject(e)}}))})).catch(reject)}));return executeCallback(promise,callback),promise},length:function length(callback){var self=this,promise=new Promise$1((function(resolve,reject){self.ready().then((function(){createTransaction(self._dbInfo,"readonly",(function(err,transaction){if(err)return reject(err);try{var req=transaction.objectStore(self._dbInfo.storeName).count();req.onsuccess=function(){resolve(req.result)},req.onerror=function(){reject(req.error)}}catch(e){reject(e)}}))})).catch(reject)}));return executeCallback(promise,callback),promise},key:function key(n,callback){var self=this,promise=new Promise$1((function(resolve,reject){n<0?resolve(null):self.ready().then((function(){createTransaction(self._dbInfo,"readonly",(function(err,transaction){if(err)return reject(err);try{var store=transaction.objectStore(self._dbInfo.storeName),advanced=!1,req=store.openKeyCursor();req.onsuccess=function(){var cursor=req.result;cursor?0===n||advanced?resolve(cursor.key):(advanced=!0,cursor.advance(n)):resolve(null)},req.onerror=function(){reject(req.error)}}catch(e){reject(e)}}))})).catch(reject)}));return executeCallback(promise,callback),promise},keys:function keys(callback){var self=this,promise=new Promise$1((function(resolve,reject){self.ready().then((function(){createTransaction(self._dbInfo,"readonly",(function(err,transaction){if(err)return reject(err);try{var req=transaction.objectStore(self._dbInfo.storeName).openKeyCursor(),keys=[];req.onsuccess=function(){var cursor=req.result;cursor?(keys.push(cursor.key),cursor.continue()):resolve(keys)},req.onerror=function(){reject(req.error)}}catch(e){reject(e)}}))})).catch(reject)}));return executeCallback(promise,callback),promise},dropInstance:function dropInstance(options,callback){callback=getCallback.apply(this,arguments);var currentConfig=this.config();(options="function"!=typeof options&&options||{}).name||(options.name=options.name||currentConfig.name,options.storeName=options.storeName||currentConfig.storeName);var promise,self=this;if(options.name){var isCurrentDb=options.name===currentConfig.name&&self._dbInfo.db,dbPromise=isCurrentDb?Promise$1.resolve(self._dbInfo.db):_getOriginalConnection(options).then((function(db){var dbContext=dbContexts[options.name],forages=dbContext.forages;dbContext.db=db;for(var i=0;i<forages.length;i++)forages[i]._dbInfo.db=db;return db}));promise=options.storeName?dbPromise.then((function(db){if(db.objectStoreNames.contains(options.storeName)){var newVersion=db.version+1;_deferReadiness(options);var dbContext=dbContexts[options.name],forages=dbContext.forages;db.close();for(var i=0;i<forages.length;i++){var forage=forages[i];forage._dbInfo.db=null,forage._dbInfo.version=newVersion}return new Promise$1((function(resolve,reject){var req=idb.open(options.name,newVersion);req.onerror=function(err){req.result.close(),reject(err)},req.onupgradeneeded=function(){req.result.deleteObjectStore(options.storeName)},req.onsuccess=function(){var db=req.result;db.close(),resolve(db)}})).then((function(db){dbContext.db=db;for(var j=0;j<forages.length;j++){var _forage2=forages[j];_forage2._dbInfo.db=db,_advanceReadiness(_forage2._dbInfo)}})).catch((function(err){throw(_rejectReadiness(options,err)||Promise$1.resolve()).catch((function(){})),err}))}})):dbPromise.then((function(db){_deferReadiness(options);var dbContext=dbContexts[options.name],forages=dbContext.forages;db.close();for(var i=0;i<forages.length;i++){forages[i]._dbInfo.db=null}return new Promise$1((function(resolve,reject){var req=idb.deleteDatabase(options.name);req.onerror=req.onblocked=function(err){var db=req.result;db&&db.close(),reject(err)},req.onsuccess=function(){var db=req.result;db&&db.close(),resolve(db)}})).then((function(db){dbContext.db=db;for(var i=0;i<forages.length;i++){_advanceReadiness(forages[i]._dbInfo)}})).catch((function(err){throw(_rejectReadiness(options,err)||Promise$1.resolve()).catch((function(){})),err}))}))}else promise=Promise$1.reject("Invalid arguments");return executeCallback(promise,callback),promise}};var BASE_CHARS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",BLOB_TYPE_PREFIX_REGEX=/^~~local_forage_type~([^~]+)~/,SERIALIZED_MARKER_LENGTH="__lfsc__:".length,TYPE_SERIALIZED_MARKER_LENGTH=SERIALIZED_MARKER_LENGTH+"arbf".length,toString$1=Object.prototype.toString;function stringToBuffer(serializedString){var i,encoded1,encoded2,encoded3,encoded4,bufferLength=.75*serializedString.length,len=serializedString.length,p=0;"="===serializedString[serializedString.length-1]&&(bufferLength--,"="===serializedString[serializedString.length-2]&&bufferLength--);var buffer=new ArrayBuffer(bufferLength),bytes=new Uint8Array(buffer);for(i=0;i<len;i+=4)encoded1=BASE_CHARS.indexOf(serializedString[i]),encoded2=BASE_CHARS.indexOf(serializedString[i+1]),encoded3=BASE_CHARS.indexOf(serializedString[i+2]),encoded4=BASE_CHARS.indexOf(serializedString[i+3]),bytes[p++]=encoded1<<2|encoded2>>4,bytes[p++]=(15&encoded2)<<4|encoded3>>2,bytes[p++]=(3&encoded3)<<6|63&encoded4;return buffer}function bufferToString(buffer){var i,bytes=new Uint8Array(buffer),base64String="";for(i=0;i<bytes.length;i+=3)base64String+=BASE_CHARS[bytes[i]>>2],base64String+=BASE_CHARS[(3&bytes[i])<<4|bytes[i+1]>>4],base64String+=BASE_CHARS[(15&bytes[i+1])<<2|bytes[i+2]>>6],base64String+=BASE_CHARS[63&bytes[i+2]];return bytes.length%3==2?base64String=base64String.substring(0,base64String.length-1)+"=":bytes.length%3==1&&(base64String=base64String.substring(0,base64String.length-2)+"=="),base64String}var localforageSerializer={serialize:function serialize(value,callback){var valueType="";if(value&&(valueType=toString$1.call(value)),value&&("[object ArrayBuffer]"===valueType||value.buffer&&"[object ArrayBuffer]"===toString$1.call(value.buffer))){var buffer,marker="__lfsc__:";value instanceof ArrayBuffer?(buffer=value,marker+="arbf"):(buffer=value.buffer,"[object Int8Array]"===valueType?marker+="si08":"[object Uint8Array]"===valueType?marker+="ui08":"[object Uint8ClampedArray]"===valueType?marker+="uic8":"[object Int16Array]"===valueType?marker+="si16":"[object Uint16Array]"===valueType?marker+="ur16":"[object Int32Array]"===valueType?marker+="si32":"[object Uint32Array]"===valueType?marker+="ui32":"[object Float32Array]"===valueType?marker+="fl32":"[object Float64Array]"===valueType?marker+="fl64":callback(new Error("Failed to get type for BinaryArray"))),callback(marker+bufferToString(buffer))}else if("[object Blob]"===valueType){var fileReader=new FileReader;fileReader.onload=function(){var str="~~local_forage_type~"+value.type+"~"+bufferToString(this.result);callback("__lfsc__:blob"+str)},fileReader.readAsArrayBuffer(value)}else try{callback(JSON.stringify(value))}catch(e){console.error("Couldn't convert value into a JSON string: ",value),callback(null,e)}},deserialize:function deserialize(value){if("__lfsc__:"!==value.substring(0,SERIALIZED_MARKER_LENGTH))return JSON.parse(value);var blobType,serializedString=value.substring(TYPE_SERIALIZED_MARKER_LENGTH),type=value.substring(SERIALIZED_MARKER_LENGTH,TYPE_SERIALIZED_MARKER_LENGTH);if("blob"===type&&BLOB_TYPE_PREFIX_REGEX.test(serializedString)){var matcher=serializedString.match(BLOB_TYPE_PREFIX_REGEX);blobType=matcher[1],serializedString=serializedString.substring(matcher[0].length)}var buffer=stringToBuffer(serializedString);switch(type){case"arbf":return buffer;case"blob":return createBlob([buffer],{type:blobType});case"si08":return new Int8Array(buffer);case"ui08":return new Uint8Array(buffer);case"uic8":return new Uint8ClampedArray(buffer);case"si16":return new Int16Array(buffer);case"ur16":return new Uint16Array(buffer);case"si32":return new Int32Array(buffer);case"ui32":return new Uint32Array(buffer);case"fl32":return new Float32Array(buffer);case"fl64":return new Float64Array(buffer);default:throw new Error("Unkown type: "+type)}},stringToBuffer:stringToBuffer,bufferToString:bufferToString};function createDbTable(t,dbInfo,callback,errorCallback){t.executeSql("CREATE TABLE IF NOT EXISTS "+dbInfo.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],callback,errorCallback)}function tryExecuteSql(t,dbInfo,sqlStatement,args,callback,errorCallback){t.executeSql(sqlStatement,args,callback,(function(t,error){error.code===error.SYNTAX_ERR?t.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[dbInfo.storeName],(function(t,results){results.rows.length?errorCallback(t,error):createDbTable(t,dbInfo,(function(){t.executeSql(sqlStatement,args,callback,errorCallback)}),errorCallback)}),errorCallback):errorCallback(t,error)}),errorCallback)}function _setItem(key,value,callback,retriesLeft){var self=this;key=normalizeKey(key);var promise=new Promise$1((function(resolve,reject){self.ready().then((function(){void 0===value&&(value=null);var originalValue=value,dbInfo=self._dbInfo;dbInfo.serializer.serialize(value,(function(value,error){error?reject(error):dbInfo.db.transaction((function(t){tryExecuteSql(t,dbInfo,"INSERT OR REPLACE INTO "+dbInfo.storeName+" (key, value) VALUES (?, ?)",[key,value],(function(){resolve(originalValue)}),(function(t,error){reject(error)}))}),(function(sqlError){if(sqlError.code===sqlError.QUOTA_ERR){if(retriesLeft>0)return void resolve(_setItem.apply(self,[key,originalValue,callback,retriesLeft-1]));reject(sqlError)}}))}))})).catch(reject)}));return executeCallback(promise,callback),promise}function getAllStoreNames(db){return new Promise$1((function(resolve,reject){db.transaction((function(t){t.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(t,results){for(var storeNames=[],i=0;i<results.rows.length;i++)storeNames.push(results.rows.item(i).name);resolve({db:db,storeNames:storeNames})}),(function(t,error){reject(error)}))}),(function(sqlError){reject(sqlError)}))}))}var webSQLStorage={_driver:"webSQLStorage",_initStorage:function _initStorage$1(options){var self=this,dbInfo={db:null};if(options)for(var i in options)dbInfo[i]="string"!=typeof options[i]?options[i].toString():options[i];var dbInfoPromise=new Promise$1((function(resolve,reject){try{dbInfo.db=openDatabase(dbInfo.name,String(dbInfo.version),dbInfo.description,dbInfo.size)}catch(e){return reject(e)}dbInfo.db.transaction((function(t){createDbTable(t,dbInfo,(function(){self._dbInfo=dbInfo,resolve()}),(function(t,error){reject(error)}))}),reject)}));return dbInfo.serializer=localforageSerializer,dbInfoPromise},_support:function isWebSQLValid(){return"function"==typeof openDatabase}(),iterate:function iterate$1(iterator,callback){var self=this,promise=new Promise$1((function(resolve,reject){self.ready().then((function(){var dbInfo=self._dbInfo;dbInfo.db.transaction((function(t){tryExecuteSql(t,dbInfo,"SELECT * FROM "+dbInfo.storeName,[],(function(t,results){for(var rows=results.rows,length=rows.length,i=0;i<length;i++){var item=rows.item(i),result=item.value;if(result&&(result=dbInfo.serializer.deserialize(result)),void 0!==(result=iterator(result,item.key,i+1)))return void resolve(result)}resolve()}),(function(t,error){reject(error)}))}))})).catch(reject)}));return executeCallback(promise,callback),promise},getItem:function getItem$1(key,callback){var self=this;key=normalizeKey(key);var promise=new Promise$1((function(resolve,reject){self.ready().then((function(){var dbInfo=self._dbInfo;dbInfo.db.transaction((function(t){tryExecuteSql(t,dbInfo,"SELECT * FROM "+dbInfo.storeName+" WHERE key = ? LIMIT 1",[key],(function(t,results){var result=results.rows.length?results.rows.item(0).value:null;result&&(result=dbInfo.serializer.deserialize(result)),resolve(result)}),(function(t,error){reject(error)}))}))})).catch(reject)}));return executeCallback(promise,callback),promise},setItem:function setItem$1(key,value,callback){return _setItem.apply(this,[key,value,callback,1])},removeItem:function removeItem$1(key,callback){var self=this;key=normalizeKey(key);var promise=new Promise$1((function(resolve,reject){self.ready().then((function(){var dbInfo=self._dbInfo;dbInfo.db.transaction((function(t){tryExecuteSql(t,dbInfo,"DELETE FROM "+dbInfo.storeName+" WHERE key = ?",[key],(function(){resolve()}),(function(t,error){reject(error)}))}))})).catch(reject)}));return executeCallback(promise,callback),promise},clear:function clear$1(callback){var self=this,promise=new Promise$1((function(resolve,reject){self.ready().then((function(){var dbInfo=self._dbInfo;dbInfo.db.transaction((function(t){tryExecuteSql(t,dbInfo,"DELETE FROM "+dbInfo.storeName,[],(function(){resolve()}),(function(t,error){reject(error)}))}))})).catch(reject)}));return executeCallback(promise,callback),promise},length:function length$1(callback){var self=this,promise=new Promise$1((function(resolve,reject){self.ready().then((function(){var dbInfo=self._dbInfo;dbInfo.db.transaction((function(t){tryExecuteSql(t,dbInfo,"SELECT COUNT(key) as c FROM "+dbInfo.storeName,[],(function(t,results){var result=results.rows.item(0).c;resolve(result)}),(function(t,error){reject(error)}))}))})).catch(reject)}));return executeCallback(promise,callback),promise},key:function key$1(n,callback){var self=this,promise=new Promise$1((function(resolve,reject){self.ready().then((function(){var dbInfo=self._dbInfo;dbInfo.db.transaction((function(t){tryExecuteSql(t,dbInfo,"SELECT key FROM "+dbInfo.storeName+" WHERE id = ? LIMIT 1",[n+1],(function(t,results){var result=results.rows.length?results.rows.item(0).key:null;resolve(result)}),(function(t,error){reject(error)}))}))})).catch(reject)}));return executeCallback(promise,callback),promise},keys:function keys$1(callback){var self=this,promise=new Promise$1((function(resolve,reject){self.ready().then((function(){var dbInfo=self._dbInfo;dbInfo.db.transaction((function(t){tryExecuteSql(t,dbInfo,"SELECT key FROM "+dbInfo.storeName,[],(function(t,results){for(var keys=[],i=0;i<results.rows.length;i++)keys.push(results.rows.item(i).key);resolve(keys)}),(function(t,error){reject(error)}))}))})).catch(reject)}));return executeCallback(promise,callback),promise},dropInstance:function dropInstance$1(options,callback){callback=getCallback.apply(this,arguments);var currentConfig=this.config();(options="function"!=typeof options&&options||{}).name||(options.name=options.name||currentConfig.name,options.storeName=options.storeName||currentConfig.storeName);var promise,self=this;return executeCallback(promise=options.name?new Promise$1((function(resolve){var db;db=options.name===currentConfig.name?self._dbInfo.db:openDatabase(options.name,"","",0),options.storeName?resolve({db:db,storeNames:[options.storeName]}):resolve(getAllStoreNames(db))})).then((function(operationInfo){return new Promise$1((function(resolve,reject){operationInfo.db.transaction((function(t){function dropTable(storeName){return new Promise$1((function(resolve,reject){t.executeSql("DROP TABLE IF EXISTS "+storeName,[],(function(){resolve()}),(function(t,error){reject(error)}))}))}for(var operations=[],i=0,len=operationInfo.storeNames.length;i<len;i++)operations.push(dropTable(operationInfo.storeNames[i]));Promise$1.all(operations).then((function(){resolve()})).catch((function(e){reject(e)}))}),(function(sqlError){reject(sqlError)}))}))})):Promise$1.reject("Invalid arguments"),callback),promise}};function _getKeyPrefix(options,defaultConfig){var keyPrefix=options.name+"/";return options.storeName!==defaultConfig.storeName&&(keyPrefix+=options.storeName+"/"),keyPrefix}function _isLocalStorageUsable(){return!function checkIfLocalStorageThrows(){try{return localStorage.setItem("_localforage_support_test",!0),localStorage.removeItem("_localforage_support_test"),!1}catch(e){return!0}}()||localStorage.length>0}var localStorageWrapper={_driver:"localStorageWrapper",_initStorage:function _initStorage$2(options){var dbInfo={};if(options)for(var i in options)dbInfo[i]=options[i];return dbInfo.keyPrefix=_getKeyPrefix(options,this._defaultConfig),_isLocalStorageUsable()?(this._dbInfo=dbInfo,dbInfo.serializer=localforageSerializer,Promise$1.resolve()):Promise$1.reject()},_support:function isLocalStorageValid(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}(),iterate:function iterate$2(iterator,callback){var self=this,promise=self.ready().then((function(){for(var dbInfo=self._dbInfo,keyPrefix=dbInfo.keyPrefix,keyPrefixLength=keyPrefix.length,length=localStorage.length,iterationNumber=1,i=0;i<length;i++){var key=localStorage.key(i);if(0===key.indexOf(keyPrefix)){var value=localStorage.getItem(key);if(value&&(value=dbInfo.serializer.deserialize(value)),void 0!==(value=iterator(value,key.substring(keyPrefixLength),iterationNumber++)))return value}}}));return executeCallback(promise,callback),promise},getItem:function getItem$2(key,callback){var self=this;key=normalizeKey(key);var promise=self.ready().then((function(){var dbInfo=self._dbInfo,result=localStorage.getItem(dbInfo.keyPrefix+key);return result&&(result=dbInfo.serializer.deserialize(result)),result}));return executeCallback(promise,callback),promise},setItem:function setItem$2(key,value,callback){var self=this;key=normalizeKey(key);var promise=self.ready().then((function(){void 0===value&&(value=null);var originalValue=value;return new Promise$1((function(resolve,reject){var dbInfo=self._dbInfo;dbInfo.serializer.serialize(value,(function(value,error){if(error)reject(error);else try{localStorage.setItem(dbInfo.keyPrefix+key,value),resolve(originalValue)}catch(e){"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||reject(e),reject(e)}}))}))}));return executeCallback(promise,callback),promise},removeItem:function removeItem$2(key,callback){var self=this;key=normalizeKey(key);var promise=self.ready().then((function(){var dbInfo=self._dbInfo;localStorage.removeItem(dbInfo.keyPrefix+key)}));return executeCallback(promise,callback),promise},clear:function clear$2(callback){var self=this,promise=self.ready().then((function(){for(var keyPrefix=self._dbInfo.keyPrefix,i=localStorage.length-1;i>=0;i--){var key=localStorage.key(i);0===key.indexOf(keyPrefix)&&localStorage.removeItem(key)}}));return executeCallback(promise,callback),promise},length:function length$2(callback){var promise=this.keys().then((function(keys){return keys.length}));return executeCallback(promise,callback),promise},key:function key$2(n,callback){var self=this,promise=self.ready().then((function(){var result,dbInfo=self._dbInfo;try{result=localStorage.key(n)}catch(error){result=null}return result&&(result=result.substring(dbInfo.keyPrefix.length)),result}));return executeCallback(promise,callback),promise},keys:function keys$2(callback){var self=this,promise=self.ready().then((function(){for(var dbInfo=self._dbInfo,length=localStorage.length,keys=[],i=0;i<length;i++){var itemKey=localStorage.key(i);0===itemKey.indexOf(dbInfo.keyPrefix)&&keys.push(itemKey.substring(dbInfo.keyPrefix.length))}return keys}));return executeCallback(promise,callback),promise},dropInstance:function dropInstance$2(options,callback){if(callback=getCallback.apply(this,arguments),!(options="function"!=typeof options&&options||{}).name){var currentConfig=this.config();options.name=options.name||currentConfig.name,options.storeName=options.storeName||currentConfig.storeName}var promise,self=this;return executeCallback(promise=options.name?new Promise$1((function(resolve){options.storeName?resolve(_getKeyPrefix(options,self._defaultConfig)):resolve(options.name+"/")})).then((function(keyPrefix){for(var i=localStorage.length-1;i>=0;i--){var key=localStorage.key(i);0===key.indexOf(keyPrefix)&&localStorage.removeItem(key)}})):Promise$1.reject("Invalid arguments"),callback),promise}},sameValue=function sameValue(x,y){return x===y||"number"==typeof x&&"number"==typeof y&&isNaN(x)&&isNaN(y)},includes=function includes(array,searchElement){for(var len=array.length,i=0;i<len;){if(sameValue(array[i],searchElement))return!0;i++}return!1},isArray=Array.isArray||function(arg){return"[object Array]"===Object.prototype.toString.call(arg)},DefinedDrivers={},DriverSupport={},DefaultDrivers={INDEXEDDB:asyncStorage,WEBSQL:webSQLStorage,LOCALSTORAGE:localStorageWrapper},DefaultDriverOrder=[DefaultDrivers.INDEXEDDB._driver,DefaultDrivers.WEBSQL._driver,DefaultDrivers.LOCALSTORAGE._driver],OptionalDriverMethods=["dropInstance"],LibraryMethods=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(OptionalDriverMethods),DefaultConfig={description:"",driver:DefaultDriverOrder.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function callWhenReady(localForageInstance,libraryMethod){localForageInstance[libraryMethod]=function(){var _args=arguments;return localForageInstance.ready().then((function(){return localForageInstance[libraryMethod].apply(localForageInstance,_args)}))}}function extend(){for(var i=1;i<arguments.length;i++){var arg=arguments[i];if(arg)for(var _key in arg)arg.hasOwnProperty(_key)&&(isArray(arg[_key])?arguments[0][_key]=arg[_key].slice():arguments[0][_key]=arg[_key])}return arguments[0]}var localforage_js=new(function(){function LocalForage(options){for(var driverTypeKey in function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,LocalForage),DefaultDrivers)if(DefaultDrivers.hasOwnProperty(driverTypeKey)){var driver=DefaultDrivers[driverTypeKey],driverName=driver._driver;this[driverTypeKey]=driverName,DefinedDrivers[driverName]||this.defineDriver(driver)}this._defaultConfig=extend({},DefaultConfig),this._config=extend({},this._defaultConfig,options),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return LocalForage.prototype.config=function config(options){if("object"===(void 0===options?"undefined":_typeof(options))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var i in options){if("storeName"===i&&(options[i]=options[i].replace(/\W/g,"_")),"version"===i&&"number"!=typeof options[i])return new Error("Database version must be a number.");this._config[i]=options[i]}return!("driver"in options)||!options.driver||this.setDriver(this._config.driver)}return"string"==typeof options?this._config[options]:this._config},LocalForage.prototype.defineDriver=function defineDriver(driverObject,callback,errorCallback){var promise=new Promise$1((function(resolve,reject){try{var driverName=driverObject._driver,complianceError=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!driverObject._driver)return void reject(complianceError);for(var driverMethods=LibraryMethods.concat("_initStorage"),i=0,len=driverMethods.length;i<len;i++){var driverMethodName=driverMethods[i];if((!includes(OptionalDriverMethods,driverMethodName)||driverObject[driverMethodName])&&"function"!=typeof driverObject[driverMethodName])return void reject(complianceError)}!function configureMissingMethods(){for(var methodNotImplementedFactory=function methodNotImplementedFactory(methodName){return function(){var error=new Error("Method "+methodName+" is not implemented by the current driver"),promise=Promise$1.reject(error);return executeCallback(promise,arguments[arguments.length-1]),promise}},_i=0,_len=OptionalDriverMethods.length;_i<_len;_i++){var optionalDriverMethod=OptionalDriverMethods[_i];driverObject[optionalDriverMethod]||(driverObject[optionalDriverMethod]=methodNotImplementedFactory(optionalDriverMethod))}}();var setDriverSupport=function setDriverSupport(support){DefinedDrivers[driverName]&&console.info("Redefining LocalForage driver: "+driverName),DefinedDrivers[driverName]=driverObject,DriverSupport[driverName]=support,resolve()};"_support"in driverObject?driverObject._support&&"function"==typeof driverObject._support?driverObject._support().then(setDriverSupport,reject):setDriverSupport(!!driverObject._support):setDriverSupport(!0)}catch(e){reject(e)}}));return executeTwoCallbacks(promise,callback,errorCallback),promise},LocalForage.prototype.driver=function driver(){return this._driver||null},LocalForage.prototype.getDriver=function getDriver(driverName,callback,errorCallback){var getDriverPromise=DefinedDrivers[driverName]?Promise$1.resolve(DefinedDrivers[driverName]):Promise$1.reject(new Error("Driver not found."));return executeTwoCallbacks(getDriverPromise,callback,errorCallback),getDriverPromise},LocalForage.prototype.getSerializer=function getSerializer(callback){var serializerPromise=Promise$1.resolve(localforageSerializer);return executeTwoCallbacks(serializerPromise,callback),serializerPromise},LocalForage.prototype.ready=function ready(callback){var self=this,promise=self._driverSet.then((function(){return null===self._ready&&(self._ready=self._initDriver()),self._ready}));return executeTwoCallbacks(promise,callback,callback),promise},LocalForage.prototype.setDriver=function setDriver(drivers,callback,errorCallback){var self=this;isArray(drivers)||(drivers=[drivers]);var supportedDrivers=this._getSupportedDrivers(drivers);function setDriverToConfig(){self._config.driver=self.driver()}function extendSelfWithDriver(driver){return self._extend(driver),setDriverToConfig(),self._ready=self._initStorage(self._config),self._ready}var oldDriverSetDone=null!==this._driverSet?this._driverSet.catch((function(){return Promise$1.resolve()})):Promise$1.resolve();return this._driverSet=oldDriverSetDone.then((function(){var driverName=supportedDrivers[0];return self._dbInfo=null,self._ready=null,self.getDriver(driverName).then((function(driver){self._driver=driver._driver,setDriverToConfig(),self._wrapLibraryMethodsWithReady(),self._initDriver=function initDriver(supportedDrivers){return function(){var currentDriverIndex=0;return function driverPromiseLoop(){for(;currentDriverIndex<supportedDrivers.length;){var driverName=supportedDrivers[currentDriverIndex];return currentDriverIndex++,self._dbInfo=null,self._ready=null,self.getDriver(driverName).then(extendSelfWithDriver).catch(driverPromiseLoop)}setDriverToConfig();var error=new Error("No available storage method found.");return self._driverSet=Promise$1.reject(error),self._driverSet}()}}(supportedDrivers)}))})).catch((function(){setDriverToConfig();var error=new Error("No available storage method found.");return self._driverSet=Promise$1.reject(error),self._driverSet})),executeTwoCallbacks(this._driverSet,callback,errorCallback),this._driverSet},LocalForage.prototype.supports=function supports(driverName){return!!DriverSupport[driverName]},LocalForage.prototype._extend=function _extend(libraryMethodsAndProperties){extend(this,libraryMethodsAndProperties)},LocalForage.prototype._getSupportedDrivers=function _getSupportedDrivers(drivers){for(var supportedDrivers=[],i=0,len=drivers.length;i<len;i++){var driverName=drivers[i];this.supports(driverName)&&supportedDrivers.push(driverName)}return supportedDrivers},LocalForage.prototype._wrapLibraryMethodsWithReady=function _wrapLibraryMethodsWithReady(){for(var i=0,len=LibraryMethods.length;i<len;i++)callWhenReady(this,LibraryMethods[i])},LocalForage.prototype.createInstance=function createInstance(options){return new LocalForage(options)},LocalForage}());module.exports=localforage_js},{3:3}]},{},[4])(4)})),function(i,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(i=i||self).Push=t()}(this,(function(){"use strict";var i={errors:{incompatible:"".concat("PushError:"," Push.js is incompatible with browser."),invalid_plugin:"".concat("PushError:"," plugin class missing from plugin manifest (invalid plugin). Please check the documentation."),invalid_title:"".concat("PushError:"," title of notification must be a string"),permission_denied:"".concat("PushError:"," permission request declined"),sw_notification_error:"".concat("PushError:"," could not show a ServiceWorker notification due to the following reason: "),sw_registration_error:"".concat("PushError:"," could not register the ServiceWorker due to the following reason: "),unknown_interface:"".concat("PushError:"," unable to create notification: unknown interface")}};function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(i)}function n(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function e(i,t){for(var n=0;n<t.length;n++){var e=t[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(i,e.key,e)}}function o(i,t,n){return t&&e(i.prototype,t),n&&e(i,n),i}function r(i,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(t&&t.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),t&&c(i,t)}function s(i){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(i){return i.__proto__||Object.getPrototypeOf(i)})(i)}function c(i,t){return(c=Object.setPrototypeOf||function(i,t){return i.__proto__=t,i})(i,t)}function a(i,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(i){if(void 0===i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}(i):t}var u=function(){function i(t){n(this,i),this._win=t,this.GRANTED="granted",this.DEFAULT="default",this.DENIED="denied",this._permissions=[this.GRANTED,this.DEFAULT,this.DENIED]}return o(i,[{key:"request",value:function(i,t){return arguments.length>0?this._requestWithCallback.apply(this,arguments):this._requestAsPromise()}},{key:"_requestWithCallback",value:function(i,t){var n,e=this,o=this.get(),r=!1,s=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e._win.Notification.permission;r||(r=!0,void 0===n&&e._win.webkitNotifications&&(n=e._win.webkitNotifications.checkPermission()),n===e.GRANTED||0===n?i&&i():t&&t())};o!==this.DEFAULT?s(o):this._win.webkitNotifications&&this._win.webkitNotifications.checkPermission?this._win.webkitNotifications.requestPermission(s):this._win.Notification&&this._win.Notification.requestPermission?(n=this._win.Notification.requestPermission(s))&&n.then&&n.then(s).catch((function(){t&&t()})):i&&i()}},{key:"_requestAsPromise",value:function(){var i=this,t=this.get(),n=t!==this.DEFAULT,e=this._win.Notification&&this._win.Notification.requestPermission,o=this._win.webkitNotifications&&this._win.webkitNotifications.checkPermission;return new Promise((function(r,s){var c,a=!1,u=function(t){a||(a=!0,function(t){return t===i.GRANTED||0===t}(t)?r():s())};n?u(t):o?i._win.webkitNotifications.requestPermission((function(i){u(i)})):e?(c=i._win.Notification.requestPermission(u))&&c.then&&c.then(u).catch(s):r()}))}},{key:"has",value:function(){return this.get()===this.GRANTED}},{key:"get",value:function(){return this._win.Notification&&this._win.Notification.permission?this._win.Notification.permission:this._win.webkitNotifications&&this._win.webkitNotifications.checkPermission?this._permissions[this._win.webkitNotifications.checkPermission()]:navigator.mozNotification?this.GRANTED:this._win.external&&this._win.external.msIsSiteMode?this._win.external.msIsSiteMode()?this.GRANTED:this.DEFAULT:this.GRANTED}}]),i}(),f=function(){function i(){n(this,i)}return o(i,null,[{key:"isUndefined",value:function(i){return void 0===i}},{key:"isNull",value:function(i){return null===obj}},{key:"isString",value:function(i){return"string"==typeof i}},{key:"isFunction",value:function(i){return i&&"[object Function]"==={}.toString.call(i)}},{key:"isObject",value:function(i){return"object"===t(i)}},{key:"objectMerge",value:function(i,t){for(var n in t)i.hasOwnProperty(n)&&this.isObject(i[n])&&this.isObject(t[n])?this.objectMerge(i[n],t[n]):i[n]=t[n]}}]),i}(),l=function i(t){n(this,i),this._win=t},h=function(i){function t(){return n(this,t),a(this,s(t).apply(this,arguments))}return r(t,l),o(t,[{key:"isSupported",value:function(){return void 0!==this._win.Notification}},{key:"create",value:function(i,t){return new this._win.Notification(i,{icon:f.isString(t.icon)||f.isUndefined(t.icon)||f.isNull(t.icon)?t.icon:t.icon.x32,body:t.body,tag:t.tag,requireInteraction:t.requireInteraction})}},{key:"close",value:function(i){i.close()}}]),t}(),_=function(t){function e(){return n(this,e),a(this,s(e).apply(this,arguments))}return r(e,l),o(e,[{key:"isSupported",value:function(){return void 0!==this._win.navigator&&void 0!==this._win.navigator.serviceWorker}},{key:"getFunctionBody",value:function(i){var t=i.toString().match(/function[^{]+{([\s\S]*)}$/);return null!=t&&t.length>1?t[1]:null}},{key:"create",value:function(t,n,e,o,r){var s=this;this._win.navigator.serviceWorker.register(o),this._win.navigator.serviceWorker.ready.then((function(o){var c={id:t,link:e.link,origin:document.location.href,onClick:f.isFunction(e.onClick)?s.getFunctionBody(e.onClick):"",onClose:f.isFunction(e.onClose)?s.getFunctionBody(e.onClose):""};void 0!==e.data&&null!==e.data&&(c=Object.assign(c,e.data)),o.showNotification(n,{icon:e.icon,body:e.body,vibrate:e.vibrate,tag:e.tag,data:c,requireInteraction:e.requireInteraction,silent:e.silent}).then((function(){o.getNotifications().then((function(i){o.active.postMessage(""),r(i)}))})).catch((function(t){throw new Error(i.errors.sw_notification_error+t.message)}))})).catch((function(t){throw new Error(i.errors.sw_registration_error+t.message)}))}},{key:"close",value:function(){}}]),e}(),v=function(i){function t(){return n(this,t),a(this,s(t).apply(this,arguments))}return r(t,l),o(t,[{key:"isSupported",value:function(){return void 0!==this._win.navigator.mozNotification}},{key:"create",value:function(i,t){var n=this._win.navigator.mozNotification.createNotification(i,t.body,t.icon);return n.show(),n}}]),t}(),d=function(i){function t(){return n(this,t),a(this,s(t).apply(this,arguments))}return r(t,l),o(t,[{key:"isSupported",value:function(){return void 0!==this._win.external&&void 0!==this._win.external.msIsSiteMode}},{key:"create",value:function(i,t){return this._win.external.msSiteModeClearIconOverlay(),this._win.external.msSiteModeSetIconOverlay(f.isString(t.icon)||f.isUndefined(t.icon)?t.icon:t.icon.x16,i),this._win.external.msSiteModeActivate(),null}},{key:"close",value:function(){this._win.external.msSiteModeClearIconOverlay()}}]),t}(),w=function(i){function t(){return n(this,t),a(this,s(t).apply(this,arguments))}return r(t,l),o(t,[{key:"isSupported",value:function(){return void 0!==this._win.webkitNotifications}},{key:"create",value:function(i,t){var n=this._win.webkitNotifications.createNotification(t.icon,i,t.body);return n.show(),n}},{key:"close",value:function(i){i.cancel()}}]),t}();return new(function(){function t(i){n(this,t),this._currentId=0,this._notifications={},this._win=i,this.Permission=new u(i),this._agents={desktop:new h(i),chrome:new _(i),firefox:new v(i),ms:new d(i),webkit:new w(i)},this._configuration={serviceWorker:"/serviceWorker.min.js",fallback:function(i){}}}return o(t,[{key:"_closeNotification",value:function(t){var n=!0,e=this._notifications[t];if(void 0!==e){if(n=this._removeNotification(t),this._agents.desktop.isSupported())this._agents.desktop.close(e);else if(this._agents.webkit.isSupported())this._agents.webkit.close(e);else{if(!this._agents.ms.isSupported())throw n=!1,new Error(i.errors.unknown_interface);this._agents.ms.close()}return n}return!1}},{key:"_addNotification",value:function(i){var t=this._currentId;return this._notifications[t]=i,this._currentId++,t}},{key:"_removeNotification",value:function(i){var t=!1;return this._notifications.hasOwnProperty(i)&&(delete this._notifications[i],t=!0),t}},{key:"_prepareNotification",value:function(i,t){var n,e=this;return n={get:function(){return e._notifications[i]},close:function(){e._closeNotification(i)}},t.timeout&&setTimeout((function(){n.close()}),t.timeout),n}},{key:"_serviceWorkerCallback",value:function(i,t,n){var e=this,o=this._addNotification(i[i.length-1]);navigator&&navigator.serviceWorker&&(navigator.serviceWorker.addEventListener("message",(function(i){var t=JSON.parse(i.data);"close"===t.action&&Number.isInteger(t.id)&&e._removeNotification(t.id)})),n(this._prepareNotification(o,t))),n(null)}},{key:"_createCallback",value:function(i,t,n){var e,o=this,r=null;if(t=t||{},e=function(i){o._removeNotification(i),f.isFunction(t.onClose)&&t.onClose.call(o,r)},this._agents.desktop.isSupported())try{r=this._agents.desktop.create(i,t)}catch(e){var s=this._currentId,c=this.config().serviceWorker;this._agents.chrome.isSupported()&&this._agents.chrome.create(s,i,t,c,(function(i){return o._serviceWorkerCallback(i,t,n)}))}else this._agents.webkit.isSupported()?r=this._agents.webkit.create(i,t):this._agents.firefox.isSupported()?this._agents.firefox.create(i,t):this._agents.ms.isSupported()?r=this._agents.ms.create(i,t):(t.title=i,this.config().fallback(t));if(null!==r){var a=this._addNotification(r),u=this._prepareNotification(a,t);f.isFunction(t.onShow)&&r.addEventListener("show",t.onShow),f.isFunction(t.onError)&&r.addEventListener("error",t.onError),f.isFunction(t.onClick)&&r.addEventListener("click",t.onClick),r.addEventListener("close",(function(){e(a)})),r.addEventListener("cancel",(function(){e(a)})),n(u)}n(null)}},{key:"create",value:function(t,n){var e,o=this;if(!f.isString(t))throw new Error(i.errors.invalid_title);return e=this.Permission.has()?function(i,e){try{o._createCallback(t,n,i)}catch(i){e(i)}}:function(e,r){o.Permission.request().then((function(){o._createCallback(t,n,e)})).catch((function(){r(i.errors.permission_denied)}))},new Promise(e)}},{key:"count",value:function(){var i,t=0;for(i in this._notifications)this._notifications.hasOwnProperty(i)&&t++;return t}},{key:"close",value:function(i){var t;for(t in this._notifications)if(this._notifications.hasOwnProperty(t)&&this._notifications[t].tag===i)return this._closeNotification(t)}},{key:"clear",value:function(){var i,t=!0;for(i in this._notifications)this._notifications.hasOwnProperty(i)&&(t=t&&this._closeNotification(i));return t}},{key:"supported",value:function(){var i=!1;for(var t in this._agents)this._agents.hasOwnProperty(t)&&(i=i||this._agents[t].isSupported());return i}},{key:"config",value:function(i){return(void 0!==i||null!==i&&f.isObject(i))&&f.objectMerge(this._configuration,i),this._configuration}},{key:"extend",value:function(t){var n,e={}.hasOwnProperty;if(!e.call(t,"plugin"))throw new Error(i.errors.invalid_plugin);for(var o in e.call(t,"config")&&f.isObject(t.config)&&null!==t.config&&this.config(t.config),n=new(0,t.plugin)(this.config()))e.call(n,o)&&f.isFunction(n[o])&&(this[o]=n[o])}}]),t}())("undefined"!=typeof window?window:global)})),function webpackUniversalModuleDefinition(root,factory){"object"==typeof exports&&"object"==typeof module?module.exports=factory():"function"==typeof define&&define.amd?define([],factory):"object"==typeof exports?exports.Quill=factory():root.Quill=factory()}("undefined"!=typeof self?self:this,(function(){return function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module.default}:function getModuleExports(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=109)}([function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var container_1=__webpack_require__(17),format_1=__webpack_require__(18),leaf_1=__webpack_require__(19),scroll_1=__webpack_require__(45),inline_1=__webpack_require__(46),block_1=__webpack_require__(47),embed_1=__webpack_require__(48),text_1=__webpack_require__(49),attributor_1=__webpack_require__(12),class_1=__webpack_require__(32),style_1=__webpack_require__(33),store_1=__webpack_require__(31),Registry=__webpack_require__(1),Parchment={Scope:Registry.Scope,create:Registry.create,find:Registry.find,query:Registry.query,register:Registry.register,Container:container_1.default,Format:format_1.default,Leaf:leaf_1.default,Embed:embed_1.default,Scroll:scroll_1.default,Block:block_1.default,Inline:inline_1.default,Text:text_1.default,Attributor:{Attribute:attributor_1.default,Class:class_1.default,Style:style_1.default,Store:store_1.default}};exports.default=Parchment},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0});var ParchmentError=function(_super){function ParchmentError(message){var _this=this;return message="[Parchment] "+message,(_this=_super.call(this,message)||this).message=message,_this.name=_this.constructor.name,_this}return __extends(ParchmentError,_super),ParchmentError}(Error);exports.ParchmentError=ParchmentError;var Scope,attributes={},classes={},tags={},types={};function query(query,scope){var match;if(void 0===scope&&(scope=Scope.ANY),"string"==typeof query)match=types[query]||attributes[query];else if(query instanceof Text||query.nodeType===Node.TEXT_NODE)match=types.text;else if("number"==typeof query)query&Scope.LEVEL&Scope.BLOCK?match=types.block:query&Scope.LEVEL&Scope.INLINE&&(match=types.inline);else if(query instanceof HTMLElement){var names=(query.getAttribute("class")||"").split(/\s+/);for(var i in names)if(match=classes[names[i]])break;match=match||tags[query.tagName]}return null==match?null:scope&Scope.LEVEL&match.scope&&scope&Scope.TYPE&match.scope?match:null}exports.DATA_KEY="__blot",function(Scope){Scope[Scope.TYPE=3]="TYPE",Scope[Scope.LEVEL=12]="LEVEL",Scope[Scope.ATTRIBUTE=13]="ATTRIBUTE",Scope[Scope.BLOT=14]="BLOT",Scope[Scope.INLINE=7]="INLINE",Scope[Scope.BLOCK=11]="BLOCK",Scope[Scope.BLOCK_BLOT=10]="BLOCK_BLOT",Scope[Scope.INLINE_BLOT=6]="INLINE_BLOT",Scope[Scope.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",Scope[Scope.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",Scope[Scope.ANY=15]="ANY"}(Scope=exports.Scope||(exports.Scope={})),exports.create=function create(input,value){var match=query(input);if(null==match)throw new ParchmentError("Unable to create "+input+" blot");var BlotClass=match,node=input instanceof Node||input.nodeType===Node.TEXT_NODE?input:BlotClass.create(value);return new BlotClass(node,value)},exports.find=function find(node,bubble){return void 0===bubble&&(bubble=!1),null==node?null:null!=node[exports.DATA_KEY]?node[exports.DATA_KEY].blot:bubble?find(node.parentNode,bubble):null},exports.query=query,exports.register=function register(){for(var Definitions=[],_i=0;_i<arguments.length;_i++)Definitions[_i]=arguments[_i];if(Definitions.length>1)return Definitions.map((function(d){return register(d)}));var Definition=Definitions[0];if("string"!=typeof Definition.blotName&&"string"!=typeof Definition.attrName)throw new ParchmentError("Invalid definition");if("abstract"===Definition.blotName)throw new ParchmentError("Cannot register abstract class");if(types[Definition.blotName||Definition.attrName]=Definition,"string"==typeof Definition.keyName)attributes[Definition.keyName]=Definition;else if(null!=Definition.className&&(classes[Definition.className]=Definition),null!=Definition.tagName){Array.isArray(Definition.tagName)?Definition.tagName=Definition.tagName.map((function(tagName){return tagName.toUpperCase()})):Definition.tagName=Definition.tagName.toUpperCase();var tagNames=Array.isArray(Definition.tagName)?Definition.tagName:[Definition.tagName];tagNames.forEach((function(tag){null!=tags[tag]&&null!=Definition.className||(tags[tag]=Definition)}))}return Definition}},function(module,exports,__webpack_require__){var diff=__webpack_require__(51),equal=__webpack_require__(11),extend=__webpack_require__(3),op=__webpack_require__(20),NULL_CHARACTER=String.fromCharCode(0),Delta=function(ops){Array.isArray(ops)?this.ops=ops:null!=ops&&Array.isArray(ops.ops)?this.ops=ops.ops:this.ops=[]};Delta.prototype.insert=function(text,attributes){var newOp={};return 0===text.length?this:(newOp.insert=text,null!=attributes&&"object"==typeof attributes&&Object.keys(attributes).length>0&&(newOp.attributes=attributes),this.push(newOp))},Delta.prototype.delete=function(length){return length<=0?this:this.push({delete:length})},Delta.prototype.retain=function(length,attributes){if(length<=0)return this;var newOp={retain:length};return null!=attributes&&"object"==typeof attributes&&Object.keys(attributes).length>0&&(newOp.attributes=attributes),this.push(newOp)},Delta.prototype.push=function(newOp){var index=this.ops.length,lastOp=this.ops[index-1];if(newOp=extend(!0,{},newOp),"object"==typeof lastOp){if("number"==typeof newOp.delete&&"number"==typeof lastOp.delete)return this.ops[index-1]={delete:lastOp.delete+newOp.delete},this;if("number"==typeof lastOp.delete&&null!=newOp.insert&&(index-=1,"object"!=typeof(lastOp=this.ops[index-1])))return this.ops.unshift(newOp),this;if(equal(newOp.attributes,lastOp.attributes)){if("string"==typeof newOp.insert&&"string"==typeof lastOp.insert)return this.ops[index-1]={insert:lastOp.insert+newOp.insert},"object"==typeof newOp.attributes&&(this.ops[index-1].attributes=newOp.attributes),this;if("number"==typeof newOp.retain&&"number"==typeof lastOp.retain)return this.ops[index-1]={retain:lastOp.retain+newOp.retain},"object"==typeof newOp.attributes&&(this.ops[index-1].attributes=newOp.attributes),this}}return index===this.ops.length?this.ops.push(newOp):this.ops.splice(index,0,newOp),this},Delta.prototype.chop=function(){var lastOp=this.ops[this.ops.length-1];return lastOp&&lastOp.retain&&!lastOp.attributes&&this.ops.pop(),this},Delta.prototype.filter=function(predicate){return this.ops.filter(predicate)},Delta.prototype.forEach=function(predicate){this.ops.forEach(predicate)},Delta.prototype.map=function(predicate){return this.ops.map(predicate)},Delta.prototype.partition=function(predicate){var passed=[],failed=[];return this.forEach((function(op){(predicate(op)?passed:failed).push(op)})),[passed,failed]},Delta.prototype.reduce=function(predicate,initial){return this.ops.reduce(predicate,initial)},Delta.prototype.changeLength=function(){return this.reduce((function(length,elem){return elem.insert?length+op.length(elem):elem.delete?length-elem.delete:length}),0)},Delta.prototype.length=function(){return this.reduce((function(length,elem){return length+op.length(elem)}),0)},Delta.prototype.slice=function(start,end){start=start||0,"number"!=typeof end&&(end=1/0);for(var ops=[],iter=op.iterator(this.ops),index=0;index<end&&iter.hasNext();){var nextOp;index<start?nextOp=iter.next(start-index):(nextOp=iter.next(end-index),ops.push(nextOp)),index+=op.length(nextOp)}return new Delta(ops)},Delta.prototype.compose=function(other){var thisIter=op.iterator(this.ops),otherIter=op.iterator(other.ops),ops=[],firstOther=otherIter.peek();if(null!=firstOther&&"number"==typeof firstOther.retain&&null==firstOther.attributes){for(var firstLeft=firstOther.retain;"insert"===thisIter.peekType()&&thisIter.peekLength()<=firstLeft;)firstLeft-=thisIter.peekLength(),ops.push(thisIter.next());firstOther.retain-firstLeft>0&&otherIter.next(firstOther.retain-firstLeft)}for(var delta=new Delta(ops);thisIter.hasNext()||otherIter.hasNext();)if("insert"===otherIter.peekType())delta.push(otherIter.next());else if("delete"===thisIter.peekType())delta.push(thisIter.next());else{var length=Math.min(thisIter.peekLength(),otherIter.peekLength()),thisOp=thisIter.next(length),otherOp=otherIter.next(length);if("number"==typeof otherOp.retain){var newOp={};"number"==typeof thisOp.retain?newOp.retain=length:newOp.insert=thisOp.insert;var attributes=op.attributes.compose(thisOp.attributes,otherOp.attributes,"number"==typeof thisOp.retain);if(attributes&&(newOp.attributes=attributes),delta.push(newOp),!otherIter.hasNext()&&equal(delta.ops[delta.ops.length-1],newOp)){var rest=new Delta(thisIter.rest());return delta.concat(rest).chop()}}else"number"==typeof otherOp.delete&&"number"==typeof thisOp.retain&&delta.push(otherOp)}return delta.chop()},Delta.prototype.concat=function(other){var delta=new Delta(this.ops.slice());return other.ops.length>0&&(delta.push(other.ops[0]),delta.ops=delta.ops.concat(other.ops.slice(1))),delta},Delta.prototype.diff=function(other,index){if(this.ops===other.ops)return new Delta;var strings=[this,other].map((function(delta){return delta.map((function(op){if(null!=op.insert)return"string"==typeof op.insert?op.insert:NULL_CHARACTER;throw new Error("diff() called "+(delta===other?"on":"with")+" non-document")})).join("")})),delta=new Delta,diffResult=diff(strings[0],strings[1],index),thisIter=op.iterator(this.ops),otherIter=op.iterator(other.ops);return diffResult.forEach((function(component){for(var length=component[1].length;length>0;){var opLength=0;switch(component[0]){case diff.INSERT:opLength=Math.min(otherIter.peekLength(),length),delta.push(otherIter.next(opLength));break;case diff.DELETE:opLength=Math.min(length,thisIter.peekLength()),thisIter.next(opLength),delta.delete(opLength);break;case diff.EQUAL:opLength=Math.min(thisIter.peekLength(),otherIter.peekLength(),length);var thisOp=thisIter.next(opLength),otherOp=otherIter.next(opLength);equal(thisOp.insert,otherOp.insert)?delta.retain(opLength,op.attributes.diff(thisOp.attributes,otherOp.attributes)):delta.push(otherOp).delete(opLength)}length-=opLength}})),delta.chop()},Delta.prototype.eachLine=function(predicate,newline){newline=newline||"\n";for(var iter=op.iterator(this.ops),line=new Delta,i=0;iter.hasNext();){if("insert"!==iter.peekType())return;var thisOp=iter.peek(),start=op.length(thisOp)-iter.peekLength(),index="string"==typeof thisOp.insert?thisOp.insert.indexOf(newline,start)-start:-1;if(index<0)line.push(iter.next());else if(index>0)line.push(iter.next(index));else{if(!1===predicate(line,iter.next(1).attributes||{},i))return;i+=1,line=new Delta}}line.length()>0&&predicate(line,{},i)},Delta.prototype.transform=function(other,priority){if(priority=!!priority,"number"==typeof other)return this.transformPosition(other,priority);for(var thisIter=op.iterator(this.ops),otherIter=op.iterator(other.ops),delta=new Delta;thisIter.hasNext()||otherIter.hasNext();)if("insert"!==thisIter.peekType()||!priority&&"insert"===otherIter.peekType())if("insert"===otherIter.peekType())delta.push(otherIter.next());else{var length=Math.min(thisIter.peekLength(),otherIter.peekLength()),thisOp=thisIter.next(length),otherOp=otherIter.next(length);if(thisOp.delete)continue;otherOp.delete?delta.push(otherOp):delta.retain(length,op.attributes.transform(thisOp.attributes,otherOp.attributes,priority))}else delta.retain(op.length(thisIter.next()));return delta.chop()},Delta.prototype.transformPosition=function(index,priority){priority=!!priority;for(var thisIter=op.iterator(this.ops),offset=0;thisIter.hasNext()&&offset<=index;){var length=thisIter.peekLength(),nextType=thisIter.peekType();thisIter.next(),"delete"!==nextType?("insert"===nextType&&(offset<index||!priority)&&(index+=length),offset+=length):index-=Math.min(length,index-offset)}return index},module.exports=Delta},function(module,exports){"use strict";var hasOwn=Object.prototype.hasOwnProperty,toStr=Object.prototype.toString,defineProperty=Object.defineProperty,gOPD=Object.getOwnPropertyDescriptor,isArray=function isArray(arr){return"function"==typeof Array.isArray?Array.isArray(arr):"[object Array]"===toStr.call(arr)},isPlainObject=function isPlainObject(obj){if(!obj||"[object Object]"!==toStr.call(obj))return!1;var key,hasOwnConstructor=hasOwn.call(obj,"constructor"),hasIsPrototypeOf=obj.constructor&&obj.constructor.prototype&&hasOwn.call(obj.constructor.prototype,"isPrototypeOf");if(obj.constructor&&!hasOwnConstructor&&!hasIsPrototypeOf)return!1;for(key in obj);return void 0===key||hasOwn.call(obj,key)},setProperty=function setProperty(target,options){defineProperty&&"__proto__"===options.name?defineProperty(target,options.name,{enumerable:!0,configurable:!0,value:options.newValue,writable:!0}):target[options.name]=options.newValue},getProperty=function getProperty(obj,name){if("__proto__"===name){if(!hasOwn.call(obj,name))return;if(gOPD)return gOPD(obj,name).value}return obj[name]};module.exports=function extend(){var options,name,src,copy,copyIsArray,clone,target=arguments[0],i=1,length=arguments.length,deep=!1;for("boolean"==typeof target&&(deep=target,target=arguments[1]||{},i=2),(null==target||"object"!=typeof target&&"function"!=typeof target)&&(target={});i<length;++i)if(null!=(options=arguments[i]))for(name in options)src=getProperty(target,name),target!==(copy=getProperty(options,name))&&(deep&&copy&&(isPlainObject(copy)||(copyIsArray=isArray(copy)))?(copyIsArray?(copyIsArray=!1,clone=src&&isArray(src)?src:[]):clone=src&&isPlainObject(src)?src:{},setProperty(target,{name:name,newValue:extend(deep,clone,copy)})):void 0!==copy&&setProperty(target,{name:name,newValue:copy}));return target}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.BlockEmbed=exports.bubbleFormats=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;return void 0!==getter?getter.call(receiver):void 0},_extend2=_interopRequireDefault(__webpack_require__(3)),_quillDelta2=_interopRequireDefault(__webpack_require__(2)),_parchment2=_interopRequireDefault(__webpack_require__(0)),_break2=_interopRequireDefault(__webpack_require__(16)),_inline2=_interopRequireDefault(__webpack_require__(6)),_text2=_interopRequireDefault(__webpack_require__(7));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var BlockEmbed=function(_Parchment$Embed){function BlockEmbed(){return _classCallCheck(this,BlockEmbed),_possibleConstructorReturn(this,(BlockEmbed.__proto__||Object.getPrototypeOf(BlockEmbed)).apply(this,arguments))}return _inherits(BlockEmbed,_Parchment$Embed),_createClass(BlockEmbed,[{key:"attach",value:function attach(){_get(BlockEmbed.prototype.__proto__||Object.getPrototypeOf(BlockEmbed.prototype),"attach",this).call(this),this.attributes=new _parchment2.default.Attributor.Store(this.domNode)}},{key:"delta",value:function delta(){return(new _quillDelta2.default).insert(this.value(),(0,_extend2.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function format(name,value){var attribute=_parchment2.default.query(name,_parchment2.default.Scope.BLOCK_ATTRIBUTE);null!=attribute&&this.attributes.attribute(attribute,value)}},{key:"formatAt",value:function formatAt(index,length,name,value){this.format(name,value)}},{key:"insertAt",value:function insertAt(index,value,def){if("string"==typeof value&&value.endsWith("\n")){var block=_parchment2.default.create(Block.blotName);this.parent.insertBefore(block,0===index?this:this.next),block.insertAt(0,value.slice(0,-1))}else _get(BlockEmbed.prototype.__proto__||Object.getPrototypeOf(BlockEmbed.prototype),"insertAt",this).call(this,index,value,def)}}]),BlockEmbed}(_parchment2.default.Embed);BlockEmbed.scope=_parchment2.default.Scope.BLOCK_BLOT;var Block=function(_Parchment$Block){function Block(domNode){_classCallCheck(this,Block);var _this2=_possibleConstructorReturn(this,(Block.__proto__||Object.getPrototypeOf(Block)).call(this,domNode));return _this2.cache={},_this2}return _inherits(Block,_Parchment$Block),_createClass(Block,[{key:"delta",value:function delta(){return null==this.cache.delta&&(this.cache.delta=this.descendants(_parchment2.default.Leaf).reduce((function(delta,leaf){return 0===leaf.length()?delta:delta.insert(leaf.value(),bubbleFormats(leaf))}),new _quillDelta2.default).insert("\n",bubbleFormats(this))),this.cache.delta}},{key:"deleteAt",value:function deleteAt(index,length){_get(Block.prototype.__proto__||Object.getPrototypeOf(Block.prototype),"deleteAt",this).call(this,index,length),this.cache={}}},{key:"formatAt",value:function formatAt(index,length,name,value){length<=0||(_parchment2.default.query(name,_parchment2.default.Scope.BLOCK)?index+length===this.length()&&this.format(name,value):_get(Block.prototype.__proto__||Object.getPrototypeOf(Block.prototype),"formatAt",this).call(this,index,Math.min(length,this.length()-index-1),name,value),this.cache={})}},{key:"insertAt",value:function insertAt(index,value,def){if(null!=def)return _get(Block.prototype.__proto__||Object.getPrototypeOf(Block.prototype),"insertAt",this).call(this,index,value,def);if(0!==value.length){var lines=value.split("\n"),text=lines.shift();text.length>0&&(index<this.length()-1||null==this.children.tail?_get(Block.prototype.__proto__||Object.getPrototypeOf(Block.prototype),"insertAt",this).call(this,Math.min(index,this.length()-1),text):this.children.tail.insertAt(this.children.tail.length(),text),this.cache={});var block=this;lines.reduce((function(index,line){return(block=block.split(index,!0)).insertAt(0,line),line.length}),index+text.length)}}},{key:"insertBefore",value:function insertBefore(blot,ref){var head=this.children.head;_get(Block.prototype.__proto__||Object.getPrototypeOf(Block.prototype),"insertBefore",this).call(this,blot,ref),head instanceof _break2.default&&head.remove(),this.cache={}}},{key:"length",value:function length(){return null==this.cache.length&&(this.cache.length=_get(Block.prototype.__proto__||Object.getPrototypeOf(Block.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function moveChildren(target,ref){_get(Block.prototype.__proto__||Object.getPrototypeOf(Block.prototype),"moveChildren",this).call(this,target,ref),this.cache={}}},{key:"optimize",value:function optimize(context){_get(Block.prototype.__proto__||Object.getPrototypeOf(Block.prototype),"optimize",this).call(this,context),this.cache={}}},{key:"path",value:function path(index){return _get(Block.prototype.__proto__||Object.getPrototypeOf(Block.prototype),"path",this).call(this,index,!0)}},{key:"removeChild",value:function removeChild(child){_get(Block.prototype.__proto__||Object.getPrototypeOf(Block.prototype),"removeChild",this).call(this,child),this.cache={}}},{key:"split",value:function split(index){var force=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(force&&(0===index||index>=this.length()-1)){var clone=this.clone();return 0===index?(this.parent.insertBefore(clone,this),this):(this.parent.insertBefore(clone,this.next),clone)}var next=_get(Block.prototype.__proto__||Object.getPrototypeOf(Block.prototype),"split",this).call(this,index,force);return this.cache={},next}}]),Block}(_parchment2.default.Block);function bubbleFormats(blot){var formats=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==blot?formats:("function"==typeof blot.formats&&(formats=(0,_extend2.default)(formats,blot.formats())),null==blot.parent||"scroll"==blot.parent.blotName||blot.parent.statics.scope!==blot.statics.scope?formats:bubbleFormats(blot.parent,formats))}Block.blotName="block",Block.tagName="P",Block.defaultChild="break",Block.allowedChildren=[_inline2.default,_parchment2.default.Embed,_text2.default],exports.bubbleFormats=bubbleFormats,exports.BlockEmbed=BlockEmbed,exports.default=Block},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.overload=exports.expandConfig=void 0;var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_slicedToArray=function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();__webpack_require__(50);var _quillDelta2=_interopRequireDefault(__webpack_require__(2)),_editor2=_interopRequireDefault(__webpack_require__(14)),_emitter4=_interopRequireDefault(__webpack_require__(8)),_module2=_interopRequireDefault(__webpack_require__(9)),_parchment2=_interopRequireDefault(__webpack_require__(0)),_selection=__webpack_require__(15),_selection2=_interopRequireDefault(_selection),_extend2=_interopRequireDefault(__webpack_require__(3)),_logger2=_interopRequireDefault(__webpack_require__(10)),_theme2=_interopRequireDefault(__webpack_require__(34));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var debug=(0,_logger2.default)("quill"),Quill=function(){function Quill(container){var _this2=this,options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(_classCallCheck(this,Quill),this.options=expandConfig(container,options),this.container=this.options.container,null==this.container)return debug.error("Invalid Quill container",container);this.options.debug&&Quill.debug(this.options.debug);var html=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new _emitter4.default,this.scroll=_parchment2.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new _editor2.default(this.scroll),this.selection=new _selection2.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(_emitter4.default.events.EDITOR_CHANGE,(function(type){type===_emitter4.default.events.TEXT_CHANGE&&_this2.root.classList.toggle("ql-blank",_this2.editor.isBlank())})),this.emitter.on(_emitter4.default.events.SCROLL_UPDATE,(function(source,mutations){var range=_this2.selection.lastRange,index=range&&0===range.length?range.index:void 0;modify.call(_this2,(function(){return _this2.editor.update(null,mutations,index)}),source)}));var contents=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+html+"<p><br></p></div>");this.setContents(contents),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return _createClass(Quill,null,[{key:"debug",value:function debug(limit){!0===limit&&(limit="log"),_logger2.default.level(limit)}},{key:"find",value:function find(node){return node.__quill||_parchment2.default.find(node)}},{key:"import",value:function _import(name){return null==this.imports[name]&&debug.error("Cannot import "+name+". Are you sure it was registered?"),this.imports[name]}},{key:"register",value:function register(path,target){var _this=this,overwrite=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof path){var name=path.attrName||path.blotName;"string"==typeof name?this.register("formats/"+name,path,target):Object.keys(path).forEach((function(key){_this.register(key,path[key],target)}))}else null==this.imports[path]||overwrite||debug.warn("Overwriting "+path+" with",target),this.imports[path]=target,(path.startsWith("blots/")||path.startsWith("formats/"))&&"abstract"!==target.blotName?_parchment2.default.register(target):path.startsWith("modules")&&"function"==typeof target.register&&target.register()}}]),_createClass(Quill,[{key:"addContainer",value:function addContainer(container){var refNode=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof container){var className=container;(container=document.createElement("div")).classList.add(className)}return this.container.insertBefore(container,refNode),container}},{key:"blur",value:function blur(){this.selection.setRange(null)}},{key:"deleteText",value:function deleteText(index,length,source){var _this3=this,_overload=overload(index,length,source),_overload2=_slicedToArray(_overload,4);return index=_overload2[0],length=_overload2[1],source=_overload2[3],modify.call(this,(function(){return _this3.editor.deleteText(index,length)}),source,index,-1*length)}},{key:"disable",value:function disable(){this.enable(!1)}},{key:"enable",value:function enable(){var enabled=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(enabled),this.container.classList.toggle("ql-disabled",!enabled)}},{key:"focus",value:function focus(){var scrollTop=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=scrollTop,this.scrollIntoView()}},{key:"format",value:function format(name,value){var _this4=this,source=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_emitter4.default.sources.API;return modify.call(this,(function(){var range=_this4.getSelection(!0),change=new _quillDelta2.default;if(null==range)return change;if(_parchment2.default.query(name,_parchment2.default.Scope.BLOCK))change=_this4.editor.formatLine(range.index,range.length,_defineProperty({},name,value));else{if(0===range.length)return _this4.selection.format(name,value),change;change=_this4.editor.formatText(range.index,range.length,_defineProperty({},name,value))}return _this4.setSelection(range,_emitter4.default.sources.SILENT),change}),source)}},{key:"formatLine",value:function formatLine(index,length,name,value,source){var formats,_this5=this,_overload3=overload(index,length,name,value,source),_overload4=_slicedToArray(_overload3,4);return index=_overload4[0],length=_overload4[1],formats=_overload4[2],source=_overload4[3],modify.call(this,(function(){return _this5.editor.formatLine(index,length,formats)}),source,index,0)}},{key:"formatText",value:function formatText(index,length,name,value,source){var formats,_this6=this,_overload5=overload(index,length,name,value,source),_overload6=_slicedToArray(_overload5,4);return index=_overload6[0],length=_overload6[1],formats=_overload6[2],source=_overload6[3],modify.call(this,(function(){return _this6.editor.formatText(index,length,formats)}),source,index,0)}},{key:"getBounds",value:function getBounds(index){var length=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,bounds=void 0;bounds="number"==typeof index?this.selection.getBounds(index,length):this.selection.getBounds(index.index,index.length);var containerBounds=this.container.getBoundingClientRect();return{bottom:bounds.bottom-containerBounds.top,height:bounds.height,left:bounds.left-containerBounds.left,right:bounds.right-containerBounds.left,top:bounds.top-containerBounds.top,width:bounds.width}}},{key:"getContents",value:function getContents(){var index=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,length=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-index,_overload7=overload(index,length),_overload8=_slicedToArray(_overload7,2);return index=_overload8[0],length=_overload8[1],this.editor.getContents(index,length)}},{key:"getFormat",value:function getFormat(){var index=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),length=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"==typeof index?this.editor.getFormat(index,length):this.editor.getFormat(index.index,index.length)}},{key:"getIndex",value:function getIndex(blot){return blot.offset(this.scroll)}},{key:"getLength",value:function getLength(){return this.scroll.length()}},{key:"getLeaf",value:function getLeaf(index){return this.scroll.leaf(index)}},{key:"getLine",value:function getLine(index){return this.scroll.line(index)}},{key:"getLines",value:function getLines(){var index=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,length=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof index?this.scroll.lines(index.index,index.length):this.scroll.lines(index,length)}},{key:"getModule",value:function getModule(name){return this.theme.modules[name]}},{key:"getSelection",value:function getSelection(){var focus=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return focus&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function getText(){var index=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,length=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-index,_overload9=overload(index,length),_overload10=_slicedToArray(_overload9,2);return index=_overload10[0],length=_overload10[1],this.editor.getText(index,length)}},{key:"hasFocus",value:function hasFocus(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function insertEmbed(index,embed,value){var _this7=this,source=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Quill.sources.API;return modify.call(this,(function(){return _this7.editor.insertEmbed(index,embed,value)}),source,index)}},{key:"insertText",value:function insertText(index,text,name,value,source){var formats,_this8=this,_overload11=overload(index,0,name,value,source),_overload12=_slicedToArray(_overload11,4);return index=_overload12[0],formats=_overload12[2],source=_overload12[3],modify.call(this,(function(){return _this8.editor.insertText(index,text,formats)}),source,index,text.length)}},{key:"isEnabled",value:function isEnabled(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function off(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function on(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function once(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function pasteHTML(index,html,source){this.clipboard.dangerouslyPasteHTML(index,html,source)}},{key:"removeFormat",value:function removeFormat(index,length,source){var _this9=this,_overload13=overload(index,length,source),_overload14=_slicedToArray(_overload13,4);return index=_overload14[0],length=_overload14[1],source=_overload14[3],modify.call(this,(function(){return _this9.editor.removeFormat(index,length)}),source,index)}},{key:"scrollIntoView",value:function scrollIntoView(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function setContents(delta){var _this10=this,source=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_emitter4.default.sources.API;return modify.call(this,(function(){delta=new _quillDelta2.default(delta);var length=_this10.getLength(),deleted=_this10.editor.deleteText(0,length),applied=_this10.editor.applyDelta(delta),lastOp=applied.ops[applied.ops.length-1];return null!=lastOp&&"string"==typeof lastOp.insert&&"\n"===lastOp.insert[lastOp.insert.length-1]&&(_this10.editor.deleteText(_this10.getLength()-1,1),applied.delete(1)),deleted.compose(applied)}),source)}},{key:"setSelection",value:function setSelection(index,length,source){if(null==index)this.selection.setRange(null,length||Quill.sources.API);else{var _overload15=overload(index,length,source),_overload16=_slicedToArray(_overload15,4);index=_overload16[0],length=_overload16[1],source=_overload16[3],this.selection.setRange(new _selection.Range(index,length),source),source!==_emitter4.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function setText(text){var source=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_emitter4.default.sources.API,delta=(new _quillDelta2.default).insert(text);return this.setContents(delta,source)}},{key:"update",value:function update(){var source=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_emitter4.default.sources.USER,change=this.scroll.update(source);return this.selection.update(source),change}},{key:"updateContents",value:function updateContents(delta){var _this11=this,source=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_emitter4.default.sources.API;return modify.call(this,(function(){return delta=new _quillDelta2.default(delta),_this11.editor.applyDelta(delta,source)}),source,!0)}}]),Quill}();function expandConfig(container,userConfig){if((userConfig=(0,_extend2.default)(!0,{container:container,modules:{clipboard:!0,keyboard:!0,history:!0}},userConfig)).theme&&userConfig.theme!==Quill.DEFAULTS.theme){if(userConfig.theme=Quill.import("themes/"+userConfig.theme),null==userConfig.theme)throw new Error("Invalid theme "+userConfig.theme+". Did you register it?")}else userConfig.theme=_theme2.default;var themeConfig=(0,_extend2.default)(!0,{},userConfig.theme.DEFAULTS);[themeConfig,userConfig].forEach((function(config){config.modules=config.modules||{},Object.keys(config.modules).forEach((function(module){!0===config.modules[module]&&(config.modules[module]={})}))}));var moduleConfig=Object.keys(themeConfig.modules).concat(Object.keys(userConfig.modules)).reduce((function(config,name){var moduleClass=Quill.import("modules/"+name);return null==moduleClass?debug.error("Cannot load "+name+" module. Are you sure you registered it?"):config[name]=moduleClass.DEFAULTS||{},config}),{});return null!=userConfig.modules&&userConfig.modules.toolbar&&userConfig.modules.toolbar.constructor!==Object&&(userConfig.modules.toolbar={container:userConfig.modules.toolbar}),userConfig=(0,_extend2.default)(!0,{},Quill.DEFAULTS,{modules:moduleConfig},themeConfig,userConfig),["bounds","container","scrollingContainer"].forEach((function(key){"string"==typeof userConfig[key]&&(userConfig[key]=document.querySelector(userConfig[key]))})),userConfig.modules=Object.keys(userConfig.modules).reduce((function(config,name){return userConfig.modules[name]&&(config[name]=userConfig.modules[name]),config}),{}),userConfig}function modify(modifier,source,index,shift){if(this.options.strict&&!this.isEnabled()&&source===_emitter4.default.sources.USER)return new _quillDelta2.default;var range=null==index?null:this.getSelection(),oldDelta=this.editor.delta,change=modifier();if(null!=range&&(!0===index&&(index=range.index),null==shift?range=shiftRange(range,change,source):0!==shift&&(range=shiftRange(range,index,shift,source)),this.setSelection(range,_emitter4.default.sources.SILENT)),change.length()>0){var _emitter,_emitter2,args=[_emitter4.default.events.TEXT_CHANGE,change,oldDelta,source];if((_emitter=this.emitter).emit.apply(_emitter,[_emitter4.default.events.EDITOR_CHANGE].concat(args)),source!==_emitter4.default.sources.SILENT)(_emitter2=this.emitter).emit.apply(_emitter2,args)}return change}function overload(index,length,name,value,source){var formats={};return"number"==typeof index.index&&"number"==typeof index.length?"number"!=typeof length?(source=value,value=name,name=length,length=index.length,index=index.index):(length=index.length,index=index.index):"number"!=typeof length&&(source=value,value=name,name=length,length=0),"object"===(void 0===name?"undefined":_typeof(name))?(formats=name,source=value):"string"==typeof name&&(null!=value?formats[name]=value:source=name),[index,length,formats,source=source||_emitter4.default.sources.API]}function shiftRange(range,index,length,source){if(null==range)return null;var start=void 0,end=void 0;if(index instanceof _quillDelta2.default){var _map=[range.index,range.index+range.length].map((function(pos){return index.transformPosition(pos,source!==_emitter4.default.sources.USER)})),_map2=_slicedToArray(_map,2);start=_map2[0],end=_map2[1]}else{var _map3=[range.index,range.index+range.length].map((function(pos){return pos<index||pos===index&&source===_emitter4.default.sources.USER?pos:length>=0?pos+length:Math.max(index,pos+length)})),_map4=_slicedToArray(_map3,2);start=_map4[0],end=_map4[1]}return new _selection.Range(start,end-start)}Quill.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},Quill.events=_emitter4.default.events,Quill.sources=_emitter4.default.sources,Quill.version="1.3.7",Quill.imports={delta:_quillDelta2.default,parchment:_parchment2.default,"core/module":_module2.default,"core/theme":_theme2.default},exports.expandConfig=expandConfig,exports.overload=overload,exports.default=Quill},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;return void 0!==getter?getter.call(receiver):void 0},_text2=_interopRequireDefault(__webpack_require__(7)),_parchment2=_interopRequireDefault(__webpack_require__(0));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}var Inline=function(_Parchment$Inline){function Inline(){return _classCallCheck(this,Inline),_possibleConstructorReturn(this,(Inline.__proto__||Object.getPrototypeOf(Inline)).apply(this,arguments))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(Inline,_Parchment$Inline),_createClass(Inline,[{key:"formatAt",value:function formatAt(index,length,name,value){if(Inline.compare(this.statics.blotName,name)<0&&_parchment2.default.query(name,_parchment2.default.Scope.BLOT)){var blot=this.isolate(index,length);value&&blot.wrap(name,value)}else _get(Inline.prototype.__proto__||Object.getPrototypeOf(Inline.prototype),"formatAt",this).call(this,index,length,name,value)}},{key:"optimize",value:function optimize(context){if(_get(Inline.prototype.__proto__||Object.getPrototypeOf(Inline.prototype),"optimize",this).call(this,context),this.parent instanceof Inline&&Inline.compare(this.statics.blotName,this.parent.statics.blotName)>0){var parent=this.parent.isolate(this.offset(),this.length());this.moveChildren(parent),parent.wrap(this)}}}],[{key:"compare",value:function compare(self,other){var selfIndex=Inline.order.indexOf(self),otherIndex=Inline.order.indexOf(other);return selfIndex>=0||otherIndex>=0?selfIndex-otherIndex:self===other?0:self<other?-1:1}}]),Inline}(_parchment2.default.Inline);Inline.allowedChildren=[Inline,_parchment2.default.Embed,_text2.default],Inline.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],exports.default=Inline},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}Object.defineProperty(exports,"__esModule",{value:!0});var TextBlot=function(_Parchment$Text){function TextBlot(){return _classCallCheck(this,TextBlot),_possibleConstructorReturn(this,(TextBlot.__proto__||Object.getPrototypeOf(TextBlot)).apply(this,arguments))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(TextBlot,_Parchment$Text),TextBlot}(function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(0)).default.Text);exports.default=TextBlot},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;return void 0!==getter?getter.call(receiver):void 0},_eventemitter2=_interopRequireDefault(__webpack_require__(54));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var debug=(0,_interopRequireDefault(__webpack_require__(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach((function(eventName){document.addEventListener(eventName,(function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];[].slice.call(document.querySelectorAll(".ql-container")).forEach((function(node){var _node$__quill$emitter;node.__quill&&node.__quill.emitter&&(_node$__quill$emitter=node.__quill.emitter).handleDOM.apply(_node$__quill$emitter,args)}))}))}));var Emitter=function(_EventEmitter){function Emitter(){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Emitter);var _this=function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(Emitter.__proto__||Object.getPrototypeOf(Emitter)).call(this));return _this.listeners={},_this.on("error",debug.error),_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(Emitter,_EventEmitter),_createClass(Emitter,[{key:"emit",value:function emit(){debug.log.apply(debug,arguments),_get(Emitter.prototype.__proto__||Object.getPrototypeOf(Emitter.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function handleDOM(event){for(var _len2=arguments.length,args=Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++)args[_key2-1]=arguments[_key2];(this.listeners[event.type]||[]).forEach((function(_ref){var node=_ref.node,handler=_ref.handler;(event.target===node||node.contains(event.target))&&handler.apply(void 0,[event].concat(args))}))}},{key:"listenDOM",value:function listenDOM(eventName,node,handler){this.listeners[eventName]||(this.listeners[eventName]=[]),this.listeners[eventName].push({node:node,handler:handler})}}]),Emitter}(_eventemitter2.default);Emitter.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},Emitter.sources={API:"api",SILENT:"silent",USER:"user"},exports.default=Emitter},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var Module=function Module(quill){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,Module),this.quill=quill,this.options=options};Module.DEFAULTS={},exports.default=Module},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var levels=["error","warn","log","info"],level="warn";function debug(method){if(levels.indexOf(method)<=levels.indexOf(level)){for(var _console,_len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];(_console=console)[method].apply(_console,args)}}function namespace(ns){return levels.reduce((function(logger,method){return logger[method]=debug.bind(console,method,ns),logger}),{})}debug.level=namespace.level=function(newLevel){level=newLevel},exports.default=namespace},function(module,exports,__webpack_require__){var pSlice=Array.prototype.slice,objectKeys=__webpack_require__(52),isArguments=__webpack_require__(53),deepEqual=module.exports=function(actual,expected,opts){return opts||(opts={}),actual===expected||(actual instanceof Date&&expected instanceof Date?actual.getTime()===expected.getTime():!actual||!expected||"object"!=typeof actual&&"object"!=typeof expected?opts.strict?actual===expected:actual==expected:function objEquiv(a,b,opts){var i,key;if(isUndefinedOrNull(a)||isUndefinedOrNull(b))return!1;if(a.prototype!==b.prototype)return!1;if(isArguments(a))return!!isArguments(b)&&(a=pSlice.call(a),b=pSlice.call(b),deepEqual(a,b,opts));if(isBuffer(a)){if(!isBuffer(b))return!1;if(a.length!==b.length)return!1;for(i=0;i<a.length;i++)if(a[i]!==b[i])return!1;return!0}try{var ka=objectKeys(a),kb=objectKeys(b)}catch(e){return!1}if(ka.length!=kb.length)return!1;for(ka.sort(),kb.sort(),i=ka.length-1;i>=0;i--)if(ka[i]!=kb[i])return!1;for(i=ka.length-1;i>=0;i--)if(key=ka[i],!deepEqual(a[key],b[key],opts))return!1;return typeof a==typeof b}(actual,expected,opts))};function isUndefinedOrNull(value){return null==value}function isBuffer(x){return!(!x||"object"!=typeof x||"number"!=typeof x.length)&&("function"==typeof x.copy&&"function"==typeof x.slice&&!(x.length>0&&"number"!=typeof x[0]))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var Registry=__webpack_require__(1),Attributor=function(){function Attributor(attrName,keyName,options){void 0===options&&(options={}),this.attrName=attrName,this.keyName=keyName;var attributeBit=Registry.Scope.TYPE&Registry.Scope.ATTRIBUTE;null!=options.scope?this.scope=options.scope&Registry.Scope.LEVEL|attributeBit:this.scope=Registry.Scope.ATTRIBUTE,null!=options.whitelist&&(this.whitelist=options.whitelist)}return Attributor.keys=function(node){return[].map.call(node.attributes,(function(item){return item.name}))},Attributor.prototype.add=function(node,value){return!!this.canAdd(node,value)&&(node.setAttribute(this.keyName,value),!0)},Attributor.prototype.canAdd=function(node,value){return null!=Registry.query(node,Registry.Scope.BLOT&(this.scope|Registry.Scope.TYPE))&&(null==this.whitelist||("string"==typeof value?this.whitelist.indexOf(value.replace(/["']/g,""))>-1:this.whitelist.indexOf(value)>-1))},Attributor.prototype.remove=function(node){node.removeAttribute(this.keyName)},Attributor.prototype.value=function(node){var value=node.getAttribute(this.keyName);return this.canAdd(node,value)&&value?value:""},Attributor}();exports.default=Attributor},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.Code=void 0;var _slicedToArray=function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;return void 0!==getter?getter.call(receiver):void 0},_quillDelta2=_interopRequireDefault(__webpack_require__(2)),_parchment2=_interopRequireDefault(__webpack_require__(0)),_block2=_interopRequireDefault(__webpack_require__(4)),_inline2=_interopRequireDefault(__webpack_require__(6)),_text2=_interopRequireDefault(__webpack_require__(7));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var Code=function(_Inline){function Code(){return _classCallCheck(this,Code),_possibleConstructorReturn(this,(Code.__proto__||Object.getPrototypeOf(Code)).apply(this,arguments))}return _inherits(Code,_Inline),Code}(_inline2.default);Code.blotName="code",Code.tagName="CODE";var CodeBlock=function(_Block){function CodeBlock(){return _classCallCheck(this,CodeBlock),_possibleConstructorReturn(this,(CodeBlock.__proto__||Object.getPrototypeOf(CodeBlock)).apply(this,arguments))}return _inherits(CodeBlock,_Block),_createClass(CodeBlock,[{key:"delta",value:function delta(){var _this3=this,text=this.domNode.textContent;return text.endsWith("\n")&&(text=text.slice(0,-1)),text.split("\n").reduce((function(delta,frag){return delta.insert(frag).insert("\n",_this3.formats())}),new _quillDelta2.default)}},{key:"format",value:function format(name,value){if(name!==this.statics.blotName||!value){var _descendant=this.descendant(_text2.default,this.length()-1),text=_slicedToArray(_descendant,1)[0];null!=text&&text.deleteAt(text.length()-1,1),_get(CodeBlock.prototype.__proto__||Object.getPrototypeOf(CodeBlock.prototype),"format",this).call(this,name,value)}}},{key:"formatAt",value:function formatAt(index,length,name,value){if(0!==length&&null!=_parchment2.default.query(name,_parchment2.default.Scope.BLOCK)&&(name!==this.statics.blotName||value!==this.statics.formats(this.domNode))){var nextNewline=this.newlineIndex(index);if(!(nextNewline<0||nextNewline>=index+length)){var prevNewline=this.newlineIndex(index,!0)+1,isolateLength=nextNewline-prevNewline+1,blot=this.isolate(prevNewline,isolateLength),next=blot.next;blot.format(name,value),next instanceof CodeBlock&&next.formatAt(0,index-prevNewline+length-isolateLength,name,value)}}}},{key:"insertAt",value:function insertAt(index,value,def){if(null==def){var _descendant3=this.descendant(_text2.default,index),_descendant4=_slicedToArray(_descendant3,2),text=_descendant4[0],offset=_descendant4[1];text.insertAt(offset,value)}}},{key:"length",value:function length(){var length=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?length:length+1}},{key:"newlineIndex",value:function newlineIndex(searchIndex){var reverse=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(reverse)return this.domNode.textContent.slice(0,searchIndex).lastIndexOf("\n");var offset=this.domNode.textContent.slice(searchIndex).indexOf("\n");return offset>-1?searchIndex+offset:-1}},{key:"optimize",value:function optimize(context){this.domNode.textContent.endsWith("\n")||this.appendChild(_parchment2.default.create("text","\n")),_get(CodeBlock.prototype.__proto__||Object.getPrototypeOf(CodeBlock.prototype),"optimize",this).call(this,context);var next=this.next;null!=next&&next.prev===this&&next.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===next.statics.formats(next.domNode)&&(next.optimize(context),next.moveChildren(this),next.remove())}},{key:"replace",value:function replace(target){_get(CodeBlock.prototype.__proto__||Object.getPrototypeOf(CodeBlock.prototype),"replace",this).call(this,target),[].slice.call(this.domNode.querySelectorAll("*")).forEach((function(node){var blot=_parchment2.default.find(node);null==blot?node.parentNode.removeChild(node):blot instanceof _parchment2.default.Embed?blot.remove():blot.unwrap()}))}}],[{key:"create",value:function create(value){var domNode=_get(CodeBlock.__proto__||Object.getPrototypeOf(CodeBlock),"create",this).call(this,value);return domNode.setAttribute("spellcheck",!1),domNode}},{key:"formats",value:function formats(){return!0}}]),CodeBlock}(_block2.default);CodeBlock.blotName="code-block",CodeBlock.tagName="PRE",CodeBlock.TAB="  ",exports.Code=Code,exports.default=CodeBlock},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_slicedToArray=function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_quillDelta2=_interopRequireDefault(__webpack_require__(2)),_op2=_interopRequireDefault(__webpack_require__(20)),_parchment2=_interopRequireDefault(__webpack_require__(0)),_code2=_interopRequireDefault(__webpack_require__(13)),_cursor2=_interopRequireDefault(__webpack_require__(24)),_block=__webpack_require__(4),_block2=_interopRequireDefault(_block),_break2=_interopRequireDefault(__webpack_require__(16)),_clone2=_interopRequireDefault(__webpack_require__(21)),_deepEqual2=_interopRequireDefault(__webpack_require__(11)),_extend2=_interopRequireDefault(__webpack_require__(3));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ASCII=/^[ -~]*$/,Editor=function(){function Editor(scroll){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Editor),this.scroll=scroll,this.delta=this.getDelta()}return _createClass(Editor,[{key:"applyDelta",value:function applyDelta(delta){var _this=this,consumeNextNewline=!1;this.scroll.update();var scrollLength=this.scroll.length();return this.scroll.batchStart(),(delta=function normalizeDelta(delta){return delta.reduce((function(delta,op){if(1===op.insert){var attributes=(0,_clone2.default)(op.attributes);return delete attributes.image,delta.insert({image:op.attributes.image},attributes)}if(null==op.attributes||!0!==op.attributes.list&&!0!==op.attributes.bullet||((op=(0,_clone2.default)(op)).attributes.list?op.attributes.list="ordered":(op.attributes.list="bullet",delete op.attributes.bullet)),"string"==typeof op.insert){var text=op.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return delta.insert(text,op.attributes)}return delta.push(op)}),new _quillDelta2.default)}(delta)).reduce((function(index,op){var length=op.retain||op.delete||op.insert.length||1,attributes=op.attributes||{};if(null!=op.insert){if("string"==typeof op.insert){var text=op.insert;text.endsWith("\n")&&consumeNextNewline&&(consumeNextNewline=!1,text=text.slice(0,-1)),index>=scrollLength&&!text.endsWith("\n")&&(consumeNextNewline=!0),_this.scroll.insertAt(index,text);var _scroll$line=_this.scroll.line(index),_scroll$line2=_slicedToArray(_scroll$line,2),line=_scroll$line2[0],offset=_scroll$line2[1],formats=(0,_extend2.default)({},(0,_block.bubbleFormats)(line));if(line instanceof _block2.default){var _line$descendant=line.descendant(_parchment2.default.Leaf,offset),leaf=_slicedToArray(_line$descendant,1)[0];formats=(0,_extend2.default)(formats,(0,_block.bubbleFormats)(leaf))}attributes=_op2.default.attributes.diff(formats,attributes)||{}}else if("object"===_typeof(op.insert)){var key=Object.keys(op.insert)[0];if(null==key)return index;_this.scroll.insertAt(index,key,op.insert[key])}scrollLength+=length}return Object.keys(attributes).forEach((function(name){_this.scroll.formatAt(index,length,name,attributes[name])})),index+length}),0),delta.reduce((function(index,op){return"number"==typeof op.delete?(_this.scroll.deleteAt(index,op.delete),index):index+(op.retain||op.insert.length||1)}),0),this.scroll.batchEnd(),this.update(delta)}},{key:"deleteText",value:function deleteText(index,length){return this.scroll.deleteAt(index,length),this.update((new _quillDelta2.default).retain(index).delete(length))}},{key:"formatLine",value:function formatLine(index,length){var _this2=this,formats=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(formats).forEach((function(format){if(null==_this2.scroll.whitelist||_this2.scroll.whitelist[format]){var lines=_this2.scroll.lines(index,Math.max(length,1)),lengthRemaining=length;lines.forEach((function(line){var lineLength=line.length();if(line instanceof _code2.default){var codeIndex=index-line.offset(_this2.scroll),codeLength=line.newlineIndex(codeIndex+lengthRemaining)-codeIndex+1;line.formatAt(codeIndex,codeLength,format,formats[format])}else line.format(format,formats[format]);lengthRemaining-=lineLength}))}})),this.scroll.optimize(),this.update((new _quillDelta2.default).retain(index).retain(length,(0,_clone2.default)(formats)))}},{key:"formatText",value:function formatText(index,length){var _this3=this,formats=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(formats).forEach((function(format){_this3.scroll.formatAt(index,length,format,formats[format])})),this.update((new _quillDelta2.default).retain(index).retain(length,(0,_clone2.default)(formats)))}},{key:"getContents",value:function getContents(index,length){return this.delta.slice(index,index+length)}},{key:"getDelta",value:function getDelta(){return this.scroll.lines().reduce((function(delta,line){return delta.concat(line.delta())}),new _quillDelta2.default)}},{key:"getFormat",value:function getFormat(index){var length=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,lines=[],leaves=[];0===length?this.scroll.path(index).forEach((function(path){var blot=_slicedToArray(path,1)[0];blot instanceof _block2.default?lines.push(blot):blot instanceof _parchment2.default.Leaf&&leaves.push(blot)})):(lines=this.scroll.lines(index,length),leaves=this.scroll.descendants(_parchment2.default.Leaf,index,length));var formatsArr=[lines,leaves].map((function(blots){if(0===blots.length)return{};for(var formats=(0,_block.bubbleFormats)(blots.shift());Object.keys(formats).length>0;){var blot=blots.shift();if(null==blot)return formats;formats=combineFormats((0,_block.bubbleFormats)(blot),formats)}return formats}));return _extend2.default.apply(_extend2.default,formatsArr)}},{key:"getText",value:function getText(index,length){return this.getContents(index,length).filter((function(op){return"string"==typeof op.insert})).map((function(op){return op.insert})).join("")}},{key:"insertEmbed",value:function insertEmbed(index,embed,value){return this.scroll.insertAt(index,embed,value),this.update((new _quillDelta2.default).retain(index).insert(function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}({},embed,value)))}},{key:"insertText",value:function insertText(index,text){var _this4=this,formats=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return text=text.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(index,text),Object.keys(formats).forEach((function(format){_this4.scroll.formatAt(index,text.length,format,formats[format])})),this.update((new _quillDelta2.default).retain(index).insert(text,(0,_clone2.default)(formats)))}},{key:"isBlank",value:function isBlank(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var block=this.scroll.children.head;return block.statics.blotName===_block2.default.blotName&&(!(block.children.length>1)&&block.children.head instanceof _break2.default)}},{key:"removeFormat",value:function removeFormat(index,length){var text=this.getText(index,length),_scroll$line3=this.scroll.line(index+length),_scroll$line4=_slicedToArray(_scroll$line3,2),line=_scroll$line4[0],offset=_scroll$line4[1],suffixLength=0,suffix=new _quillDelta2.default;null!=line&&(suffixLength=line instanceof _code2.default?line.newlineIndex(offset)-offset+1:line.length()-offset,suffix=line.delta().slice(offset,offset+suffixLength-1).insert("\n"));var diff=this.getContents(index,length+suffixLength).diff((new _quillDelta2.default).insert(text).concat(suffix)),delta=(new _quillDelta2.default).retain(index).concat(diff);return this.applyDelta(delta)}},{key:"update",value:function update(change){var mutations=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],cursorIndex=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,oldDelta=this.delta;if(1===mutations.length&&"characterData"===mutations[0].type&&mutations[0].target.data.match(ASCII)&&_parchment2.default.find(mutations[0].target)){var textBlot=_parchment2.default.find(mutations[0].target),formats=(0,_block.bubbleFormats)(textBlot),index=textBlot.offset(this.scroll),oldValue=mutations[0].oldValue.replace(_cursor2.default.CONTENTS,""),oldText=(new _quillDelta2.default).insert(oldValue),newText=(new _quillDelta2.default).insert(textBlot.value()),diffDelta=(new _quillDelta2.default).retain(index).concat(oldText.diff(newText,cursorIndex));change=diffDelta.reduce((function(delta,op){return op.insert?delta.insert(op.insert,formats):delta.push(op)}),new _quillDelta2.default),this.delta=oldDelta.compose(change)}else this.delta=this.getDelta(),change&&(0,_deepEqual2.default)(oldDelta.compose(change),this.delta)||(change=oldDelta.diff(this.delta,cursorIndex));return change}}]),Editor}();function combineFormats(formats,combined){return Object.keys(combined).reduce((function(merged,name){return null==formats[name]||(combined[name]===formats[name]?merged[name]=combined[name]:Array.isArray(combined[name])?combined[name].indexOf(formats[name])<0&&(merged[name]=combined[name].concat([formats[name]])):merged[name]=[combined[name],formats[name]]),merged}),{})}exports.default=Editor},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.Range=void 0;var _slicedToArray=function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_parchment2=_interopRequireDefault(__webpack_require__(0)),_clone2=_interopRequireDefault(__webpack_require__(21)),_deepEqual2=_interopRequireDefault(__webpack_require__(11)),_emitter4=_interopRequireDefault(__webpack_require__(8));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var debug=(0,_interopRequireDefault(__webpack_require__(10)).default)("quill:selection"),Range=function Range(index){var length=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,Range),this.index=index,this.length=length},Selection=function(){function Selection(scroll,emitter){var _this=this;_classCallCheck(this,Selection),this.emitter=emitter,this.scroll=scroll,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=_parchment2.default.create("cursor",this),this.lastRange=this.savedRange=new Range(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,(function(){_this.mouseDown||setTimeout(_this.update.bind(_this,_emitter4.default.sources.USER),1)})),this.emitter.on(_emitter4.default.events.EDITOR_CHANGE,(function(type,delta){type===_emitter4.default.events.TEXT_CHANGE&&delta.length()>0&&_this.update(_emitter4.default.sources.SILENT)})),this.emitter.on(_emitter4.default.events.SCROLL_BEFORE_UPDATE,(function(){if(_this.hasFocus()){var native=_this.getNativeRange();null!=native&&native.start.node!==_this.cursor.textNode&&_this.emitter.once(_emitter4.default.events.SCROLL_UPDATE,(function(){try{_this.setNativeRange(native.start.node,native.start.offset,native.end.node,native.end.offset)}catch(ignored){}}))}})),this.emitter.on(_emitter4.default.events.SCROLL_OPTIMIZE,(function(mutations,context){if(context.range){var _context$range=context.range,startNode=_context$range.startNode,startOffset=_context$range.startOffset,endNode=_context$range.endNode,endOffset=_context$range.endOffset;_this.setNativeRange(startNode,startOffset,endNode,endOffset)}})),this.update(_emitter4.default.sources.SILENT)}return _createClass(Selection,[{key:"handleComposition",value:function handleComposition(){var _this2=this;this.root.addEventListener("compositionstart",(function(){_this2.composing=!0})),this.root.addEventListener("compositionend",(function(){if(_this2.composing=!1,_this2.cursor.parent){var range=_this2.cursor.restore();if(!range)return;setTimeout((function(){_this2.setNativeRange(range.startNode,range.startOffset,range.endNode,range.endOffset)}),1)}}))}},{key:"handleDragging",value:function handleDragging(){var _this3=this;this.emitter.listenDOM("mousedown",document.body,(function(){_this3.mouseDown=!0})),this.emitter.listenDOM("mouseup",document.body,(function(){_this3.mouseDown=!1,_this3.update(_emitter4.default.sources.USER)}))}},{key:"focus",value:function focus(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function format(_format,value){if(null==this.scroll.whitelist||this.scroll.whitelist[_format]){this.scroll.update();var nativeRange=this.getNativeRange();if(null!=nativeRange&&nativeRange.native.collapsed&&!_parchment2.default.query(_format,_parchment2.default.Scope.BLOCK)){if(nativeRange.start.node!==this.cursor.textNode){var blot=_parchment2.default.find(nativeRange.start.node,!1);if(null==blot)return;if(blot instanceof _parchment2.default.Leaf){var after=blot.split(nativeRange.start.offset);blot.parent.insertBefore(this.cursor,after)}else blot.insertBefore(this.cursor,nativeRange.start.node);this.cursor.attach()}this.cursor.format(_format,value),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function getBounds(index){var length=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,scrollLength=this.scroll.length();index=Math.min(index,scrollLength-1),length=Math.min(index+length,scrollLength-1)-index;var node=void 0,_scroll$leaf=this.scroll.leaf(index),_scroll$leaf2=_slicedToArray(_scroll$leaf,2),leaf=_scroll$leaf2[0],offset=_scroll$leaf2[1];if(null==leaf)return null;var _leaf$position=leaf.position(offset,!0),_leaf$position2=_slicedToArray(_leaf$position,2);node=_leaf$position2[0],offset=_leaf$position2[1];var range=document.createRange();if(length>0){range.setStart(node,offset);var _scroll$leaf3=this.scroll.leaf(index+length),_scroll$leaf4=_slicedToArray(_scroll$leaf3,2);if(leaf=_scroll$leaf4[0],offset=_scroll$leaf4[1],null==leaf)return null;var _leaf$position3=leaf.position(offset,!0),_leaf$position4=_slicedToArray(_leaf$position3,2);return node=_leaf$position4[0],offset=_leaf$position4[1],range.setEnd(node,offset),range.getBoundingClientRect()}var side="left",rect=void 0;return node instanceof Text?(offset<node.data.length?(range.setStart(node,offset),range.setEnd(node,offset+1)):(range.setStart(node,offset-1),range.setEnd(node,offset),side="right"),rect=range.getBoundingClientRect()):(rect=leaf.domNode.getBoundingClientRect(),offset>0&&(side="right")),{bottom:rect.top+rect.height,height:rect.height,left:rect[side],right:rect[side],top:rect.top,width:0}}},{key:"getNativeRange",value:function getNativeRange(){var selection=document.getSelection();if(null==selection||selection.rangeCount<=0)return null;var nativeRange=selection.getRangeAt(0);if(null==nativeRange)return null;var range=this.normalizeNative(nativeRange);return debug.info("getNativeRange",range),range}},{key:"getRange",value:function getRange(){var normalized=this.getNativeRange();return null==normalized?[null,null]:[this.normalizedToRange(normalized),normalized]}},{key:"hasFocus",value:function hasFocus(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function normalizedToRange(range){var _this4=this,positions=[[range.start.node,range.start.offset]];range.native.collapsed||positions.push([range.end.node,range.end.offset]);var indexes=positions.map((function(position){var _position=_slicedToArray(position,2),node=_position[0],offset=_position[1],blot=_parchment2.default.find(node,!0),index=blot.offset(_this4.scroll);return 0===offset?index:blot instanceof _parchment2.default.Container?index+blot.length():index+blot.index(node,offset)})),end=Math.min(Math.max.apply(Math,_toConsumableArray(indexes)),this.scroll.length()-1),start=Math.min.apply(Math,[end].concat(_toConsumableArray(indexes)));return new Range(start,end-start)}},{key:"normalizeNative",value:function normalizeNative(nativeRange){if(!contains(this.root,nativeRange.startContainer)||!nativeRange.collapsed&&!contains(this.root,nativeRange.endContainer))return null;var range={start:{node:nativeRange.startContainer,offset:nativeRange.startOffset},end:{node:nativeRange.endContainer,offset:nativeRange.endOffset},native:nativeRange};return[range.start,range.end].forEach((function(position){for(var node=position.node,offset=position.offset;!(node instanceof Text)&&node.childNodes.length>0;)if(node.childNodes.length>offset)node=node.childNodes[offset],offset=0;else{if(node.childNodes.length!==offset)break;offset=(node=node.lastChild)instanceof Text?node.data.length:node.childNodes.length+1}position.node=node,position.offset=offset})),range}},{key:"rangeToNative",value:function rangeToNative(range){var _this5=this,indexes=range.collapsed?[range.index]:[range.index,range.index+range.length],args=[],scrollLength=this.scroll.length();return indexes.forEach((function(index,i){index=Math.min(scrollLength-1,index);var node,_scroll$leaf5=_this5.scroll.leaf(index),_scroll$leaf6=_slicedToArray(_scroll$leaf5,2),leaf=_scroll$leaf6[0],offset=_scroll$leaf6[1],_leaf$position5=leaf.position(offset,0!==i),_leaf$position6=_slicedToArray(_leaf$position5,2);node=_leaf$position6[0],offset=_leaf$position6[1],args.push(node,offset)})),args.length<2&&(args=args.concat(args)),args}},{key:"scrollIntoView",value:function scrollIntoView(scrollingContainer){var range=this.lastRange;if(null!=range){var bounds=this.getBounds(range.index,range.length);if(null!=bounds){var limit=this.scroll.length()-1,_scroll$line=this.scroll.line(Math.min(range.index,limit)),first=_slicedToArray(_scroll$line,1)[0],last=first;if(range.length>0){var _scroll$line3=this.scroll.line(Math.min(range.index+range.length,limit));last=_slicedToArray(_scroll$line3,1)[0]}if(null!=first&&null!=last){var scrollBounds=scrollingContainer.getBoundingClientRect();bounds.top<scrollBounds.top?scrollingContainer.scrollTop-=scrollBounds.top-bounds.top:bounds.bottom>scrollBounds.bottom&&(scrollingContainer.scrollTop+=bounds.bottom-scrollBounds.bottom)}}}}},{key:"setNativeRange",value:function setNativeRange(startNode,startOffset){var endNode=arguments.length>2&&void 0!==arguments[2]?arguments[2]:startNode,endOffset=arguments.length>3&&void 0!==arguments[3]?arguments[3]:startOffset,force=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(debug.info("setNativeRange",startNode,startOffset,endNode,endOffset),null==startNode||null!=this.root.parentNode&&null!=startNode.parentNode&&null!=endNode.parentNode){var selection=document.getSelection();if(null!=selection)if(null!=startNode){this.hasFocus()||this.root.focus();var native=(this.getNativeRange()||{}).native;if(null==native||force||startNode!==native.startContainer||startOffset!==native.startOffset||endNode!==native.endContainer||endOffset!==native.endOffset){"BR"==startNode.tagName&&(startOffset=[].indexOf.call(startNode.parentNode.childNodes,startNode),startNode=startNode.parentNode),"BR"==endNode.tagName&&(endOffset=[].indexOf.call(endNode.parentNode.childNodes,endNode),endNode=endNode.parentNode);var range=document.createRange();range.setStart(startNode,startOffset),range.setEnd(endNode,endOffset),selection.removeAllRanges(),selection.addRange(range)}}else selection.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function setRange(range){var force=arguments.length>1&&void 0!==arguments[1]&&arguments[1],source=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_emitter4.default.sources.API;if("string"==typeof force&&(source=force,force=!1),debug.info("setRange",range),null!=range){var args=this.rangeToNative(range);this.setNativeRange.apply(this,_toConsumableArray(args).concat([force]))}else this.setNativeRange(null);this.update(source)}},{key:"update",value:function update(){var source=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_emitter4.default.sources.USER,oldRange=this.lastRange,_getRange=this.getRange(),_getRange2=_slicedToArray(_getRange,2),lastRange=_getRange2[0],nativeRange=_getRange2[1];if(this.lastRange=lastRange,null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,_deepEqual2.default)(oldRange,this.lastRange)){var _emitter;!this.composing&&null!=nativeRange&&nativeRange.native.collapsed&&nativeRange.start.node!==this.cursor.textNode&&this.cursor.restore();var _emitter2,args=[_emitter4.default.events.SELECTION_CHANGE,(0,_clone2.default)(this.lastRange),(0,_clone2.default)(oldRange),source];if((_emitter=this.emitter).emit.apply(_emitter,[_emitter4.default.events.EDITOR_CHANGE].concat(args)),source!==_emitter4.default.sources.SILENT)(_emitter2=this.emitter).emit.apply(_emitter2,args)}}}]),Selection}();function contains(parent,descendant){try{descendant.parentNode}catch(e){return!1}return descendant instanceof Text&&(descendant=descendant.parentNode),parent.contains(descendant)}exports.Range=Range,exports.default=Selection},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;return void 0!==getter?getter.call(receiver):void 0};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}var Break=function(_Parchment$Embed){function Break(){return _classCallCheck(this,Break),_possibleConstructorReturn(this,(Break.__proto__||Object.getPrototypeOf(Break)).apply(this,arguments))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(Break,_Parchment$Embed),_createClass(Break,[{key:"insertInto",value:function insertInto(parent,ref){0===parent.children.length?_get(Break.prototype.__proto__||Object.getPrototypeOf(Break.prototype),"insertInto",this).call(this,parent,ref):this.remove()}},{key:"length",value:function length(){return 0}},{key:"value",value:function value(){return""}}],[{key:"value",value:function value(){}}]),Break}(function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(0)).default.Embed);Break.blotName="break",Break.tagName="BR",exports.default=Break},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0});var linked_list_1=__webpack_require__(44),shadow_1=__webpack_require__(30),Registry=__webpack_require__(1),ContainerBlot=function(_super){function ContainerBlot(domNode){var _this=_super.call(this,domNode)||this;return _this.build(),_this}return __extends(ContainerBlot,_super),ContainerBlot.prototype.appendChild=function(other){this.insertBefore(other)},ContainerBlot.prototype.attach=function(){_super.prototype.attach.call(this),this.children.forEach((function(child){child.attach()}))},ContainerBlot.prototype.build=function(){var _this=this;this.children=new linked_list_1.default,[].slice.call(this.domNode.childNodes).reverse().forEach((function(node){try{var child=makeBlot(node);_this.insertBefore(child,_this.children.head||void 0)}catch(err){if(err instanceof Registry.ParchmentError)return;throw err}}))},ContainerBlot.prototype.deleteAt=function(index,length){if(0===index&&length===this.length())return this.remove();this.children.forEachAt(index,length,(function(child,offset,length){child.deleteAt(offset,length)}))},ContainerBlot.prototype.descendant=function(criteria,index){var _a=this.children.find(index),child=_a[0],offset=_a[1];return null==criteria.blotName&&criteria(child)||null!=criteria.blotName&&child instanceof criteria?[child,offset]:child instanceof ContainerBlot?child.descendant(criteria,offset):[null,-1]},ContainerBlot.prototype.descendants=function(criteria,index,length){void 0===index&&(index=0),void 0===length&&(length=Number.MAX_VALUE);var descendants=[],lengthLeft=length;return this.children.forEachAt(index,length,(function(child,index,length){(null==criteria.blotName&&criteria(child)||null!=criteria.blotName&&child instanceof criteria)&&descendants.push(child),child instanceof ContainerBlot&&(descendants=descendants.concat(child.descendants(criteria,index,lengthLeft))),lengthLeft-=length})),descendants},ContainerBlot.prototype.detach=function(){this.children.forEach((function(child){child.detach()})),_super.prototype.detach.call(this)},ContainerBlot.prototype.formatAt=function(index,length,name,value){this.children.forEachAt(index,length,(function(child,offset,length){child.formatAt(offset,length,name,value)}))},ContainerBlot.prototype.insertAt=function(index,value,def){var _a=this.children.find(index),child=_a[0],offset=_a[1];if(child)child.insertAt(offset,value,def);else{var blot=null==def?Registry.create("text",value):Registry.create(value,def);this.appendChild(blot)}},ContainerBlot.prototype.insertBefore=function(childBlot,refBlot){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some((function(child){return childBlot instanceof child})))throw new Registry.ParchmentError("Cannot insert "+childBlot.statics.blotName+" into "+this.statics.blotName);childBlot.insertInto(this,refBlot)},ContainerBlot.prototype.length=function(){return this.children.reduce((function(memo,child){return memo+child.length()}),0)},ContainerBlot.prototype.moveChildren=function(targetParent,refNode){this.children.forEach((function(child){targetParent.insertBefore(child,refNode)}))},ContainerBlot.prototype.optimize=function(context){if(_super.prototype.optimize.call(this,context),0===this.children.length)if(null!=this.statics.defaultChild){var child=Registry.create(this.statics.defaultChild);this.appendChild(child),child.optimize(context)}else this.remove()},ContainerBlot.prototype.path=function(index,inclusive){void 0===inclusive&&(inclusive=!1);var _a=this.children.find(index,inclusive),child=_a[0],offset=_a[1],position=[[this,index]];return child instanceof ContainerBlot?position.concat(child.path(offset,inclusive)):(null!=child&&position.push([child,offset]),position)},ContainerBlot.prototype.removeChild=function(child){this.children.remove(child)},ContainerBlot.prototype.replace=function(target){target instanceof ContainerBlot&&target.moveChildren(this),_super.prototype.replace.call(this,target)},ContainerBlot.prototype.split=function(index,force){if(void 0===force&&(force=!1),!force){if(0===index)return this;if(index===this.length())return this.next}var after=this.clone();return this.parent.insertBefore(after,this.next),this.children.forEachAt(index,this.length(),(function(child,offset,length){child=child.split(offset,force),after.appendChild(child)})),after},ContainerBlot.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},ContainerBlot.prototype.update=function(mutations,context){var _this=this,addedNodes=[],removedNodes=[];mutations.forEach((function(mutation){mutation.target===_this.domNode&&"childList"===mutation.type&&(addedNodes.push.apply(addedNodes,mutation.addedNodes),removedNodes.push.apply(removedNodes,mutation.removedNodes))})),removedNodes.forEach((function(node){if(!(null!=node.parentNode&&"IFRAME"!==node.tagName&&document.body.compareDocumentPosition(node)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var blot=Registry.find(node);null!=blot&&(null!=blot.domNode.parentNode&&blot.domNode.parentNode!==_this.domNode||blot.detach())}})),addedNodes.filter((function(node){return node.parentNode==_this.domNode})).sort((function(a,b){return a===b?0:a.compareDocumentPosition(b)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1})).forEach((function(node){var refBlot=null;null!=node.nextSibling&&(refBlot=Registry.find(node.nextSibling));var blot=makeBlot(node);blot.next==refBlot&&null!=blot.next||(null!=blot.parent&&blot.parent.removeChild(_this),_this.insertBefore(blot,refBlot||void 0))}))},ContainerBlot}(shadow_1.default);function makeBlot(node){var blot=Registry.find(node);if(null==blot)try{blot=Registry.create(node)}catch(e){blot=Registry.create(Registry.Scope.INLINE),[].slice.call(node.childNodes).forEach((function(child){blot.domNode.appendChild(child)})),node.parentNode&&node.parentNode.replaceChild(blot.domNode,node),blot.attach()}return blot}exports.default=ContainerBlot},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0});var attributor_1=__webpack_require__(12),store_1=__webpack_require__(31),container_1=__webpack_require__(17),Registry=__webpack_require__(1),FormatBlot=function(_super){function FormatBlot(domNode){var _this=_super.call(this,domNode)||this;return _this.attributes=new store_1.default(_this.domNode),_this}return __extends(FormatBlot,_super),FormatBlot.formats=function(domNode){return"string"==typeof this.tagName||(Array.isArray(this.tagName)?domNode.tagName.toLowerCase():void 0)},FormatBlot.prototype.format=function(name,value){var format=Registry.query(name);format instanceof attributor_1.default?this.attributes.attribute(format,value):value&&(null==format||name===this.statics.blotName&&this.formats()[name]===value||this.replaceWith(name,value))},FormatBlot.prototype.formats=function(){var formats=this.attributes.values(),format=this.statics.formats(this.domNode);return null!=format&&(formats[this.statics.blotName]=format),formats},FormatBlot.prototype.replaceWith=function(name,value){var replacement=_super.prototype.replaceWith.call(this,name,value);return this.attributes.copy(replacement),replacement},FormatBlot.prototype.update=function(mutations,context){var _this=this;_super.prototype.update.call(this,mutations,context),mutations.some((function(mutation){return mutation.target===_this.domNode&&"attributes"===mutation.type}))&&this.attributes.build()},FormatBlot.prototype.wrap=function(name,value){var wrapper=_super.prototype.wrap.call(this,name,value);return wrapper instanceof FormatBlot&&wrapper.statics.scope===this.statics.scope&&this.attributes.move(wrapper),wrapper},FormatBlot}(container_1.default);exports.default=FormatBlot},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0});var shadow_1=__webpack_require__(30),Registry=__webpack_require__(1),LeafBlot=function(_super){function LeafBlot(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(LeafBlot,_super),LeafBlot.value=function(domNode){return!0},LeafBlot.prototype.index=function(node,offset){return this.domNode===node||this.domNode.compareDocumentPosition(node)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(offset,1):-1},LeafBlot.prototype.position=function(index,inclusive){var offset=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return index>0&&(offset+=1),[this.parent.domNode,offset]},LeafBlot.prototype.value=function(){var _a;return(_a={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,_a},LeafBlot.scope=Registry.Scope.INLINE_BLOT,LeafBlot}(shadow_1.default);exports.default=LeafBlot},function(module,exports,__webpack_require__){var equal=__webpack_require__(11),extend=__webpack_require__(3),lib={attributes:{compose:function(a,b,keepNull){"object"!=typeof a&&(a={}),"object"!=typeof b&&(b={});var attributes=extend(!0,{},b);for(var key in keepNull||(attributes=Object.keys(attributes).reduce((function(copy,key){return null!=attributes[key]&&(copy[key]=attributes[key]),copy}),{})),a)void 0!==a[key]&&void 0===b[key]&&(attributes[key]=a[key]);return Object.keys(attributes).length>0?attributes:void 0},diff:function(a,b){"object"!=typeof a&&(a={}),"object"!=typeof b&&(b={});var attributes=Object.keys(a).concat(Object.keys(b)).reduce((function(attributes,key){return equal(a[key],b[key])||(attributes[key]=void 0===b[key]?null:b[key]),attributes}),{});return Object.keys(attributes).length>0?attributes:void 0},transform:function(a,b,priority){if("object"!=typeof a)return b;if("object"==typeof b){if(!priority)return b;var attributes=Object.keys(b).reduce((function(attributes,key){return void 0===a[key]&&(attributes[key]=b[key]),attributes}),{});return Object.keys(attributes).length>0?attributes:void 0}}},iterator:function(ops){return new Iterator(ops)},length:function(op){return"number"==typeof op.delete?op.delete:"number"==typeof op.retain?op.retain:"string"==typeof op.insert?op.insert.length:1}};function Iterator(ops){this.ops=ops,this.index=0,this.offset=0}Iterator.prototype.hasNext=function(){return this.peekLength()<1/0},Iterator.prototype.next=function(length){length||(length=1/0);var nextOp=this.ops[this.index];if(nextOp){var offset=this.offset,opLength=lib.length(nextOp);if(length>=opLength-offset?(length=opLength-offset,this.index+=1,this.offset=0):this.offset+=length,"number"==typeof nextOp.delete)return{delete:length};var retOp={};return nextOp.attributes&&(retOp.attributes=nextOp.attributes),"number"==typeof nextOp.retain?retOp.retain=length:"string"==typeof nextOp.insert?retOp.insert=nextOp.insert.substr(offset,length):retOp.insert=nextOp.insert,retOp}return{retain:1/0}},Iterator.prototype.peek=function(){return this.ops[this.index]},Iterator.prototype.peekLength=function(){return this.ops[this.index]?lib.length(this.ops[this.index])-this.offset:1/0},Iterator.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},Iterator.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var offset=this.offset,index=this.index,next=this.next(),rest=this.ops.slice(this.index);return this.offset=offset,this.index=index,[next].concat(rest)}return[]},module.exports=lib},function(module,exports){var clone=function(){"use strict";function _instanceof(obj,type){return null!=type&&obj instanceof type}var nativeMap,nativeSet,nativePromise;try{nativeMap=Map}catch(_){nativeMap=function(){}}try{nativeSet=Set}catch(_){nativeSet=function(){}}try{nativePromise=Promise}catch(_){nativePromise=function(){}}function clone(parent,circular,depth,prototype,includeNonEnumerable){"object"==typeof circular&&(depth=circular.depth,prototype=circular.prototype,includeNonEnumerable=circular.includeNonEnumerable,circular=circular.circular);var allParents=[],allChildren=[],useBuffer="undefined"!=typeof Buffer;return void 0===circular&&(circular=!0),void 0===depth&&(depth=1/0),function _clone(parent,depth){if(null===parent)return null;if(0===depth)return parent;var child,proto;if("object"!=typeof parent)return parent;if(_instanceof(parent,nativeMap))child=new nativeMap;else if(_instanceof(parent,nativeSet))child=new nativeSet;else if(_instanceof(parent,nativePromise))child=new nativePromise((function(resolve,reject){parent.then((function(value){resolve(_clone(value,depth-1))}),(function(err){reject(_clone(err,depth-1))}))}));else if(clone.__isArray(parent))child=[];else if(clone.__isRegExp(parent))child=new RegExp(parent.source,__getRegExpFlags(parent)),parent.lastIndex&&(child.lastIndex=parent.lastIndex);else if(clone.__isDate(parent))child=new Date(parent.getTime());else{if(useBuffer&&Buffer.isBuffer(parent))return child=Buffer.allocUnsafe?Buffer.allocUnsafe(parent.length):new Buffer(parent.length),parent.copy(child),child;_instanceof(parent,Error)?child=Object.create(parent):void 0===prototype?(proto=Object.getPrototypeOf(parent),child=Object.create(proto)):(child=Object.create(prototype),proto=prototype)}if(circular){var index=allParents.indexOf(parent);if(-1!=index)return allChildren[index];allParents.push(parent),allChildren.push(child)}for(var i in _instanceof(parent,nativeMap)&&parent.forEach((function(value,key){var keyChild=_clone(key,depth-1),valueChild=_clone(value,depth-1);child.set(keyChild,valueChild)})),_instanceof(parent,nativeSet)&&parent.forEach((function(value){var entryChild=_clone(value,depth-1);child.add(entryChild)})),parent){var attrs;proto&&(attrs=Object.getOwnPropertyDescriptor(proto,i)),attrs&&null==attrs.set||(child[i]=_clone(parent[i],depth-1))}if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(parent);for(i=0;i<symbols.length;i++){var symbol=symbols[i];(!(descriptor=Object.getOwnPropertyDescriptor(parent,symbol))||descriptor.enumerable||includeNonEnumerable)&&(child[symbol]=_clone(parent[symbol],depth-1),descriptor.enumerable||Object.defineProperty(child,symbol,{enumerable:!1}))}}if(includeNonEnumerable){var allPropertyNames=Object.getOwnPropertyNames(parent);for(i=0;i<allPropertyNames.length;i++){var descriptor,propertyName=allPropertyNames[i];(descriptor=Object.getOwnPropertyDescriptor(parent,propertyName))&&descriptor.enumerable||(child[propertyName]=_clone(parent[propertyName],depth-1),Object.defineProperty(child,propertyName,{enumerable:!1}))}}return child}(parent,depth)}function __objToStr(o){return Object.prototype.toString.call(o)}function __getRegExpFlags(re){var flags="";return re.global&&(flags+="g"),re.ignoreCase&&(flags+="i"),re.multiline&&(flags+="m"),flags}return clone.clonePrototype=function clonePrototype(parent){if(null===parent)return null;var c=function(){};return c.prototype=parent,new c},clone.__objToStr=__objToStr,clone.__isDate=function __isDate(o){return"object"==typeof o&&"[object Date]"===__objToStr(o)},clone.__isArray=function __isArray(o){return"object"==typeof o&&"[object Array]"===__objToStr(o)},clone.__isRegExp=function __isRegExp(o){return"object"==typeof o&&"[object RegExp]"===__objToStr(o)},clone.__getRegExpFlags=__getRegExpFlags,clone}();"object"==typeof module&&module.exports&&(module.exports=clone)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray=function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;return void 0!==getter?getter.call(receiver):void 0},_parchment2=_interopRequireDefault(__webpack_require__(0)),_emitter2=_interopRequireDefault(__webpack_require__(8)),_block=__webpack_require__(4),_block2=_interopRequireDefault(_block),_break2=_interopRequireDefault(__webpack_require__(16)),_code2=_interopRequireDefault(__webpack_require__(13)),_container2=_interopRequireDefault(__webpack_require__(25));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function isLine(blot){return blot instanceof _block2.default||blot instanceof _block.BlockEmbed}var Scroll=function(_Parchment$Scroll){function Scroll(domNode,config){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Scroll);var _this=function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(Scroll.__proto__||Object.getPrototypeOf(Scroll)).call(this,domNode));return _this.emitter=config.emitter,Array.isArray(config.whitelist)&&(_this.whitelist=config.whitelist.reduce((function(whitelist,format){return whitelist[format]=!0,whitelist}),{})),_this.domNode.addEventListener("DOMNodeInserted",(function(){})),_this.optimize(),_this.enable(),_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(Scroll,_Parchment$Scroll),_createClass(Scroll,[{key:"batchStart",value:function batchStart(){this.batch=!0}},{key:"batchEnd",value:function batchEnd(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function deleteAt(index,length){var _line=this.line(index),_line2=_slicedToArray(_line,2),first=_line2[0],offset=_line2[1],_line3=this.line(index+length),last=_slicedToArray(_line3,1)[0];if(_get(Scroll.prototype.__proto__||Object.getPrototypeOf(Scroll.prototype),"deleteAt",this).call(this,index,length),null!=last&&first!==last&&offset>0){if(first instanceof _block.BlockEmbed||last instanceof _block.BlockEmbed)return void this.optimize();if(first instanceof _code2.default){var newlineIndex=first.newlineIndex(first.length(),!0);if(newlineIndex>-1&&(first=first.split(newlineIndex+1))===last)return void this.optimize()}else if(last instanceof _code2.default){var _newlineIndex=last.newlineIndex(0);_newlineIndex>-1&&last.split(_newlineIndex+1)}var ref=last.children.head instanceof _break2.default?null:last.children.head;first.moveChildren(last,ref),first.remove()}this.optimize()}},{key:"enable",value:function enable(){var enabled=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",enabled)}},{key:"formatAt",value:function formatAt(index,length,format,value){(null==this.whitelist||this.whitelist[format])&&(_get(Scroll.prototype.__proto__||Object.getPrototypeOf(Scroll.prototype),"formatAt",this).call(this,index,length,format,value),this.optimize())}},{key:"insertAt",value:function insertAt(index,value,def){if(null==def||null==this.whitelist||this.whitelist[value]){if(index>=this.length())if(null==def||null==_parchment2.default.query(value,_parchment2.default.Scope.BLOCK)){var blot=_parchment2.default.create(this.statics.defaultChild);this.appendChild(blot),null==def&&value.endsWith("\n")&&(value=value.slice(0,-1)),blot.insertAt(0,value,def)}else{var embed=_parchment2.default.create(value,def);this.appendChild(embed)}else _get(Scroll.prototype.__proto__||Object.getPrototypeOf(Scroll.prototype),"insertAt",this).call(this,index,value,def);this.optimize()}}},{key:"insertBefore",value:function insertBefore(blot,ref){if(blot.statics.scope===_parchment2.default.Scope.INLINE_BLOT){var wrapper=_parchment2.default.create(this.statics.defaultChild);wrapper.appendChild(blot),blot=wrapper}_get(Scroll.prototype.__proto__||Object.getPrototypeOf(Scroll.prototype),"insertBefore",this).call(this,blot,ref)}},{key:"leaf",value:function leaf(index){return this.path(index).pop()||[null,-1]}},{key:"line",value:function line(index){return index===this.length()?this.line(index-1):this.descendant(isLine,index)}},{key:"lines",value:function lines(){var index=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,length=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,getLines=function getLines(blot,index,length){var lines=[],lengthLeft=length;return blot.children.forEachAt(index,length,(function(child,index,length){isLine(child)?lines.push(child):child instanceof _parchment2.default.Container&&(lines=lines.concat(getLines(child,index,lengthLeft))),lengthLeft-=length})),lines};return getLines(this,index,length)}},{key:"optimize",value:function optimize(){var mutations=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],context=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(_get(Scroll.prototype.__proto__||Object.getPrototypeOf(Scroll.prototype),"optimize",this).call(this,mutations,context),mutations.length>0&&this.emitter.emit(_emitter2.default.events.SCROLL_OPTIMIZE,mutations,context))}},{key:"path",value:function path(index){return _get(Scroll.prototype.__proto__||Object.getPrototypeOf(Scroll.prototype),"path",this).call(this,index).slice(1)}},{key:"update",value:function update(mutations){if(!0!==this.batch){var source=_emitter2.default.sources.USER;"string"==typeof mutations&&(source=mutations),Array.isArray(mutations)||(mutations=this.observer.takeRecords()),mutations.length>0&&this.emitter.emit(_emitter2.default.events.SCROLL_BEFORE_UPDATE,source,mutations),_get(Scroll.prototype.__proto__||Object.getPrototypeOf(Scroll.prototype),"update",this).call(this,mutations.concat([])),mutations.length>0&&this.emitter.emit(_emitter2.default.events.SCROLL_UPDATE,source,mutations)}}}]),Scroll}(_parchment2.default.Scroll);Scroll.blotName="scroll",Scroll.className="ql-editor",Scroll.tagName="DIV",Scroll.defaultChild="block",Scroll.allowedChildren=[_block2.default,_block.BlockEmbed,_container2.default],exports.default=Scroll},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SHORTKEY=exports.default=void 0;var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_slicedToArray=function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_clone2=_interopRequireDefault(__webpack_require__(21)),_deepEqual2=_interopRequireDefault(__webpack_require__(11)),_extend2=_interopRequireDefault(__webpack_require__(3)),_quillDelta2=_interopRequireDefault(__webpack_require__(2)),_op2=_interopRequireDefault(__webpack_require__(20)),_parchment2=_interopRequireDefault(__webpack_require__(0)),_quill2=_interopRequireDefault(__webpack_require__(5)),_logger2=_interopRequireDefault(__webpack_require__(10)),_module2=_interopRequireDefault(__webpack_require__(9));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var debug=(0,_logger2.default)("quill:keyboard"),SHORTKEY=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",Keyboard=function(_Module){function Keyboard(quill,options){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Keyboard);var _this=function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(Keyboard.__proto__||Object.getPrototypeOf(Keyboard)).call(this,quill,options));return _this.bindings={},Object.keys(_this.options.bindings).forEach((function(name){("list autofill"!==name||null==quill.scroll.whitelist||quill.scroll.whitelist.list)&&_this.options.bindings[name]&&_this.addBinding(_this.options.bindings[name])})),_this.addBinding({key:Keyboard.keys.ENTER,shiftKey:null},handleEnter),_this.addBinding({key:Keyboard.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},(function(){})),/Firefox/i.test(navigator.userAgent)?(_this.addBinding({key:Keyboard.keys.BACKSPACE},{collapsed:!0},handleBackspace),_this.addBinding({key:Keyboard.keys.DELETE},{collapsed:!0},handleDelete)):(_this.addBinding({key:Keyboard.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},handleBackspace),_this.addBinding({key:Keyboard.keys.DELETE},{collapsed:!0,suffix:/^.?$/},handleDelete)),_this.addBinding({key:Keyboard.keys.BACKSPACE},{collapsed:!1},handleDeleteRange),_this.addBinding({key:Keyboard.keys.DELETE},{collapsed:!1},handleDeleteRange),_this.addBinding({key:Keyboard.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},handleBackspace),_this.listen(),_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(Keyboard,_Module),_createClass(Keyboard,null,[{key:"match",value:function match(evt,binding){return binding=normalize(binding),!["altKey","ctrlKey","metaKey","shiftKey"].some((function(key){return!!binding[key]!==evt[key]&&null!==binding[key]}))&&binding.key===(evt.which||evt.keyCode)}}]),_createClass(Keyboard,[{key:"addBinding",value:function addBinding(key){var context=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},handler=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},binding=normalize(key);if(null==binding||null==binding.key)return debug.warn("Attempted to add invalid keyboard binding",binding);"function"==typeof context&&(context={handler:context}),"function"==typeof handler&&(handler={handler:handler}),binding=(0,_extend2.default)(binding,context,handler),this.bindings[binding.key]=this.bindings[binding.key]||[],this.bindings[binding.key].push(binding)}},{key:"listen",value:function listen(){var _this2=this;this.quill.root.addEventListener("keydown",(function(evt){if(!evt.defaultPrevented){var which=evt.which||evt.keyCode,bindings=(_this2.bindings[which]||[]).filter((function(binding){return Keyboard.match(evt,binding)}));if(0!==bindings.length){var range=_this2.quill.getSelection();if(null!=range&&_this2.quill.hasFocus()){var _quill$getLine=_this2.quill.getLine(range.index),_quill$getLine2=_slicedToArray(_quill$getLine,2),line=_quill$getLine2[0],offset=_quill$getLine2[1],_quill$getLeaf=_this2.quill.getLeaf(range.index),_quill$getLeaf2=_slicedToArray(_quill$getLeaf,2),leafStart=_quill$getLeaf2[0],offsetStart=_quill$getLeaf2[1],_ref=0===range.length?[leafStart,offsetStart]:_this2.quill.getLeaf(range.index+range.length),_ref2=_slicedToArray(_ref,2),leafEnd=_ref2[0],offsetEnd=_ref2[1],prefixText=leafStart instanceof _parchment2.default.Text?leafStart.value().slice(0,offsetStart):"",suffixText=leafEnd instanceof _parchment2.default.Text?leafEnd.value().slice(offsetEnd):"",curContext={collapsed:0===range.length,empty:0===range.length&&line.length()<=1,format:_this2.quill.getFormat(range),offset:offset,prefix:prefixText,suffix:suffixText};bindings.some((function(binding){if(null!=binding.collapsed&&binding.collapsed!==curContext.collapsed)return!1;if(null!=binding.empty&&binding.empty!==curContext.empty)return!1;if(null!=binding.offset&&binding.offset!==curContext.offset)return!1;if(Array.isArray(binding.format)){if(binding.format.every((function(name){return null==curContext.format[name]})))return!1}else if("object"===_typeof(binding.format)&&!Object.keys(binding.format).every((function(name){return!0===binding.format[name]?null!=curContext.format[name]:!1===binding.format[name]?null==curContext.format[name]:(0,_deepEqual2.default)(binding.format[name],curContext.format[name])})))return!1;return!(null!=binding.prefix&&!binding.prefix.test(curContext.prefix))&&(!(null!=binding.suffix&&!binding.suffix.test(curContext.suffix))&&!0!==binding.handler.call(_this2,range,curContext))}))&&evt.preventDefault()}}}}))}}]),Keyboard}(_module2.default);function makeEmbedArrowHandler(key,shiftKey){var _ref3,where=key===Keyboard.keys.LEFT?"prefix":"suffix";return _defineProperty(_ref3={key:key,shiftKey:shiftKey,altKey:null},where,/^$/),_defineProperty(_ref3,"handler",(function handler(range){var index=range.index;key===Keyboard.keys.RIGHT&&(index+=range.length+1);var _quill$getLeaf3=this.quill.getLeaf(index);return!(_slicedToArray(_quill$getLeaf3,1)[0]instanceof _parchment2.default.Embed)||(key===Keyboard.keys.LEFT?shiftKey?this.quill.setSelection(range.index-1,range.length+1,_quill2.default.sources.USER):this.quill.setSelection(range.index-1,_quill2.default.sources.USER):shiftKey?this.quill.setSelection(range.index,range.length+1,_quill2.default.sources.USER):this.quill.setSelection(range.index+range.length+1,_quill2.default.sources.USER),!1)})),_ref3}function handleBackspace(range,context){if(!(0===range.index||this.quill.getLength()<=1)){var _quill$getLine11=this.quill.getLine(range.index),line=_slicedToArray(_quill$getLine11,1)[0],formats={};if(0===context.offset){var _quill$getLine13=this.quill.getLine(range.index-1),prev=_slicedToArray(_quill$getLine13,1)[0];if(null!=prev&&prev.length()>1){var curFormats=line.formats(),prevFormats=this.quill.getFormat(range.index-1,1);formats=_op2.default.attributes.diff(curFormats,prevFormats)||{}}}var length=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(context.prefix)?2:1;this.quill.deleteText(range.index-length,length,_quill2.default.sources.USER),Object.keys(formats).length>0&&this.quill.formatLine(range.index-length,length,formats,_quill2.default.sources.USER),this.quill.focus()}}function handleDelete(range,context){var length=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(context.suffix)?2:1;if(!(range.index>=this.quill.getLength()-length)){var formats={},nextLength=0,_quill$getLine15=this.quill.getLine(range.index),line=_slicedToArray(_quill$getLine15,1)[0];if(context.offset>=line.length()-1){var _quill$getLine17=this.quill.getLine(range.index+1),next=_slicedToArray(_quill$getLine17,1)[0];if(next){var curFormats=line.formats(),nextFormats=this.quill.getFormat(range.index,1);formats=_op2.default.attributes.diff(curFormats,nextFormats)||{},nextLength=next.length()}}this.quill.deleteText(range.index,length,_quill2.default.sources.USER),Object.keys(formats).length>0&&this.quill.formatLine(range.index+nextLength-1,length,formats,_quill2.default.sources.USER)}}function handleDeleteRange(range){var lines=this.quill.getLines(range),formats={};if(lines.length>1){var firstFormats=lines[0].formats(),lastFormats=lines[lines.length-1].formats();formats=_op2.default.attributes.diff(lastFormats,firstFormats)||{}}this.quill.deleteText(range,_quill2.default.sources.USER),Object.keys(formats).length>0&&this.quill.formatLine(range.index,1,formats,_quill2.default.sources.USER),this.quill.setSelection(range.index,_quill2.default.sources.SILENT),this.quill.focus()}function handleEnter(range,context){var _this3=this;range.length>0&&this.quill.scroll.deleteAt(range.index,range.length);var lineFormats=Object.keys(context.format).reduce((function(lineFormats,format){return _parchment2.default.query(format,_parchment2.default.Scope.BLOCK)&&!Array.isArray(context.format[format])&&(lineFormats[format]=context.format[format]),lineFormats}),{});this.quill.insertText(range.index,"\n",lineFormats,_quill2.default.sources.USER),this.quill.setSelection(range.index+1,_quill2.default.sources.SILENT),this.quill.focus(),Object.keys(context.format).forEach((function(name){null==lineFormats[name]&&(Array.isArray(context.format[name])||"link"!==name&&_this3.quill.format(name,context.format[name],_quill2.default.sources.USER))}))}function makeCodeBlockHandler(indent){return{key:Keyboard.keys.TAB,shiftKey:!indent,format:{"code-block":!0},handler:function handler(range){var CodeBlock=_parchment2.default.query("code-block"),index=range.index,length=range.length,_quill$scroll$descend=this.quill.scroll.descendant(CodeBlock,index),_quill$scroll$descend2=_slicedToArray(_quill$scroll$descend,2),block=_quill$scroll$descend2[0],offset=_quill$scroll$descend2[1];if(null!=block){var scrollIndex=this.quill.getIndex(block),start=block.newlineIndex(offset,!0)+1,end=block.newlineIndex(scrollIndex+offset+length),lines=block.domNode.textContent.slice(start,end).split("\n");offset=0,lines.forEach((function(line,i){indent?(block.insertAt(start+offset,CodeBlock.TAB),offset+=CodeBlock.TAB.length,0===i?index+=CodeBlock.TAB.length:length+=CodeBlock.TAB.length):line.startsWith(CodeBlock.TAB)&&(block.deleteAt(start+offset,CodeBlock.TAB.length),offset-=CodeBlock.TAB.length,0===i?index-=CodeBlock.TAB.length:length-=CodeBlock.TAB.length),offset+=line.length+1})),this.quill.update(_quill2.default.sources.USER),this.quill.setSelection(index,length,_quill2.default.sources.SILENT)}}}}function makeFormatHandler(format){return{key:format[0].toUpperCase(),shortKey:!0,handler:function handler(range,context){this.quill.format(format,!context.format[format],_quill2.default.sources.USER)}}}function normalize(binding){if("string"==typeof binding||"number"==typeof binding)return normalize({key:binding});if("object"===(void 0===binding?"undefined":_typeof(binding))&&(binding=(0,_clone2.default)(binding,!1)),"string"==typeof binding.key)if(null!=Keyboard.keys[binding.key.toUpperCase()])binding.key=Keyboard.keys[binding.key.toUpperCase()];else{if(1!==binding.key.length)return null;binding.key=binding.key.toUpperCase().charCodeAt(0)}return binding.shortKey&&(binding[SHORTKEY]=binding.shortKey,delete binding.shortKey),binding}Keyboard.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},Keyboard.DEFAULTS={bindings:{bold:makeFormatHandler("bold"),italic:makeFormatHandler("italic"),underline:makeFormatHandler("underline"),indent:{key:Keyboard.keys.TAB,format:["blockquote","indent","list"],handler:function handler(range,context){if(context.collapsed&&0!==context.offset)return!0;this.quill.format("indent","+1",_quill2.default.sources.USER)}},outdent:{key:Keyboard.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function handler(range,context){if(context.collapsed&&0!==context.offset)return!0;this.quill.format("indent","-1",_quill2.default.sources.USER)}},"outdent backspace":{key:Keyboard.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function handler(range,context){null!=context.format.indent?this.quill.format("indent","-1",_quill2.default.sources.USER):null!=context.format.list&&this.quill.format("list",!1,_quill2.default.sources.USER)}},"indent code-block":makeCodeBlockHandler(!0),"outdent code-block":makeCodeBlockHandler(!1),"remove tab":{key:Keyboard.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function handler(range){this.quill.deleteText(range.index-1,1,_quill2.default.sources.USER)}},tab:{key:Keyboard.keys.TAB,handler:function handler(range){this.quill.history.cutoff();var delta=(new _quillDelta2.default).retain(range.index).delete(range.length).insert("\t");this.quill.updateContents(delta,_quill2.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(range.index+1,_quill2.default.sources.SILENT)}},"list empty enter":{key:Keyboard.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function handler(range,context){this.quill.format("list",!1,_quill2.default.sources.USER),context.format.indent&&this.quill.format("indent",!1,_quill2.default.sources.USER)}},"checklist enter":{key:Keyboard.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function handler(range){var _quill$getLine3=this.quill.getLine(range.index),_quill$getLine4=_slicedToArray(_quill$getLine3,2),line=_quill$getLine4[0],offset=_quill$getLine4[1],formats=(0,_extend2.default)({},line.formats(),{list:"checked"}),delta=(new _quillDelta2.default).retain(range.index).insert("\n",formats).retain(line.length()-offset-1).retain(1,{list:"unchecked"});this.quill.updateContents(delta,_quill2.default.sources.USER),this.quill.setSelection(range.index+1,_quill2.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:Keyboard.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function handler(range,context){var _quill$getLine5=this.quill.getLine(range.index),_quill$getLine6=_slicedToArray(_quill$getLine5,2),line=_quill$getLine6[0],offset=_quill$getLine6[1],delta=(new _quillDelta2.default).retain(range.index).insert("\n",context.format).retain(line.length()-offset-1).retain(1,{header:null});this.quill.updateContents(delta,_quill2.default.sources.USER),this.quill.setSelection(range.index+1,_quill2.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function handler(range,context){var length=context.prefix.length,_quill$getLine7=this.quill.getLine(range.index),_quill$getLine8=_slicedToArray(_quill$getLine7,2),line=_quill$getLine8[0],offset=_quill$getLine8[1];if(offset>length)return!0;var value=void 0;switch(context.prefix.trim()){case"[]":case"[ ]":value="unchecked";break;case"[x]":value="checked";break;case"-":case"*":value="bullet";break;default:value="ordered"}this.quill.insertText(range.index," ",_quill2.default.sources.USER),this.quill.history.cutoff();var delta=(new _quillDelta2.default).retain(range.index-offset).delete(length+1).retain(line.length()-2-offset).retain(1,{list:value});this.quill.updateContents(delta,_quill2.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(range.index-length,_quill2.default.sources.SILENT)}},"code exit":{key:Keyboard.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function handler(range){var _quill$getLine9=this.quill.getLine(range.index),_quill$getLine10=_slicedToArray(_quill$getLine9,2),line=_quill$getLine10[0],offset=_quill$getLine10[1],delta=(new _quillDelta2.default).retain(range.index+line.length()-offset-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(delta,_quill2.default.sources.USER)}},"embed left":makeEmbedArrowHandler(Keyboard.keys.LEFT,!1),"embed left shift":makeEmbedArrowHandler(Keyboard.keys.LEFT,!0),"embed right":makeEmbedArrowHandler(Keyboard.keys.RIGHT,!1),"embed right shift":makeEmbedArrowHandler(Keyboard.keys.RIGHT,!0)}},exports.default=Keyboard,exports.SHORTKEY=SHORTKEY},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray=function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")},_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;return void 0!==getter?getter.call(receiver):void 0},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_parchment2=_interopRequireDefault(__webpack_require__(0)),_text2=_interopRequireDefault(__webpack_require__(7));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Cursor=function(_Parchment$Embed){function Cursor(domNode,selection){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Cursor);var _this=function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(Cursor.__proto__||Object.getPrototypeOf(Cursor)).call(this,domNode));return _this.selection=selection,_this.textNode=document.createTextNode(Cursor.CONTENTS),_this.domNode.appendChild(_this.textNode),_this._length=0,_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(Cursor,_Parchment$Embed),_createClass(Cursor,null,[{key:"value",value:function value(){}}]),_createClass(Cursor,[{key:"detach",value:function detach(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function format(name,value){if(0!==this._length)return _get(Cursor.prototype.__proto__||Object.getPrototypeOf(Cursor.prototype),"format",this).call(this,name,value);for(var target=this,index=0;null!=target&&target.statics.scope!==_parchment2.default.Scope.BLOCK_BLOT;)index+=target.offset(target.parent),target=target.parent;null!=target&&(this._length=Cursor.CONTENTS.length,target.optimize(),target.formatAt(index,Cursor.CONTENTS.length,name,value),this._length=0)}},{key:"index",value:function index(node,offset){return node===this.textNode?0:_get(Cursor.prototype.__proto__||Object.getPrototypeOf(Cursor.prototype),"index",this).call(this,node,offset)}},{key:"length",value:function length(){return this._length}},{key:"position",value:function position(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function remove(){_get(Cursor.prototype.__proto__||Object.getPrototypeOf(Cursor.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function restore(){if(!this.selection.composing&&null!=this.parent){var textNode=this.textNode,range=this.selection.getNativeRange(),restoreText=void 0,start=void 0,end=void 0;if(null!=range&&range.start.node===textNode&&range.end.node===textNode){var _ref=[textNode,range.start.offset,range.end.offset];restoreText=_ref[0],start=_ref[1],end=_ref[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==Cursor.CONTENTS){var text=this.textNode.data.split(Cursor.CONTENTS).join("");this.next instanceof _text2.default?(restoreText=this.next.domNode,this.next.insertAt(0,text),this.textNode.data=Cursor.CONTENTS):(this.textNode.data=text,this.parent.insertBefore(_parchment2.default.create(this.textNode),this),this.textNode=document.createTextNode(Cursor.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=start){var _map=[start,end].map((function(offset){return Math.max(0,Math.min(restoreText.data.length,offset-1))})),_map2=_slicedToArray(_map,2);return start=_map2[0],end=_map2[1],{startNode:restoreText,startOffset:start,endNode:restoreText,endOffset:end}}}}},{key:"update",value:function update(mutations,context){var _this2=this;if(mutations.some((function(mutation){return"characterData"===mutation.type&&mutation.target===_this2.textNode}))){var range=this.restore();range&&(context.range=range)}}},{key:"value",value:function value(){return""}}]),Cursor}(_parchment2.default.Embed);Cursor.blotName="cursor",Cursor.className="ql-cursor",Cursor.tagName="span",Cursor.CONTENTS="\ufeff",exports.default=Cursor},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _parchment2=_interopRequireDefault(__webpack_require__(0)),_block=__webpack_require__(4),_block2=_interopRequireDefault(_block);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}var Container=function(_Parchment$Container){function Container(){return _classCallCheck(this,Container),_possibleConstructorReturn(this,(Container.__proto__||Object.getPrototypeOf(Container)).apply(this,arguments))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(Container,_Parchment$Container),Container}(_parchment2.default.Container);Container.allowedChildren=[_block2.default,_block.BlockEmbed,Container],exports.default=Container},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ColorStyle=exports.ColorClass=exports.ColorAttributor=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;return void 0!==getter?getter.call(receiver):void 0},_parchment2=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(0));function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}var ColorAttributor=function(_Parchment$Attributor){function ColorAttributor(){return _classCallCheck(this,ColorAttributor),_possibleConstructorReturn(this,(ColorAttributor.__proto__||Object.getPrototypeOf(ColorAttributor)).apply(this,arguments))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(ColorAttributor,_Parchment$Attributor),_createClass(ColorAttributor,[{key:"value",value:function value(domNode){var value=_get(ColorAttributor.prototype.__proto__||Object.getPrototypeOf(ColorAttributor.prototype),"value",this).call(this,domNode);return value.startsWith("rgb(")?(value=value.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+value.split(",").map((function(component){return("00"+parseInt(component).toString(16)).slice(-2)})).join("")):value}}]),ColorAttributor}(_parchment2.default.Attributor.Style),ColorClass=new _parchment2.default.Attributor.Class("color","ql-color",{scope:_parchment2.default.Scope.INLINE}),ColorStyle=new ColorAttributor("color","color",{scope:_parchment2.default.Scope.INLINE});exports.ColorAttributor=ColorAttributor,exports.ColorClass=ColorClass,exports.ColorStyle=ColorStyle},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sanitize=exports.default=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;return void 0!==getter?getter.call(receiver):void 0};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}var Link=function(_Inline){function Link(){return _classCallCheck(this,Link),_possibleConstructorReturn(this,(Link.__proto__||Object.getPrototypeOf(Link)).apply(this,arguments))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(Link,_Inline),_createClass(Link,[{key:"format",value:function format(name,value){if(name!==this.statics.blotName||!value)return _get(Link.prototype.__proto__||Object.getPrototypeOf(Link.prototype),"format",this).call(this,name,value);value=this.constructor.sanitize(value),this.domNode.setAttribute("href",value)}}],[{key:"create",value:function create(value){var node=_get(Link.__proto__||Object.getPrototypeOf(Link),"create",this).call(this,value);return value=this.sanitize(value),node.setAttribute("href",value),node.setAttribute("rel","noopener noreferrer"),node.setAttribute("target","_blank"),node}},{key:"formats",value:function formats(domNode){return domNode.getAttribute("href")}},{key:"sanitize",value:function sanitize(url){return _sanitize(url,this.PROTOCOL_WHITELIST)?url:this.SANITIZED_URL}}]),Link}(function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(6)).default);function _sanitize(url,protocols){var anchor=document.createElement("a");anchor.href=url;var protocol=anchor.href.slice(0,anchor.href.indexOf(":"));return protocols.indexOf(protocol)>-1}Link.blotName="link",Link.tagName="A",Link.SANITIZED_URL="about:blank",Link.PROTOCOL_WHITELIST=["http","https","mailto","tel"],exports.default=Link,exports.sanitize=_sanitize},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_keyboard2=_interopRequireDefault(__webpack_require__(23)),_dropdown2=_interopRequireDefault(__webpack_require__(107));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var optionsCounter=0;function toggleAriaAttribute(element,attribute){element.setAttribute(attribute,!("true"===element.getAttribute(attribute)))}var Picker=function(){function Picker(select){var _this=this;!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Picker),this.select=select,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",(function(){_this.togglePicker()})),this.label.addEventListener("keydown",(function(event){switch(event.keyCode){case _keyboard2.default.keys.ENTER:_this.togglePicker();break;case _keyboard2.default.keys.ESCAPE:_this.escape(),event.preventDefault()}})),this.select.addEventListener("change",this.update.bind(this))}return _createClass(Picker,[{key:"togglePicker",value:function togglePicker(){this.container.classList.toggle("ql-expanded"),toggleAriaAttribute(this.label,"aria-expanded"),toggleAriaAttribute(this.options,"aria-hidden")}},{key:"buildItem",value:function buildItem(option){var _this2=this,item=document.createElement("span");return item.tabIndex="0",item.setAttribute("role","button"),item.classList.add("ql-picker-item"),option.hasAttribute("value")&&item.setAttribute("data-value",option.getAttribute("value")),option.textContent&&item.setAttribute("data-label",option.textContent),item.addEventListener("click",(function(){_this2.selectItem(item,!0)})),item.addEventListener("keydown",(function(event){switch(event.keyCode){case _keyboard2.default.keys.ENTER:_this2.selectItem(item,!0),event.preventDefault();break;case _keyboard2.default.keys.ESCAPE:_this2.escape(),event.preventDefault()}})),item}},{key:"buildLabel",value:function buildLabel(){var label=document.createElement("span");return label.classList.add("ql-picker-label"),label.innerHTML=_dropdown2.default,label.tabIndex="0",label.setAttribute("role","button"),label.setAttribute("aria-expanded","false"),this.container.appendChild(label),label}},{key:"buildOptions",value:function buildOptions(){var _this3=this,options=document.createElement("span");options.classList.add("ql-picker-options"),options.setAttribute("aria-hidden","true"),options.tabIndex="-1",options.id="ql-picker-options-"+optionsCounter,optionsCounter+=1,this.label.setAttribute("aria-controls",options.id),this.options=options,[].slice.call(this.select.options).forEach((function(option){var item=_this3.buildItem(option);options.appendChild(item),!0===option.selected&&_this3.selectItem(item)})),this.container.appendChild(options)}},{key:"buildPicker",value:function buildPicker(){var _this4=this;[].slice.call(this.select.attributes).forEach((function(item){_this4.container.setAttribute(item.name,item.value)})),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function escape(){var _this5=this;this.close(),setTimeout((function(){return _this5.label.focus()}),1)}},{key:"close",value:function close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function selectItem(item){var trigger=arguments.length>1&&void 0!==arguments[1]&&arguments[1],selected=this.container.querySelector(".ql-selected");if(item!==selected&&(null!=selected&&selected.classList.remove("ql-selected"),null!=item&&(item.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(item.parentNode.children,item),item.hasAttribute("data-value")?this.label.setAttribute("data-value",item.getAttribute("data-value")):this.label.removeAttribute("data-value"),item.hasAttribute("data-label")?this.label.setAttribute("data-label",item.getAttribute("data-label")):this.label.removeAttribute("data-label"),trigger))){if("function"==typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===("undefined"==typeof Event?"undefined":_typeof(Event))){var event=document.createEvent("Event");event.initEvent("change",!0,!0),this.select.dispatchEvent(event)}this.close()}}},{key:"update",value:function update(){var option=void 0;if(this.select.selectedIndex>-1){var item=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];option=this.select.options[this.select.selectedIndex],this.selectItem(item)}else this.selectItem(null);var isActive=null!=option&&option!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",isActive)}}]),Picker}();exports.default=Picker},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _parchment2=_interopRequireDefault(__webpack_require__(0)),_quill2=_interopRequireDefault(__webpack_require__(5)),_block=__webpack_require__(4),_block2=_interopRequireDefault(_block),_break2=_interopRequireDefault(__webpack_require__(16)),_container2=_interopRequireDefault(__webpack_require__(25)),_cursor2=_interopRequireDefault(__webpack_require__(24)),_embed2=_interopRequireDefault(__webpack_require__(35)),_inline2=_interopRequireDefault(__webpack_require__(6)),_scroll2=_interopRequireDefault(__webpack_require__(22)),_text2=_interopRequireDefault(__webpack_require__(7)),_clipboard2=_interopRequireDefault(__webpack_require__(55)),_history2=_interopRequireDefault(__webpack_require__(42)),_keyboard2=_interopRequireDefault(__webpack_require__(23));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_quill2.default.register({"blots/block":_block2.default,"blots/block/embed":_block.BlockEmbed,"blots/break":_break2.default,"blots/container":_container2.default,"blots/cursor":_cursor2.default,"blots/embed":_embed2.default,"blots/inline":_inline2.default,"blots/scroll":_scroll2.default,"blots/text":_text2.default,"modules/clipboard":_clipboard2.default,"modules/history":_history2.default,"modules/keyboard":_keyboard2.default}),_parchment2.default.register(_block2.default,_break2.default,_cursor2.default,_inline2.default,_scroll2.default,_text2.default),exports.default=_quill2.default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var Registry=__webpack_require__(1),ShadowBlot=function(){function ShadowBlot(domNode){this.domNode=domNode,this.domNode[Registry.DATA_KEY]={blot:this}}return Object.defineProperty(ShadowBlot.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),ShadowBlot.create=function(value){if(null==this.tagName)throw new Registry.ParchmentError("Blot definition missing tagName");var node;return Array.isArray(this.tagName)?("string"==typeof value&&(value=value.toUpperCase(),parseInt(value).toString()===value&&(value=parseInt(value))),node="number"==typeof value?document.createElement(this.tagName[value-1]):this.tagName.indexOf(value)>-1?document.createElement(value):document.createElement(this.tagName[0])):node=document.createElement(this.tagName),this.className&&node.classList.add(this.className),node},ShadowBlot.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},ShadowBlot.prototype.clone=function(){var domNode=this.domNode.cloneNode(!1);return Registry.create(domNode)},ShadowBlot.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[Registry.DATA_KEY]},ShadowBlot.prototype.deleteAt=function(index,length){this.isolate(index,length).remove()},ShadowBlot.prototype.formatAt=function(index,length,name,value){var blot=this.isolate(index,length);if(null!=Registry.query(name,Registry.Scope.BLOT)&&value)blot.wrap(name,value);else if(null!=Registry.query(name,Registry.Scope.ATTRIBUTE)){var parent=Registry.create(this.statics.scope);blot.wrap(parent),parent.format(name,value)}},ShadowBlot.prototype.insertAt=function(index,value,def){var blot=null==def?Registry.create("text",value):Registry.create(value,def),ref=this.split(index);this.parent.insertBefore(blot,ref)},ShadowBlot.prototype.insertInto=function(parentBlot,refBlot){void 0===refBlot&&(refBlot=null),null!=this.parent&&this.parent.children.remove(this);var refDomNode=null;parentBlot.children.insertBefore(this,refBlot),null!=refBlot&&(refDomNode=refBlot.domNode),this.domNode.parentNode==parentBlot.domNode&&this.domNode.nextSibling==refDomNode||parentBlot.domNode.insertBefore(this.domNode,refDomNode),this.parent=parentBlot,this.attach()},ShadowBlot.prototype.isolate=function(index,length){var target=this.split(index);return target.split(length),target},ShadowBlot.prototype.length=function(){return 1},ShadowBlot.prototype.offset=function(root){return void 0===root&&(root=this.parent),null==this.parent||this==root?0:this.parent.children.offset(this)+this.parent.offset(root)},ShadowBlot.prototype.optimize=function(context){null!=this.domNode[Registry.DATA_KEY]&&delete this.domNode[Registry.DATA_KEY].mutations},ShadowBlot.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},ShadowBlot.prototype.replace=function(target){null!=target.parent&&(target.parent.insertBefore(this,target.next),target.remove())},ShadowBlot.prototype.replaceWith=function(name,value){var replacement="string"==typeof name?Registry.create(name,value):name;return replacement.replace(this),replacement},ShadowBlot.prototype.split=function(index,force){return 0===index?this:this.next},ShadowBlot.prototype.update=function(mutations,context){},ShadowBlot.prototype.wrap=function(name,value){var wrapper="string"==typeof name?Registry.create(name,value):name;return null!=this.parent&&this.parent.insertBefore(wrapper,this.next),wrapper.appendChild(this),wrapper},ShadowBlot.blotName="abstract",ShadowBlot}();exports.default=ShadowBlot},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var attributor_1=__webpack_require__(12),class_1=__webpack_require__(32),style_1=__webpack_require__(33),Registry=__webpack_require__(1),AttributorStore=function(){function AttributorStore(domNode){this.attributes={},this.domNode=domNode,this.build()}return AttributorStore.prototype.attribute=function(attribute,value){value?attribute.add(this.domNode,value)&&(null!=attribute.value(this.domNode)?this.attributes[attribute.attrName]=attribute:delete this.attributes[attribute.attrName]):(attribute.remove(this.domNode),delete this.attributes[attribute.attrName])},AttributorStore.prototype.build=function(){var _this=this;this.attributes={};var attributes=attributor_1.default.keys(this.domNode),classes=class_1.default.keys(this.domNode),styles=style_1.default.keys(this.domNode);attributes.concat(classes).concat(styles).forEach((function(name){var attr=Registry.query(name,Registry.Scope.ATTRIBUTE);attr instanceof attributor_1.default&&(_this.attributes[attr.attrName]=attr)}))},AttributorStore.prototype.copy=function(target){var _this=this;Object.keys(this.attributes).forEach((function(key){var value=_this.attributes[key].value(_this.domNode);target.format(key,value)}))},AttributorStore.prototype.move=function(target){var _this=this;this.copy(target),Object.keys(this.attributes).forEach((function(key){_this.attributes[key].remove(_this.domNode)})),this.attributes={}},AttributorStore.prototype.values=function(){var _this=this;return Object.keys(this.attributes).reduce((function(attributes,name){return attributes[name]=_this.attributes[name].value(_this.domNode),attributes}),{})},AttributorStore}();exports.default=AttributorStore},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});function match(node,prefix){return(node.getAttribute("class")||"").split(/\s+/).filter((function(name){return 0===name.indexOf(prefix+"-")}))}Object.defineProperty(exports,"__esModule",{value:!0});var ClassAttributor=function(_super){function ClassAttributor(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(ClassAttributor,_super),ClassAttributor.keys=function(node){return(node.getAttribute("class")||"").split(/\s+/).map((function(name){return name.split("-").slice(0,-1).join("-")}))},ClassAttributor.prototype.add=function(node,value){return!!this.canAdd(node,value)&&(this.remove(node),node.classList.add(this.keyName+"-"+value),!0)},ClassAttributor.prototype.remove=function(node){match(node,this.keyName).forEach((function(name){node.classList.remove(name)})),0===node.classList.length&&node.removeAttribute("class")},ClassAttributor.prototype.value=function(node){var value=(match(node,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(node,value)?value:""},ClassAttributor}(__webpack_require__(12).default);exports.default=ClassAttributor},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});function camelize(name){var parts=name.split("-"),rest=parts.slice(1).map((function(part){return part[0].toUpperCase()+part.slice(1)})).join("");return parts[0]+rest}Object.defineProperty(exports,"__esModule",{value:!0});var StyleAttributor=function(_super){function StyleAttributor(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(StyleAttributor,_super),StyleAttributor.keys=function(node){return(node.getAttribute("style")||"").split(";").map((function(value){return value.split(":")[0].trim()}))},StyleAttributor.prototype.add=function(node,value){return!!this.canAdd(node,value)&&(node.style[camelize(this.keyName)]=value,!0)},StyleAttributor.prototype.remove=function(node){node.style[camelize(this.keyName)]="",node.getAttribute("style")||node.removeAttribute("style")},StyleAttributor.prototype.value=function(node){var value=node.style[camelize(this.keyName)];return this.canAdd(node,value)?value:""},StyleAttributor}(__webpack_require__(12).default);exports.default=StyleAttributor},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();var Theme=function(){function Theme(quill,options){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Theme),this.quill=quill,this.options=options,this.modules={}}return _createClass(Theme,[{key:"init",value:function init(){var _this=this;Object.keys(this.options.modules).forEach((function(name){null==_this.modules[name]&&_this.addModule(name)}))}},{key:"addModule",value:function addModule(name){var moduleClass=this.quill.constructor.import("modules/"+name);return this.modules[name]=new moduleClass(this.quill,this.options.modules[name]||{}),this.modules[name]}}]),Theme}();Theme.DEFAULTS={modules:{}},Theme.themes={default:Theme},exports.default=Theme},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;return void 0!==getter?getter.call(receiver):void 0},_parchment2=_interopRequireDefault(__webpack_require__(0)),_text2=_interopRequireDefault(__webpack_require__(7));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Embed=function(_Parchment$Embed){function Embed(node){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Embed);var _this=function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(Embed.__proto__||Object.getPrototypeOf(Embed)).call(this,node));return _this.contentNode=document.createElement("span"),_this.contentNode.setAttribute("contenteditable",!1),[].slice.call(_this.domNode.childNodes).forEach((function(childNode){_this.contentNode.appendChild(childNode)})),_this.leftGuard=document.createTextNode("\ufeff"),_this.rightGuard=document.createTextNode("\ufeff"),_this.domNode.appendChild(_this.leftGuard),_this.domNode.appendChild(_this.contentNode),_this.domNode.appendChild(_this.rightGuard),_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(Embed,_Parchment$Embed),_createClass(Embed,[{key:"index",value:function index(node,offset){return node===this.leftGuard?0:node===this.rightGuard?1:_get(Embed.prototype.__proto__||Object.getPrototypeOf(Embed.prototype),"index",this).call(this,node,offset)}},{key:"restore",value:function restore(node){var range=void 0,textNode=void 0,text=node.data.split("\ufeff").join("");if(node===this.leftGuard)if(this.prev instanceof _text2.default){var prevLength=this.prev.length();this.prev.insertAt(prevLength,text),range={startNode:this.prev.domNode,startOffset:prevLength+text.length}}else textNode=document.createTextNode(text),this.parent.insertBefore(_parchment2.default.create(textNode),this),range={startNode:textNode,startOffset:text.length};else node===this.rightGuard&&(this.next instanceof _text2.default?(this.next.insertAt(0,text),range={startNode:this.next.domNode,startOffset:text.length}):(textNode=document.createTextNode(text),this.parent.insertBefore(_parchment2.default.create(textNode),this.next),range={startNode:textNode,startOffset:text.length}));return node.data="\ufeff",range}},{key:"update",value:function update(mutations,context){var _this2=this;mutations.forEach((function(mutation){if("characterData"===mutation.type&&(mutation.target===_this2.leftGuard||mutation.target===_this2.rightGuard)){var range=_this2.restore(mutation.target);range&&(context.range=range)}}))}}]),Embed}(_parchment2.default.Embed);exports.default=Embed},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AlignStyle=exports.AlignClass=exports.AlignAttribute=void 0;var _parchment2=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(0));var config={scope:_parchment2.default.Scope.BLOCK,whitelist:["right","center","justify"]},AlignAttribute=new _parchment2.default.Attributor.Attribute("align","align",config),AlignClass=new _parchment2.default.Attributor.Class("align","ql-align",config),AlignStyle=new _parchment2.default.Attributor.Style("align","text-align",config);exports.AlignAttribute=AlignAttribute,exports.AlignClass=AlignClass,exports.AlignStyle=AlignStyle},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BackgroundStyle=exports.BackgroundClass=void 0;var _parchment2=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(0)),_color=__webpack_require__(26);var BackgroundClass=new _parchment2.default.Attributor.Class("background","ql-bg",{scope:_parchment2.default.Scope.INLINE}),BackgroundStyle=new _color.ColorAttributor("background","background-color",{scope:_parchment2.default.Scope.INLINE});exports.BackgroundClass=BackgroundClass,exports.BackgroundStyle=BackgroundStyle},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DirectionStyle=exports.DirectionClass=exports.DirectionAttribute=void 0;var _parchment2=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(0));var config={scope:_parchment2.default.Scope.BLOCK,whitelist:["rtl"]},DirectionAttribute=new _parchment2.default.Attributor.Attribute("direction","dir",config),DirectionClass=new _parchment2.default.Attributor.Class("direction","ql-direction",config),DirectionStyle=new _parchment2.default.Attributor.Style("direction","direction",config);exports.DirectionAttribute=DirectionAttribute,exports.DirectionClass=DirectionClass,exports.DirectionStyle=DirectionStyle},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FontClass=exports.FontStyle=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;return void 0!==getter?getter.call(receiver):void 0},_parchment2=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(0));function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}var config={scope:_parchment2.default.Scope.INLINE,whitelist:["serif","monospace"]},FontClass=new _parchment2.default.Attributor.Class("font","ql-font",config),FontStyle=new(function(_Parchment$Attributor){function FontStyleAttributor(){return _classCallCheck(this,FontStyleAttributor),_possibleConstructorReturn(this,(FontStyleAttributor.__proto__||Object.getPrototypeOf(FontStyleAttributor)).apply(this,arguments))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(FontStyleAttributor,_Parchment$Attributor),_createClass(FontStyleAttributor,[{key:"value",value:function value(node){return _get(FontStyleAttributor.prototype.__proto__||Object.getPrototypeOf(FontStyleAttributor.prototype),"value",this).call(this,node).replace(/["']/g,"")}}]),FontStyleAttributor}(_parchment2.default.Attributor.Style))("font","font-family",config);exports.FontStyle=FontStyle,exports.FontClass=FontClass},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SizeStyle=exports.SizeClass=void 0;var _parchment2=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(0));var SizeClass=new _parchment2.default.Attributor.Class("size","ql-size",{scope:_parchment2.default.Scope.INLINE,whitelist:["small","large","huge"]}),SizeStyle=new _parchment2.default.Attributor.Style("size","font-size",{scope:_parchment2.default.Scope.INLINE,whitelist:["10px","18px","32px"]});exports.SizeClass=SizeClass,exports.SizeStyle=SizeStyle},function(module,exports,__webpack_require__){"use strict";module.exports={align:{"":__webpack_require__(76),center:__webpack_require__(77),right:__webpack_require__(78),justify:__webpack_require__(79)},background:__webpack_require__(80),blockquote:__webpack_require__(81),bold:__webpack_require__(82),clean:__webpack_require__(83),code:__webpack_require__(58),"code-block":__webpack_require__(58),color:__webpack_require__(84),direction:{"":__webpack_require__(85),rtl:__webpack_require__(86)},float:{center:__webpack_require__(87),full:__webpack_require__(88),left:__webpack_require__(89),right:__webpack_require__(90)},formula:__webpack_require__(91),header:{1:__webpack_require__(92),2:__webpack_require__(93)},italic:__webpack_require__(94),image:__webpack_require__(95),indent:{"+1":__webpack_require__(96),"-1":__webpack_require__(97)},link:__webpack_require__(98),list:{ordered:__webpack_require__(99),bullet:__webpack_require__(100),check:__webpack_require__(101)},script:{sub:__webpack_require__(102),super:__webpack_require__(103)},strike:__webpack_require__(104),underline:__webpack_require__(105),video:__webpack_require__(106)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getLastChangeIndex=exports.default=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_parchment2=_interopRequireDefault(__webpack_require__(0)),_quill2=_interopRequireDefault(__webpack_require__(5));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var History=function(_Module){function History(quill,options){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,History);var _this=function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(History.__proto__||Object.getPrototypeOf(History)).call(this,quill,options));return _this.lastRecorded=0,_this.ignoreChange=!1,_this.clear(),_this.quill.on(_quill2.default.events.EDITOR_CHANGE,(function(eventName,delta,oldDelta,source){eventName!==_quill2.default.events.TEXT_CHANGE||_this.ignoreChange||(_this.options.userOnly&&source!==_quill2.default.sources.USER?_this.transform(delta):_this.record(delta,oldDelta))})),_this.quill.keyboard.addBinding({key:"Z",shortKey:!0},_this.undo.bind(_this)),_this.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},_this.redo.bind(_this)),/Win/i.test(navigator.platform)&&_this.quill.keyboard.addBinding({key:"Y",shortKey:!0},_this.redo.bind(_this)),_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(History,_Module),_createClass(History,[{key:"change",value:function change(source,dest){if(0!==this.stack[source].length){var delta=this.stack[source].pop();this.stack[dest].push(delta),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(delta[source],_quill2.default.sources.USER),this.ignoreChange=!1;var index=getLastChangeIndex(delta[source]);this.quill.setSelection(index)}}},{key:"clear",value:function clear(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function cutoff(){this.lastRecorded=0}},{key:"record",value:function record(changeDelta,oldDelta){if(0!==changeDelta.ops.length){this.stack.redo=[];var undoDelta=this.quill.getContents().diff(oldDelta),timestamp=Date.now();if(this.lastRecorded+this.options.delay>timestamp&&this.stack.undo.length>0){var delta=this.stack.undo.pop();undoDelta=undoDelta.compose(delta.undo),changeDelta=delta.redo.compose(changeDelta)}else this.lastRecorded=timestamp;this.stack.undo.push({redo:changeDelta,undo:undoDelta}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function redo(){this.change("redo","undo")}},{key:"transform",value:function transform(delta){this.stack.undo.forEach((function(change){change.undo=delta.transform(change.undo,!0),change.redo=delta.transform(change.redo,!0)})),this.stack.redo.forEach((function(change){change.undo=delta.transform(change.undo,!0),change.redo=delta.transform(change.redo,!0)}))}},{key:"undo",value:function undo(){this.change("undo","redo")}}]),History}(_interopRequireDefault(__webpack_require__(9)).default);function getLastChangeIndex(delta){var deleteLength=delta.reduce((function(length,op){return length+=op.delete||0}),0),changeIndex=delta.length()-deleteLength;return function endsWithNewlineChange(delta){var lastOp=delta.ops[delta.ops.length-1];return null!=lastOp&&(null!=lastOp.insert?"string"==typeof lastOp.insert&&lastOp.insert.endsWith("\n"):null!=lastOp.attributes&&Object.keys(lastOp.attributes).some((function(attr){return null!=_parchment2.default.query(attr,_parchment2.default.Scope.BLOCK)})))}(delta)&&(changeIndex-=1),changeIndex}History.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},exports.default=History,exports.getLastChangeIndex=getLastChangeIndex},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.BaseTooltip=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;return void 0!==getter?getter.call(receiver):void 0},_extend2=_interopRequireDefault(__webpack_require__(3)),_quillDelta2=_interopRequireDefault(__webpack_require__(2)),_emitter2=_interopRequireDefault(__webpack_require__(8)),_keyboard2=_interopRequireDefault(__webpack_require__(23)),_theme2=_interopRequireDefault(__webpack_require__(34)),_colorPicker2=_interopRequireDefault(__webpack_require__(59)),_iconPicker2=_interopRequireDefault(__webpack_require__(60)),_picker2=_interopRequireDefault(__webpack_require__(28)),_tooltip2=_interopRequireDefault(__webpack_require__(61));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var ALIGNS=[!1,"center","right","justify"],COLORS=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],FONTS=[!1,"serif","monospace"],HEADERS=["1","2","3",!1],SIZES=["small",!1,"large","huge"],BaseTheme=function(_Theme){function BaseTheme(quill,options){_classCallCheck(this,BaseTheme);var _this=_possibleConstructorReturn(this,(BaseTheme.__proto__||Object.getPrototypeOf(BaseTheme)).call(this,quill,options));return quill.emitter.listenDOM("click",document.body,(function listener(e){if(!document.body.contains(quill.root))return document.body.removeEventListener("click",listener);null==_this.tooltip||_this.tooltip.root.contains(e.target)||document.activeElement===_this.tooltip.textbox||_this.quill.hasFocus()||_this.tooltip.hide(),null!=_this.pickers&&_this.pickers.forEach((function(picker){picker.container.contains(e.target)||picker.close()}))})),_this}return _inherits(BaseTheme,_Theme),_createClass(BaseTheme,[{key:"addModule",value:function addModule(name){var module=_get(BaseTheme.prototype.__proto__||Object.getPrototypeOf(BaseTheme.prototype),"addModule",this).call(this,name);return"toolbar"===name&&this.extendToolbar(module),module}},{key:"buildButtons",value:function buildButtons(buttons,icons){buttons.forEach((function(button){(button.getAttribute("class")||"").split(/\s+/).forEach((function(name){if(name.startsWith("ql-")&&(name=name.slice("ql-".length),null!=icons[name]))if("direction"===name)button.innerHTML=icons[name][""]+icons[name].rtl;else if("string"==typeof icons[name])button.innerHTML=icons[name];else{var value=button.value||"";null!=value&&icons[name][value]&&(button.innerHTML=icons[name][value])}}))}))}},{key:"buildPickers",value:function buildPickers(selects,icons){var _this2=this;this.pickers=selects.map((function(select){if(select.classList.contains("ql-align"))return null==select.querySelector("option")&&fillSelect(select,ALIGNS),new _iconPicker2.default(select,icons.align);if(select.classList.contains("ql-background")||select.classList.contains("ql-color")){var format=select.classList.contains("ql-background")?"background":"color";return null==select.querySelector("option")&&fillSelect(select,COLORS,"background"===format?"#ffffff":"#000000"),new _colorPicker2.default(select,icons[format])}return null==select.querySelector("option")&&(select.classList.contains("ql-font")?fillSelect(select,FONTS):select.classList.contains("ql-header")?fillSelect(select,HEADERS):select.classList.contains("ql-size")&&fillSelect(select,SIZES)),new _picker2.default(select)}));this.quill.on(_emitter2.default.events.EDITOR_CHANGE,(function update(){_this2.pickers.forEach((function(picker){picker.update()}))}))}}]),BaseTheme}(_theme2.default);BaseTheme.DEFAULTS=(0,_extend2.default)(!0,{},_theme2.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function formula(){this.quill.theme.tooltip.edit("formula")},image:function image(){var _this3=this,fileInput=this.container.querySelector("input.ql-image[type=file]");null==fileInput&&((fileInput=document.createElement("input")).setAttribute("type","file"),fileInput.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),fileInput.classList.add("ql-image"),fileInput.addEventListener("change",(function(){if(null!=fileInput.files&&null!=fileInput.files[0]){var reader=new FileReader;reader.onload=function(e){var range=_this3.quill.getSelection(!0);_this3.quill.updateContents((new _quillDelta2.default).retain(range.index).delete(range.length).insert({image:e.target.result}),_emitter2.default.sources.USER),_this3.quill.setSelection(range.index+1,_emitter2.default.sources.SILENT),fileInput.value=""},reader.readAsDataURL(fileInput.files[0])}})),this.container.appendChild(fileInput)),fileInput.click()},video:function video(){this.quill.theme.tooltip.edit("video")}}}}});var BaseTooltip=function(_Tooltip){function BaseTooltip(quill,boundsContainer){_classCallCheck(this,BaseTooltip);var _this4=_possibleConstructorReturn(this,(BaseTooltip.__proto__||Object.getPrototypeOf(BaseTooltip)).call(this,quill,boundsContainer));return _this4.textbox=_this4.root.querySelector('input[type="text"]'),_this4.listen(),_this4}return _inherits(BaseTooltip,_Tooltip),_createClass(BaseTooltip,[{key:"listen",value:function listen(){var _this5=this;this.textbox.addEventListener("keydown",(function(event){_keyboard2.default.match(event,"enter")?(_this5.save(),event.preventDefault()):_keyboard2.default.match(event,"escape")&&(_this5.cancel(),event.preventDefault())}))}},{key:"cancel",value:function cancel(){this.hide()}},{key:"edit",value:function edit(){var mode=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",preview=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=preview?this.textbox.value=preview:mode!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+mode)||""),this.root.setAttribute("data-mode",mode)}},{key:"restoreFocus",value:function restoreFocus(){var scrollTop=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=scrollTop}},{key:"save",value:function save(){var value=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var scrollTop=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",value,_emitter2.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",value,_emitter2.default.sources.USER)),this.quill.root.scrollTop=scrollTop;break;case"video":value=function extractVideoUrl(url){var match=url.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||url.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);if(match)return(match[1]||"https")+"://www.youtube.com/embed/"+match[2]+"?showinfo=0";if(match=url.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))return(match[1]||"https")+"://player.vimeo.com/video/"+match[2]+"/";return url}(value);case"formula":if(!value)break;var range=this.quill.getSelection(!0);if(null!=range){var index=range.index+range.length;this.quill.insertEmbed(index,this.root.getAttribute("data-mode"),value,_emitter2.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(index+1," ",_emitter2.default.sources.USER),this.quill.setSelection(index+2,_emitter2.default.sources.USER)}}this.textbox.value="",this.hide()}}]),BaseTooltip}(_tooltip2.default);function fillSelect(select,values){var defaultValue=arguments.length>2&&void 0!==arguments[2]&&arguments[2];values.forEach((function(value){var option=document.createElement("option");value===defaultValue?option.setAttribute("selected","selected"):option.setAttribute("value",value),select.appendChild(option)}))}exports.BaseTooltip=BaseTooltip,exports.default=BaseTheme},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var LinkedList=function(){function LinkedList(){this.head=this.tail=null,this.length=0}return LinkedList.prototype.append=function(){for(var nodes=[],_i=0;_i<arguments.length;_i++)nodes[_i]=arguments[_i];this.insertBefore(nodes[0],null),nodes.length>1&&this.append.apply(this,nodes.slice(1))},LinkedList.prototype.contains=function(node){for(var cur,next=this.iterator();cur=next();)if(cur===node)return!0;return!1},LinkedList.prototype.insertBefore=function(node,refNode){node&&(node.next=refNode,null!=refNode?(node.prev=refNode.prev,null!=refNode.prev&&(refNode.prev.next=node),refNode.prev=node,refNode===this.head&&(this.head=node)):null!=this.tail?(this.tail.next=node,node.prev=this.tail,this.tail=node):(node.prev=null,this.head=this.tail=node),this.length+=1)},LinkedList.prototype.offset=function(target){for(var index=0,cur=this.head;null!=cur;){if(cur===target)return index;index+=cur.length(),cur=cur.next}return-1},LinkedList.prototype.remove=function(node){this.contains(node)&&(null!=node.prev&&(node.prev.next=node.next),null!=node.next&&(node.next.prev=node.prev),node===this.head&&(this.head=node.next),node===this.tail&&(this.tail=node.prev),this.length-=1)},LinkedList.prototype.iterator=function(curNode){return void 0===curNode&&(curNode=this.head),function(){var ret=curNode;return null!=curNode&&(curNode=curNode.next),ret}},LinkedList.prototype.find=function(index,inclusive){void 0===inclusive&&(inclusive=!1);for(var cur,next=this.iterator();cur=next();){var length=cur.length();if(index<length||inclusive&&index===length&&(null==cur.next||0!==cur.next.length()))return[cur,index];index-=length}return[null,0]},LinkedList.prototype.forEach=function(callback){for(var cur,next=this.iterator();cur=next();)callback(cur)},LinkedList.prototype.forEachAt=function(index,length,callback){if(!(length<=0))for(var cur,_a=this.find(index),startNode=_a[0],curIndex=index-_a[1],next=this.iterator(startNode);(cur=next())&&curIndex<index+length;){var curLength=cur.length();index>curIndex?callback(cur,index-curIndex,Math.min(length,curIndex+curLength-index)):callback(cur,0,Math.min(curLength,index+length-curIndex)),curIndex+=curLength}},LinkedList.prototype.map=function(callback){return this.reduce((function(memo,cur){return memo.push(callback(cur)),memo}),[])},LinkedList.prototype.reduce=function(callback,memo){for(var cur,next=this.iterator();cur=next();)memo=callback(memo,cur);return memo},LinkedList}();exports.default=LinkedList},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0});var container_1=__webpack_require__(17),Registry=__webpack_require__(1),OBSERVER_CONFIG={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},ScrollBlot=function(_super){function ScrollBlot(node){var _this=_super.call(this,node)||this;return _this.scroll=_this,_this.observer=new MutationObserver((function(mutations){_this.update(mutations)})),_this.observer.observe(_this.domNode,OBSERVER_CONFIG),_this.attach(),_this}return __extends(ScrollBlot,_super),ScrollBlot.prototype.detach=function(){_super.prototype.detach.call(this),this.observer.disconnect()},ScrollBlot.prototype.deleteAt=function(index,length){this.update(),0===index&&length===this.length()?this.children.forEach((function(child){child.remove()})):_super.prototype.deleteAt.call(this,index,length)},ScrollBlot.prototype.formatAt=function(index,length,name,value){this.update(),_super.prototype.formatAt.call(this,index,length,name,value)},ScrollBlot.prototype.insertAt=function(index,value,def){this.update(),_super.prototype.insertAt.call(this,index,value,def)},ScrollBlot.prototype.optimize=function(mutations,context){var _this=this;void 0===mutations&&(mutations=[]),void 0===context&&(context={}),_super.prototype.optimize.call(this,context);for(var records=[].slice.call(this.observer.takeRecords());records.length>0;)mutations.push(records.pop());for(var mark=function(blot,markParent){void 0===markParent&&(markParent=!0),null!=blot&&blot!==_this&&null!=blot.domNode.parentNode&&(null==blot.domNode[Registry.DATA_KEY].mutations&&(blot.domNode[Registry.DATA_KEY].mutations=[]),markParent&&mark(blot.parent))},optimize=function(blot){null!=blot.domNode[Registry.DATA_KEY]&&null!=blot.domNode[Registry.DATA_KEY].mutations&&(blot instanceof container_1.default&&blot.children.forEach(optimize),blot.optimize(context))},remaining=mutations,i=0;remaining.length>0;i+=1){if(i>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(remaining.forEach((function(mutation){var blot=Registry.find(mutation.target,!0);null!=blot&&(blot.domNode===mutation.target&&("childList"===mutation.type?(mark(Registry.find(mutation.previousSibling,!1)),[].forEach.call(mutation.addedNodes,(function(node){var child=Registry.find(node,!1);mark(child,!1),child instanceof container_1.default&&child.children.forEach((function(grandChild){mark(grandChild,!1)}))}))):"attributes"===mutation.type&&mark(blot.prev)),mark(blot))})),this.children.forEach(optimize),records=(remaining=[].slice.call(this.observer.takeRecords())).slice();records.length>0;)mutations.push(records.pop())}},ScrollBlot.prototype.update=function(mutations,context){var _this=this;void 0===context&&(context={}),(mutations=mutations||this.observer.takeRecords()).map((function(mutation){var blot=Registry.find(mutation.target,!0);return null==blot?null:null==blot.domNode[Registry.DATA_KEY].mutations?(blot.domNode[Registry.DATA_KEY].mutations=[mutation],blot):(blot.domNode[Registry.DATA_KEY].mutations.push(mutation),null)})).forEach((function(blot){null!=blot&&blot!==_this&&null!=blot.domNode[Registry.DATA_KEY]&&blot.update(blot.domNode[Registry.DATA_KEY].mutations||[],context)})),null!=this.domNode[Registry.DATA_KEY].mutations&&_super.prototype.update.call(this,this.domNode[Registry.DATA_KEY].mutations,context),this.optimize(mutations,context)},ScrollBlot.blotName="scroll",ScrollBlot.defaultChild="block",ScrollBlot.scope=Registry.Scope.BLOCK_BLOT,ScrollBlot.tagName="DIV",ScrollBlot}(container_1.default);exports.default=ScrollBlot},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0});var format_1=__webpack_require__(18),Registry=__webpack_require__(1);var InlineBlot=function(_super){function InlineBlot(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(InlineBlot,_super),InlineBlot.formats=function(domNode){if(domNode.tagName!==InlineBlot.tagName)return _super.formats.call(this,domNode)},InlineBlot.prototype.format=function(name,value){var _this=this;name!==this.statics.blotName||value?_super.prototype.format.call(this,name,value):(this.children.forEach((function(child){child instanceof format_1.default||(child=child.wrap(InlineBlot.blotName,!0)),_this.attributes.copy(child)})),this.unwrap())},InlineBlot.prototype.formatAt=function(index,length,name,value){null!=this.formats()[name]||Registry.query(name,Registry.Scope.ATTRIBUTE)?this.isolate(index,length).format(name,value):_super.prototype.formatAt.call(this,index,length,name,value)},InlineBlot.prototype.optimize=function(context){_super.prototype.optimize.call(this,context);var formats=this.formats();if(0===Object.keys(formats).length)return this.unwrap();var next=this.next;next instanceof InlineBlot&&next.prev===this&&function isEqual(obj1,obj2){if(Object.keys(obj1).length!==Object.keys(obj2).length)return!1;for(var prop in obj1)if(obj1[prop]!==obj2[prop])return!1;return!0}(formats,next.formats())&&(next.moveChildren(this),next.remove())},InlineBlot.blotName="inline",InlineBlot.scope=Registry.Scope.INLINE_BLOT,InlineBlot.tagName="SPAN",InlineBlot}(format_1.default);exports.default=InlineBlot},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0});var format_1=__webpack_require__(18),Registry=__webpack_require__(1),BlockBlot=function(_super){function BlockBlot(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(BlockBlot,_super),BlockBlot.formats=function(domNode){var tagName=Registry.query(BlockBlot.blotName).tagName;if(domNode.tagName!==tagName)return _super.formats.call(this,domNode)},BlockBlot.prototype.format=function(name,value){null!=Registry.query(name,Registry.Scope.BLOCK)&&(name!==this.statics.blotName||value?_super.prototype.format.call(this,name,value):this.replaceWith(BlockBlot.blotName))},BlockBlot.prototype.formatAt=function(index,length,name,value){null!=Registry.query(name,Registry.Scope.BLOCK)?this.format(name,value):_super.prototype.formatAt.call(this,index,length,name,value)},BlockBlot.prototype.insertAt=function(index,value,def){if(null==def||null!=Registry.query(value,Registry.Scope.INLINE))_super.prototype.insertAt.call(this,index,value,def);else{var after=this.split(index),blot=Registry.create(value,def);after.parent.insertBefore(blot,after)}},BlockBlot.prototype.update=function(mutations,context){navigator.userAgent.match(/Trident/)?this.build():_super.prototype.update.call(this,mutations,context)},BlockBlot.blotName="block",BlockBlot.scope=Registry.Scope.BLOCK_BLOT,BlockBlot.tagName="P",BlockBlot}(format_1.default);exports.default=BlockBlot},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0});var EmbedBlot=function(_super){function EmbedBlot(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(EmbedBlot,_super),EmbedBlot.formats=function(domNode){},EmbedBlot.prototype.format=function(name,value){_super.prototype.formatAt.call(this,0,this.length(),name,value)},EmbedBlot.prototype.formatAt=function(index,length,name,value){0===index&&length===this.length()?this.format(name,value):_super.prototype.formatAt.call(this,index,length,name,value)},EmbedBlot.prototype.formats=function(){return this.statics.formats(this.domNode)},EmbedBlot}(__webpack_require__(19).default);exports.default=EmbedBlot},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0});var leaf_1=__webpack_require__(19),Registry=__webpack_require__(1),TextBlot=function(_super){function TextBlot(node){var _this=_super.call(this,node)||this;return _this.text=_this.statics.value(_this.domNode),_this}return __extends(TextBlot,_super),TextBlot.create=function(value){return document.createTextNode(value)},TextBlot.value=function(domNode){var text=domNode.data;return text.normalize&&(text=text.normalize()),text},TextBlot.prototype.deleteAt=function(index,length){this.domNode.data=this.text=this.text.slice(0,index)+this.text.slice(index+length)},TextBlot.prototype.index=function(node,offset){return this.domNode===node?offset:-1},TextBlot.prototype.insertAt=function(index,value,def){null==def?(this.text=this.text.slice(0,index)+value+this.text.slice(index),this.domNode.data=this.text):_super.prototype.insertAt.call(this,index,value,def)},TextBlot.prototype.length=function(){return this.text.length},TextBlot.prototype.optimize=function(context){_super.prototype.optimize.call(this,context),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof TextBlot&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},TextBlot.prototype.position=function(index,inclusive){return void 0===inclusive&&(inclusive=!1),[this.domNode,index]},TextBlot.prototype.split=function(index,force){if(void 0===force&&(force=!1),!force){if(0===index)return this;if(index===this.length())return this.next}var after=Registry.create(this.domNode.splitText(index));return this.parent.insertBefore(after,this.next),this.text=this.statics.value(this.domNode),after},TextBlot.prototype.update=function(mutations,context){var _this=this;mutations.some((function(mutation){return"characterData"===mutation.type&&mutation.target===_this.domNode}))&&(this.text=this.statics.value(this.domNode))},TextBlot.prototype.value=function(){return this.text},TextBlot.blotName="text",TextBlot.scope=Registry.Scope.INLINE_BLOT,TextBlot}(leaf_1.default);exports.default=TextBlot},function(module,exports,__webpack_require__){"use strict";var elem=document.createElement("div");if(elem.classList.toggle("test-class",!1),elem.classList.contains("test-class")){var _toggle=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(token,force){return arguments.length>1&&!this.contains(token)==!force?force:_toggle.call(this,token)}}String.prototype.startsWith||(String.prototype.startsWith=function(searchString,position){return position=position||0,this.substr(position,searchString.length)===searchString}),String.prototype.endsWith||(String.prototype.endsWith=function(searchString,position){var subjectString=this.toString();("number"!=typeof position||!isFinite(position)||Math.floor(position)!==position||position>subjectString.length)&&(position=subjectString.length),position-=searchString.length;var lastIndex=subjectString.indexOf(searchString,position);return-1!==lastIndex&&lastIndex===position}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function value(predicate){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof predicate)throw new TypeError("predicate must be a function");for(var value,list=Object(this),length=list.length>>>0,thisArg=arguments[1],i=0;i<length;i++)if(value=list[i],predicate.call(thisArg,value,i,list))return value}}),document.addEventListener("DOMContentLoaded",(function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)}))},function(module,exports){function diff_main(text1,text2,cursor_pos){if(text1==text2)return text1?[[0,text1]]:[];(cursor_pos<0||text1.length<cursor_pos)&&(cursor_pos=null);var commonlength=diff_commonPrefix(text1,text2),commonprefix=text1.substring(0,commonlength);commonlength=diff_commonSuffix(text1=text1.substring(commonlength),text2=text2.substring(commonlength));var commonsuffix=text1.substring(text1.length-commonlength),diffs=function diff_compute_(text1,text2){var diffs;if(!text1)return[[1,text2]];if(!text2)return[[-1,text1]];var longtext=text1.length>text2.length?text1:text2,shorttext=text1.length>text2.length?text2:text1,i=longtext.indexOf(shorttext);if(-1!=i)return diffs=[[1,longtext.substring(0,i)],[0,shorttext],[1,longtext.substring(i+shorttext.length)]],text1.length>text2.length&&(diffs[0][0]=diffs[2][0]=-1),diffs;if(1==shorttext.length)return[[-1,text1],[1,text2]];var hm=function diff_halfMatch_(text1,text2){var longtext=text1.length>text2.length?text1:text2,shorttext=text1.length>text2.length?text2:text1;if(longtext.length<4||2*shorttext.length<longtext.length)return null;function diff_halfMatchI_(longtext,shorttext,i){for(var best_longtext_a,best_longtext_b,best_shorttext_a,best_shorttext_b,seed=longtext.substring(i,i+Math.floor(longtext.length/4)),j=-1,best_common="";-1!=(j=shorttext.indexOf(seed,j+1));){var prefixLength=diff_commonPrefix(longtext.substring(i),shorttext.substring(j)),suffixLength=diff_commonSuffix(longtext.substring(0,i),shorttext.substring(0,j));best_common.length<suffixLength+prefixLength&&(best_common=shorttext.substring(j-suffixLength,j)+shorttext.substring(j,j+prefixLength),best_longtext_a=longtext.substring(0,i-suffixLength),best_longtext_b=longtext.substring(i+prefixLength),best_shorttext_a=shorttext.substring(0,j-suffixLength),best_shorttext_b=shorttext.substring(j+prefixLength))}return 2*best_common.length>=longtext.length?[best_longtext_a,best_longtext_b,best_shorttext_a,best_shorttext_b,best_common]:null}var hm,text1_a,text1_b,text2_a,text2_b,hm1=diff_halfMatchI_(longtext,shorttext,Math.ceil(longtext.length/4)),hm2=diff_halfMatchI_(longtext,shorttext,Math.ceil(longtext.length/2));if(!hm1&&!hm2)return null;hm=hm2?hm1&&hm1[4].length>hm2[4].length?hm1:hm2:hm1;text1.length>text2.length?(text1_a=hm[0],text1_b=hm[1],text2_a=hm[2],text2_b=hm[3]):(text2_a=hm[0],text2_b=hm[1],text1_a=hm[2],text1_b=hm[3]);var mid_common=hm[4];return[text1_a,text1_b,text2_a,text2_b,mid_common]}(text1,text2);if(hm){var text1_a=hm[0],text1_b=hm[1],text2_a=hm[2],text2_b=hm[3],mid_common=hm[4],diffs_a=diff_main(text1_a,text2_a),diffs_b=diff_main(text1_b,text2_b);return diffs_a.concat([[0,mid_common]],diffs_b)}return function diff_bisect_(text1,text2){for(var text1_length=text1.length,text2_length=text2.length,max_d=Math.ceil((text1_length+text2_length)/2),v_offset=max_d,v_length=2*max_d,v1=new Array(v_length),v2=new Array(v_length),x=0;x<v_length;x++)v1[x]=-1,v2[x]=-1;v1[v_offset+1]=0,v2[v_offset+1]=0;for(var delta=text1_length-text2_length,front=delta%2!=0,k1start=0,k1end=0,k2start=0,k2end=0,d=0;d<max_d;d++){for(var k1=-d+k1start;k1<=d-k1end;k1+=2){for(var k1_offset=v_offset+k1,y1=(x1=k1==-d||k1!=d&&v1[k1_offset-1]<v1[k1_offset+1]?v1[k1_offset+1]:v1[k1_offset-1]+1)-k1;x1<text1_length&&y1<text2_length&&text1.charAt(x1)==text2.charAt(y1);)x1++,y1++;if(v1[k1_offset]=x1,x1>text1_length)k1end+=2;else if(y1>text2_length)k1start+=2;else if(front){if((k2_offset=v_offset+delta-k1)>=0&&k2_offset<v_length&&-1!=v2[k2_offset])if(x1>=(x2=text1_length-v2[k2_offset]))return diff_bisectSplit_(text1,text2,x1,y1)}}for(var k2=-d+k2start;k2<=d-k2end;k2+=2){for(var x2,k2_offset=v_offset+k2,y2=(x2=k2==-d||k2!=d&&v2[k2_offset-1]<v2[k2_offset+1]?v2[k2_offset+1]:v2[k2_offset-1]+1)-k2;x2<text1_length&&y2<text2_length&&text1.charAt(text1_length-x2-1)==text2.charAt(text2_length-y2-1);)x2++,y2++;if(v2[k2_offset]=x2,x2>text1_length)k2end+=2;else if(y2>text2_length)k2start+=2;else if(!front){if((k1_offset=v_offset+delta-k2)>=0&&k1_offset<v_length&&-1!=v1[k1_offset]){var x1;y1=v_offset+(x1=v1[k1_offset])-k1_offset;if(x1>=(x2=text1_length-x2))return diff_bisectSplit_(text1,text2,x1,y1)}}}}return[[-1,text1],[1,text2]]}(text1,text2)}(text1=text1.substring(0,text1.length-commonlength),text2=text2.substring(0,text2.length-commonlength));return commonprefix&&diffs.unshift([0,commonprefix]),commonsuffix&&diffs.push([0,commonsuffix]),diff_cleanupMerge(diffs),null!=cursor_pos&&(diffs=function fix_cursor(diffs,cursor_pos){var norm=function cursor_normalize_diff(diffs,cursor_pos){if(0===cursor_pos)return[0,diffs];for(var current_pos=0,i=0;i<diffs.length;i++){var d=diffs[i];if(-1===d[0]||0===d[0]){var next_pos=current_pos+d[1].length;if(cursor_pos===next_pos)return[i+1,diffs];if(cursor_pos<next_pos){diffs=diffs.slice();var split_pos=cursor_pos-current_pos,d_left=[d[0],d[1].slice(0,split_pos)],d_right=[d[0],d[1].slice(split_pos)];return diffs.splice(i,1,d_left,d_right),[i+1,diffs]}current_pos=next_pos}}throw new Error("cursor_pos is out of bounds!")}(diffs,cursor_pos),ndiffs=norm[1],cursor_pointer=norm[0],d=ndiffs[cursor_pointer],d_next=ndiffs[cursor_pointer+1];if(null==d)return diffs;if(0!==d[0])return diffs;if(null!=d_next&&d[1]+d_next[1]===d_next[1]+d[1])return ndiffs.splice(cursor_pointer,2,d_next,d),merge_tuples(ndiffs,cursor_pointer,2);if(null!=d_next&&0===d_next[1].indexOf(d[1])){ndiffs.splice(cursor_pointer,2,[d_next[0],d[1]],[0,d[1]]);var suffix=d_next[1].slice(d[1].length);return suffix.length>0&&ndiffs.splice(cursor_pointer+2,0,[d_next[0],suffix]),merge_tuples(ndiffs,cursor_pointer,3)}return diffs}(diffs,cursor_pos)),diffs=function fix_emoji(diffs){for(var compact=!1,starts_with_pair_end=function(str){return str.charCodeAt(0)>=56320&&str.charCodeAt(0)<=57343},ends_with_pair_start=function(str){return str.charCodeAt(str.length-1)>=55296&&str.charCodeAt(str.length-1)<=56319},i=2;i<diffs.length;i+=1)0===diffs[i-2][0]&&ends_with_pair_start(diffs[i-2][1])&&-1===diffs[i-1][0]&&starts_with_pair_end(diffs[i-1][1])&&1===diffs[i][0]&&starts_with_pair_end(diffs[i][1])&&(compact=!0,diffs[i-1][1]=diffs[i-2][1].slice(-1)+diffs[i-1][1],diffs[i][1]=diffs[i-2][1].slice(-1)+diffs[i][1],diffs[i-2][1]=diffs[i-2][1].slice(0,-1));if(!compact)return diffs;var fixed_diffs=[];for(i=0;i<diffs.length;i+=1)diffs[i][1].length>0&&fixed_diffs.push(diffs[i]);return fixed_diffs}(diffs)}function diff_bisectSplit_(text1,text2,x,y){var text1a=text1.substring(0,x),text2a=text2.substring(0,y),text1b=text1.substring(x),text2b=text2.substring(y),diffs=diff_main(text1a,text2a),diffsb=diff_main(text1b,text2b);return diffs.concat(diffsb)}function diff_commonPrefix(text1,text2){if(!text1||!text2||text1.charAt(0)!=text2.charAt(0))return 0;for(var pointermin=0,pointermax=Math.min(text1.length,text2.length),pointermid=pointermax,pointerstart=0;pointermin<pointermid;)text1.substring(pointerstart,pointermid)==text2.substring(pointerstart,pointermid)?pointerstart=pointermin=pointermid:pointermax=pointermid,pointermid=Math.floor((pointermax-pointermin)/2+pointermin);return pointermid}function diff_commonSuffix(text1,text2){if(!text1||!text2||text1.charAt(text1.length-1)!=text2.charAt(text2.length-1))return 0;for(var pointermin=0,pointermax=Math.min(text1.length,text2.length),pointermid=pointermax,pointerend=0;pointermin<pointermid;)text1.substring(text1.length-pointermid,text1.length-pointerend)==text2.substring(text2.length-pointermid,text2.length-pointerend)?pointerend=pointermin=pointermid:pointermax=pointermid,pointermid=Math.floor((pointermax-pointermin)/2+pointermin);return pointermid}function diff_cleanupMerge(diffs){diffs.push([0,""]);for(var commonlength,pointer=0,count_delete=0,count_insert=0,text_delete="",text_insert="";pointer<diffs.length;)switch(diffs[pointer][0]){case 1:count_insert++,text_insert+=diffs[pointer][1],pointer++;break;case-1:count_delete++,text_delete+=diffs[pointer][1],pointer++;break;case 0:count_delete+count_insert>1?(0!==count_delete&&0!==count_insert&&(0!==(commonlength=diff_commonPrefix(text_insert,text_delete))&&(pointer-count_delete-count_insert>0&&0==diffs[pointer-count_delete-count_insert-1][0]?diffs[pointer-count_delete-count_insert-1][1]+=text_insert.substring(0,commonlength):(diffs.splice(0,0,[0,text_insert.substring(0,commonlength)]),pointer++),text_insert=text_insert.substring(commonlength),text_delete=text_delete.substring(commonlength)),0!==(commonlength=diff_commonSuffix(text_insert,text_delete))&&(diffs[pointer][1]=text_insert.substring(text_insert.length-commonlength)+diffs[pointer][1],text_insert=text_insert.substring(0,text_insert.length-commonlength),text_delete=text_delete.substring(0,text_delete.length-commonlength))),0===count_delete?diffs.splice(pointer-count_insert,count_delete+count_insert,[1,text_insert]):0===count_insert?diffs.splice(pointer-count_delete,count_delete+count_insert,[-1,text_delete]):diffs.splice(pointer-count_delete-count_insert,count_delete+count_insert,[-1,text_delete],[1,text_insert]),pointer=pointer-count_delete-count_insert+(count_delete?1:0)+(count_insert?1:0)+1):0!==pointer&&0==diffs[pointer-1][0]?(diffs[pointer-1][1]+=diffs[pointer][1],diffs.splice(pointer,1)):pointer++,count_insert=0,count_delete=0,text_delete="",text_insert=""}""===diffs[diffs.length-1][1]&&diffs.pop();var changes=!1;for(pointer=1;pointer<diffs.length-1;)0==diffs[pointer-1][0]&&0==diffs[pointer+1][0]&&(diffs[pointer][1].substring(diffs[pointer][1].length-diffs[pointer-1][1].length)==diffs[pointer-1][1]?(diffs[pointer][1]=diffs[pointer-1][1]+diffs[pointer][1].substring(0,diffs[pointer][1].length-diffs[pointer-1][1].length),diffs[pointer+1][1]=diffs[pointer-1][1]+diffs[pointer+1][1],diffs.splice(pointer-1,1),changes=!0):diffs[pointer][1].substring(0,diffs[pointer+1][1].length)==diffs[pointer+1][1]&&(diffs[pointer-1][1]+=diffs[pointer+1][1],diffs[pointer][1]=diffs[pointer][1].substring(diffs[pointer+1][1].length)+diffs[pointer+1][1],diffs.splice(pointer+1,1),changes=!0)),pointer++;changes&&diff_cleanupMerge(diffs)}var diff=diff_main;function merge_tuples(diffs,start,length){for(var i=start+length-1;i>=0&&i>=start-1;i--)if(i+1<diffs.length){var left_d=diffs[i],right_d=diffs[i+1];left_d[0]===right_d[1]&&diffs.splice(i,2,[left_d[0],left_d[1]+right_d[1]])}return diffs}diff.INSERT=1,diff.DELETE=-1,diff.EQUAL=0,module.exports=diff},function(module,exports){function shim(obj){var keys=[];for(var key in obj)keys.push(key);return keys}(module.exports="function"==typeof Object.keys?Object.keys:shim).shim=shim},function(module,exports){var supportsArgumentsClass="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function supported(object){return"[object Arguments]"==Object.prototype.toString.call(object)}function unsupported(object){return object&&"object"==typeof object&&"number"==typeof object.length&&Object.prototype.hasOwnProperty.call(object,"callee")&&!Object.prototype.propertyIsEnumerable.call(object,"callee")||!1}(exports=module.exports=supportsArgumentsClass?supported:unsupported).supported=supported,exports.unsupported=unsupported},function(module,exports){"use strict";var has=Object.prototype.hasOwnProperty,prefix="~";function Events(){}function EE(fn,context,once){this.fn=fn,this.context=context,this.once=once||!1}function EventEmitter(){this._events=new Events,this._eventsCount=0}Object.create&&(Events.prototype=Object.create(null),(new Events).__proto__||(prefix=!1)),EventEmitter.prototype.eventNames=function eventNames(){var events,name,names=[];if(0===this._eventsCount)return names;for(name in events=this._events)has.call(events,name)&&names.push(prefix?name.slice(1):name);return Object.getOwnPropertySymbols?names.concat(Object.getOwnPropertySymbols(events)):names},EventEmitter.prototype.listeners=function listeners(event,exists){var evt=prefix?prefix+event:event,available=this._events[evt];if(exists)return!!available;if(!available)return[];if(available.fn)return[available.fn];for(var i=0,l=available.length,ee=new Array(l);i<l;i++)ee[i]=available[i].fn;return ee},EventEmitter.prototype.emit=function emit(event,a1,a2,a3,a4,a5){var evt=prefix?prefix+event:event;if(!this._events[evt])return!1;var args,i,listeners=this._events[evt],len=arguments.length;if(listeners.fn){switch(listeners.once&&this.removeListener(event,listeners.fn,void 0,!0),len){case 1:return listeners.fn.call(listeners.context),!0;case 2:return listeners.fn.call(listeners.context,a1),!0;case 3:return listeners.fn.call(listeners.context,a1,a2),!0;case 4:return listeners.fn.call(listeners.context,a1,a2,a3),!0;case 5:return listeners.fn.call(listeners.context,a1,a2,a3,a4),!0;case 6:return listeners.fn.call(listeners.context,a1,a2,a3,a4,a5),!0}for(i=1,args=new Array(len-1);i<len;i++)args[i-1]=arguments[i];listeners.fn.apply(listeners.context,args)}else{var j,length=listeners.length;for(i=0;i<length;i++)switch(listeners[i].once&&this.removeListener(event,listeners[i].fn,void 0,!0),len){case 1:listeners[i].fn.call(listeners[i].context);break;case 2:listeners[i].fn.call(listeners[i].context,a1);break;case 3:listeners[i].fn.call(listeners[i].context,a1,a2);break;case 4:listeners[i].fn.call(listeners[i].context,a1,a2,a3);break;default:if(!args)for(j=1,args=new Array(len-1);j<len;j++)args[j-1]=arguments[j];listeners[i].fn.apply(listeners[i].context,args)}}return!0},EventEmitter.prototype.on=function on(event,fn,context){var listener=new EE(fn,context||this),evt=prefix?prefix+event:event;return this._events[evt]?this._events[evt].fn?this._events[evt]=[this._events[evt],listener]:this._events[evt].push(listener):(this._events[evt]=listener,this._eventsCount++),this},EventEmitter.prototype.once=function once(event,fn,context){var listener=new EE(fn,context||this,!0),evt=prefix?prefix+event:event;return this._events[evt]?this._events[evt].fn?this._events[evt]=[this._events[evt],listener]:this._events[evt].push(listener):(this._events[evt]=listener,this._eventsCount++),this},EventEmitter.prototype.removeListener=function removeListener(event,fn,context,once){var evt=prefix?prefix+event:event;if(!this._events[evt])return this;if(!fn)return 0==--this._eventsCount?this._events=new Events:delete this._events[evt],this;var listeners=this._events[evt];if(listeners.fn)listeners.fn!==fn||once&&!listeners.once||context&&listeners.context!==context||(0==--this._eventsCount?this._events=new Events:delete this._events[evt]);else{for(var i=0,events=[],length=listeners.length;i<length;i++)(listeners[i].fn!==fn||once&&!listeners[i].once||context&&listeners[i].context!==context)&&events.push(listeners[i]);events.length?this._events[evt]=1===events.length?events[0]:events:0==--this._eventsCount?this._events=new Events:delete this._events[evt]}return this},EventEmitter.prototype.removeAllListeners=function removeAllListeners(event){var evt;return event?(evt=prefix?prefix+event:event,this._events[evt]&&(0==--this._eventsCount?this._events=new Events:delete this._events[evt])):(this._events=new Events,this._eventsCount=0),this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.addListener=EventEmitter.prototype.on,EventEmitter.prototype.setMaxListeners=function setMaxListeners(){return this},EventEmitter.prefixed=prefix,EventEmitter.EventEmitter=EventEmitter,void 0!==module&&(module.exports=EventEmitter)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.matchText=exports.matchSpacing=exports.matchNewline=exports.matchBlot=exports.matchAttributor=exports.default=void 0;var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_slicedToArray=function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_extend3=_interopRequireDefault(__webpack_require__(3)),_quillDelta2=_interopRequireDefault(__webpack_require__(2)),_parchment2=_interopRequireDefault(__webpack_require__(0)),_quill2=_interopRequireDefault(__webpack_require__(5)),_logger2=_interopRequireDefault(__webpack_require__(10)),_module2=_interopRequireDefault(__webpack_require__(9)),_align=__webpack_require__(36),_background=__webpack_require__(37),_code2=_interopRequireDefault(__webpack_require__(13)),_color=__webpack_require__(26),_direction=__webpack_require__(38),_font=__webpack_require__(39),_size=__webpack_require__(40);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var debug=(0,_logger2.default)("quill:clipboard"),DOM_KEY="__ql-matcher",CLIPBOARD_CONFIG=[[Node.TEXT_NODE,matchText],[Node.TEXT_NODE,matchNewline],["br",function matchBreak(node,delta){deltaEndsWith(delta,"\n")||delta.insert("\n");return delta}],[Node.ELEMENT_NODE,matchNewline],[Node.ELEMENT_NODE,matchBlot],[Node.ELEMENT_NODE,matchSpacing],[Node.ELEMENT_NODE,matchAttributor],[Node.ELEMENT_NODE,function matchStyles(node,delta){var formats={},style=node.style||{};style.fontStyle&&"italic"===computeStyle(node).fontStyle&&(formats.italic=!0);style.fontWeight&&(computeStyle(node).fontWeight.startsWith("bold")||parseInt(computeStyle(node).fontWeight)>=700)&&(formats.bold=!0);Object.keys(formats).length>0&&(delta=applyFormat(delta,formats));parseFloat(style.textIndent||0)>0&&(delta=(new _quillDelta2.default).insert("\t").concat(delta));return delta}],["li",function matchIndent(node,delta){var match=_parchment2.default.query(node);if(null==match||"list-item"!==match.blotName||!deltaEndsWith(delta,"\n"))return delta;var indent=-1,parent=node.parentNode;for(;!parent.classList.contains("ql-clipboard");)"list"===(_parchment2.default.query(parent)||{}).blotName&&(indent+=1),parent=parent.parentNode;return indent<=0?delta:delta.compose((new _quillDelta2.default).retain(delta.length()-1).retain(1,{indent:indent}))}],["b",matchAlias.bind(matchAlias,"bold")],["i",matchAlias.bind(matchAlias,"italic")],["style",function matchIgnore(){return new _quillDelta2.default}]],ATTRIBUTE_ATTRIBUTORS=[_align.AlignAttribute,_direction.DirectionAttribute].reduce((function(memo,attr){return memo[attr.keyName]=attr,memo}),{}),STYLE_ATTRIBUTORS=[_align.AlignStyle,_background.BackgroundStyle,_color.ColorStyle,_direction.DirectionStyle,_font.FontStyle,_size.SizeStyle].reduce((function(memo,attr){return memo[attr.keyName]=attr,memo}),{}),Clipboard=function(_Module){function Clipboard(quill,options){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Clipboard);var _this=function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(Clipboard.__proto__||Object.getPrototypeOf(Clipboard)).call(this,quill,options));return _this.quill.root.addEventListener("paste",_this.onPaste.bind(_this)),_this.container=_this.quill.addContainer("ql-clipboard"),_this.container.setAttribute("contenteditable",!0),_this.container.setAttribute("tabindex",-1),_this.matchers=[],CLIPBOARD_CONFIG.concat(_this.options.matchers).forEach((function(_ref){var _ref2=_slicedToArray(_ref,2),selector=_ref2[0],matcher=_ref2[1];(options.matchVisual||matcher!==matchSpacing)&&_this.addMatcher(selector,matcher)})),_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(Clipboard,_Module),_createClass(Clipboard,[{key:"addMatcher",value:function addMatcher(selector,matcher){this.matchers.push([selector,matcher])}},{key:"convert",value:function convert(html){if("string"==typeof html)return this.container.innerHTML=html.replace(/\>\r?\n +\</g,"><"),this.convert();var formats=this.quill.getFormat(this.quill.selection.savedRange.index);if(formats[_code2.default.blotName]){var text=this.container.innerText;return this.container.innerHTML="",(new _quillDelta2.default).insert(text,_defineProperty({},_code2.default.blotName,formats[_code2.default.blotName]))}var _prepareMatching=this.prepareMatching(),_prepareMatching2=_slicedToArray(_prepareMatching,2),elementMatchers=_prepareMatching2[0],textMatchers=_prepareMatching2[1],delta=traverse(this.container,elementMatchers,textMatchers);return deltaEndsWith(delta,"\n")&&null==delta.ops[delta.ops.length-1].attributes&&(delta=delta.compose((new _quillDelta2.default).retain(delta.length()-1).delete(1))),debug.log("convert",this.container.innerHTML,delta),this.container.innerHTML="",delta}},{key:"dangerouslyPasteHTML",value:function dangerouslyPasteHTML(index,html){var source=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_quill2.default.sources.API;if("string"==typeof index)this.quill.setContents(this.convert(index),html),this.quill.setSelection(0,_quill2.default.sources.SILENT);else{var paste=this.convert(html);this.quill.updateContents((new _quillDelta2.default).retain(index).concat(paste),source),this.quill.setSelection(index+paste.length(),_quill2.default.sources.SILENT)}}},{key:"onPaste",value:function onPaste(e){var _this2=this;if(!e.defaultPrevented&&this.quill.isEnabled()){var range=this.quill.getSelection(),delta=(new _quillDelta2.default).retain(range.index),scrollTop=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(_quill2.default.sources.SILENT),setTimeout((function(){delta=delta.concat(_this2.convert()).delete(range.length),_this2.quill.updateContents(delta,_quill2.default.sources.USER),_this2.quill.setSelection(delta.length()-range.length,_quill2.default.sources.SILENT),_this2.quill.scrollingContainer.scrollTop=scrollTop,_this2.quill.focus()}),1)}}},{key:"prepareMatching",value:function prepareMatching(){var _this3=this,elementMatchers=[],textMatchers=[];return this.matchers.forEach((function(pair){var _pair=_slicedToArray(pair,2),selector=_pair[0],matcher=_pair[1];switch(selector){case Node.TEXT_NODE:textMatchers.push(matcher);break;case Node.ELEMENT_NODE:elementMatchers.push(matcher);break;default:[].forEach.call(_this3.container.querySelectorAll(selector),(function(node){node[DOM_KEY]=node[DOM_KEY]||[],node[DOM_KEY].push(matcher)}))}})),[elementMatchers,textMatchers]}}]),Clipboard}(_module2.default);function applyFormat(delta,format,value){return"object"===(void 0===format?"undefined":_typeof(format))?Object.keys(format).reduce((function(delta,key){return applyFormat(delta,key,format[key])}),delta):delta.reduce((function(delta,op){return op.attributes&&op.attributes[format]?delta.push(op):delta.insert(op.insert,(0,_extend3.default)({},_defineProperty({},format,value),op.attributes))}),new _quillDelta2.default)}function computeStyle(node){if(node.nodeType!==Node.ELEMENT_NODE)return{};return node["__ql-computed-style"]||(node["__ql-computed-style"]=window.getComputedStyle(node))}function deltaEndsWith(delta,text){for(var endText="",i=delta.ops.length-1;i>=0&&endText.length<text.length;--i){var op=delta.ops[i];if("string"!=typeof op.insert)break;endText=op.insert+endText}return endText.slice(-1*text.length)===text}function isLine(node){if(0===node.childNodes.length)return!1;var style=computeStyle(node);return["block","list-item"].indexOf(style.display)>-1}function traverse(node,elementMatchers,textMatchers){return node.nodeType===node.TEXT_NODE?textMatchers.reduce((function(delta,matcher){return matcher(node,delta)}),new _quillDelta2.default):node.nodeType===node.ELEMENT_NODE?[].reduce.call(node.childNodes||[],(function(delta,childNode){var childrenDelta=traverse(childNode,elementMatchers,textMatchers);return childNode.nodeType===node.ELEMENT_NODE&&(childrenDelta=elementMatchers.reduce((function(childrenDelta,matcher){return matcher(childNode,childrenDelta)}),childrenDelta),childrenDelta=(childNode[DOM_KEY]||[]).reduce((function(childrenDelta,matcher){return matcher(childNode,childrenDelta)}),childrenDelta)),delta.concat(childrenDelta)}),new _quillDelta2.default):new _quillDelta2.default}function matchAlias(format,node,delta){return applyFormat(delta,format,!0)}function matchAttributor(node,delta){var attributes=_parchment2.default.Attributor.Attribute.keys(node),classes=_parchment2.default.Attributor.Class.keys(node),styles=_parchment2.default.Attributor.Style.keys(node),formats={};return attributes.concat(classes).concat(styles).forEach((function(name){var attr=_parchment2.default.query(name,_parchment2.default.Scope.ATTRIBUTE);null!=attr&&(formats[attr.attrName]=attr.value(node),formats[attr.attrName])||(null==(attr=ATTRIBUTE_ATTRIBUTORS[name])||attr.attrName!==name&&attr.keyName!==name||(formats[attr.attrName]=attr.value(node)||void 0),null==(attr=STYLE_ATTRIBUTORS[name])||attr.attrName!==name&&attr.keyName!==name||(attr=STYLE_ATTRIBUTORS[name],formats[attr.attrName]=attr.value(node)||void 0))})),Object.keys(formats).length>0&&(delta=applyFormat(delta,formats)),delta}function matchBlot(node,delta){var match=_parchment2.default.query(node);if(null==match)return delta;if(match.prototype instanceof _parchment2.default.Embed){var embed={},value=match.value(node);null!=value&&(embed[match.blotName]=value,delta=(new _quillDelta2.default).insert(embed,match.formats(node)))}else"function"==typeof match.formats&&(delta=applyFormat(delta,match.blotName,match.formats(node)));return delta}function matchNewline(node,delta){return deltaEndsWith(delta,"\n")||(isLine(node)||delta.length()>0&&node.nextSibling&&isLine(node.nextSibling))&&delta.insert("\n"),delta}function matchSpacing(node,delta){if(isLine(node)&&null!=node.nextElementSibling&&!deltaEndsWith(delta,"\n\n")){var nodeHeight=node.offsetHeight+parseFloat(computeStyle(node).marginTop)+parseFloat(computeStyle(node).marginBottom);node.nextElementSibling.offsetTop>node.offsetTop+1.5*nodeHeight&&delta.insert("\n")}return delta}function matchText(node,delta){var text=node.data;if("O:P"===node.parentNode.tagName)return delta.insert(text.trim());if(0===text.trim().length&&node.parentNode.classList.contains("ql-clipboard"))return delta;if(!computeStyle(node.parentNode).whiteSpace.startsWith("pre")){var replacer=function replacer(collapse,match){return(match=match.replace(/[^\u00a0]/g,"")).length<1&&collapse?" ":match};text=(text=text.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,replacer.bind(replacer,!0)),(null==node.previousSibling&&isLine(node.parentNode)||null!=node.previousSibling&&isLine(node.previousSibling))&&(text=text.replace(/^\s+/,replacer.bind(replacer,!1))),(null==node.nextSibling&&isLine(node.parentNode)||null!=node.nextSibling&&isLine(node.nextSibling))&&(text=text.replace(/\s+$/,replacer.bind(replacer,!1)))}return delta.insert(text)}Clipboard.DEFAULTS={matchers:[],matchVisual:!0},exports.default=Clipboard,exports.matchAttributor=matchAttributor,exports.matchBlot=matchBlot,exports.matchNewline=matchNewline,exports.matchSpacing=matchSpacing,exports.matchText=matchText},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;return void 0!==getter?getter.call(receiver):void 0};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}var Bold=function(_Inline){function Bold(){return _classCallCheck(this,Bold),_possibleConstructorReturn(this,(Bold.__proto__||Object.getPrototypeOf(Bold)).apply(this,arguments))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(Bold,_Inline),_createClass(Bold,[{key:"optimize",value:function optimize(context){_get(Bold.prototype.__proto__||Object.getPrototypeOf(Bold.prototype),"optimize",this).call(this,context),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function create(){return _get(Bold.__proto__||Object.getPrototypeOf(Bold),"create",this).call(this)}},{key:"formats",value:function formats(){return!0}}]),Bold}(function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(6)).default);Bold.blotName="bold",Bold.tagName=["STRONG","B"],exports.default=Bold},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.addControls=exports.default=void 0;var _slicedToArray=function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_quillDelta2=_interopRequireDefault(__webpack_require__(2)),_parchment2=_interopRequireDefault(__webpack_require__(0)),_quill2=_interopRequireDefault(__webpack_require__(5)),_logger2=_interopRequireDefault(__webpack_require__(10)),_module2=_interopRequireDefault(__webpack_require__(9));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}var debug=(0,_logger2.default)("quill:toolbar"),Toolbar=function(_Module){function Toolbar(quill,options){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Toolbar);var _ret,_this=_possibleConstructorReturn(this,(Toolbar.__proto__||Object.getPrototypeOf(Toolbar)).call(this,quill,options));if(Array.isArray(_this.options.container)){var container=document.createElement("div");addControls(container,_this.options.container),quill.container.parentNode.insertBefore(container,quill.container),_this.container=container}else"string"==typeof _this.options.container?_this.container=document.querySelector(_this.options.container):_this.container=_this.options.container;return _this.container instanceof HTMLElement?(_this.container.classList.add("ql-toolbar"),_this.controls=[],_this.handlers={},Object.keys(_this.options.handlers).forEach((function(format){_this.addHandler(format,_this.options.handlers[format])})),[].forEach.call(_this.container.querySelectorAll("button, select"),(function(input){_this.attach(input)})),_this.quill.on(_quill2.default.events.EDITOR_CHANGE,(function(type,range){type===_quill2.default.events.SELECTION_CHANGE&&_this.update(range)})),_this.quill.on(_quill2.default.events.SCROLL_OPTIMIZE,(function(){var _this$quill$selection=_this.quill.selection.getRange(),range=_slicedToArray(_this$quill$selection,1)[0];_this.update(range)})),_this):(_ret=debug.error("Container required for toolbar",_this.options),_possibleConstructorReturn(_this,_ret))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(Toolbar,_Module),_createClass(Toolbar,[{key:"addHandler",value:function addHandler(format,handler){this.handlers[format]=handler}},{key:"attach",value:function attach(input){var _this2=this,format=[].find.call(input.classList,(function(className){return 0===className.indexOf("ql-")}));if(format){if(format=format.slice("ql-".length),"BUTTON"===input.tagName&&input.setAttribute("type","button"),null==this.handlers[format]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[format])return void debug.warn("ignoring attaching to disabled format",format,input);if(null==_parchment2.default.query(format))return void debug.warn("ignoring attaching to nonexistent format",format,input)}var eventName="SELECT"===input.tagName?"change":"click";input.addEventListener(eventName,(function(e){var value=void 0;if("SELECT"===input.tagName){if(input.selectedIndex<0)return;var selected=input.options[input.selectedIndex];value=!selected.hasAttribute("selected")&&(selected.value||!1)}else value=!input.classList.contains("ql-active")&&(input.value||!input.hasAttribute("value")),e.preventDefault();_this2.quill.focus();var _quill$selection$getR=_this2.quill.selection.getRange(),range=_slicedToArray(_quill$selection$getR,1)[0];if(null!=_this2.handlers[format])_this2.handlers[format].call(_this2,value);else if(_parchment2.default.query(format).prototype instanceof _parchment2.default.Embed){if(!(value=prompt("Enter "+format)))return;_this2.quill.updateContents((new _quillDelta2.default).retain(range.index).delete(range.length).insert(function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}({},format,value)),_quill2.default.sources.USER)}else _this2.quill.format(format,value,_quill2.default.sources.USER);_this2.update(range)})),this.controls.push([format,input])}}},{key:"update",value:function update(range){var formats=null==range?{}:this.quill.getFormat(range);this.controls.forEach((function(pair){var _pair=_slicedToArray(pair,2),format=_pair[0],input=_pair[1];if("SELECT"===input.tagName){var option=void 0;if(null==range)option=null;else if(null==formats[format])option=input.querySelector("option[selected]");else if(!Array.isArray(formats[format])){var value=formats[format];"string"==typeof value&&(value=value.replace(/\"/g,'\\"')),option=input.querySelector('option[value="'+value+'"]')}null==option?(input.value="",input.selectedIndex=-1):option.selected=!0}else if(null==range)input.classList.remove("ql-active");else if(input.hasAttribute("value")){var isActive=formats[format]===input.getAttribute("value")||null!=formats[format]&&formats[format].toString()===input.getAttribute("value")||null==formats[format]&&!input.getAttribute("value");input.classList.toggle("ql-active",isActive)}else input.classList.toggle("ql-active",null!=formats[format])}))}}]),Toolbar}(_module2.default);function addButton(container,format,value){var input=document.createElement("button");input.setAttribute("type","button"),input.classList.add("ql-"+format),null!=value&&(input.value=value),container.appendChild(input)}function addControls(container,groups){Array.isArray(groups[0])||(groups=[groups]),groups.forEach((function(controls){var group=document.createElement("span");group.classList.add("ql-formats"),controls.forEach((function(control){if("string"==typeof control)addButton(group,control);else{var format=Object.keys(control)[0],value=control[format];Array.isArray(value)?function addSelect(container,format,values){var input=document.createElement("select");input.classList.add("ql-"+format),values.forEach((function(value){var option=document.createElement("option");!1!==value?option.setAttribute("value",value):option.setAttribute("selected","selected"),input.appendChild(option)})),container.appendChild(input)}(group,format,value):addButton(group,format,value)}})),container.appendChild(group)}))}Toolbar.DEFAULTS={},Toolbar.DEFAULTS={container:null,handlers:{clean:function clean(){var _this3=this,range=this.quill.getSelection();if(null!=range)if(0==range.length){var formats=this.quill.getFormat();Object.keys(formats).forEach((function(name){null!=_parchment2.default.query(name,_parchment2.default.Scope.INLINE)&&_this3.quill.format(name,!1)}))}else this.quill.removeFormat(range,_quill2.default.sources.USER)},direction:function direction(value){var align=this.quill.getFormat().align;"rtl"===value&&null==align?this.quill.format("align","right",_quill2.default.sources.USER):value||"right"!==align||this.quill.format("align",!1,_quill2.default.sources.USER),this.quill.format("direction",value,_quill2.default.sources.USER)},indent:function indent(value){var range=this.quill.getSelection(),formats=this.quill.getFormat(range),indent=parseInt(formats.indent||0);if("+1"===value||"-1"===value){var modifier="+1"===value?1:-1;"rtl"===formats.direction&&(modifier*=-1),this.quill.format("indent",indent+modifier,_quill2.default.sources.USER)}},link:function link(value){!0===value&&(value=prompt("Enter link URL:")),this.quill.format("link",value,_quill2.default.sources.USER)},list:function list(value){var range=this.quill.getSelection(),formats=this.quill.getFormat(range);"check"===value?"checked"===formats.list||"unchecked"===formats.list?this.quill.format("list",!1,_quill2.default.sources.USER):this.quill.format("list","unchecked",_quill2.default.sources.USER):this.quill.format("list",value,_quill2.default.sources.USER)}}},exports.default=Toolbar,exports.addControls=addControls},function(module,exports){module.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;return void 0!==getter?getter.call(receiver):void 0};var ColorPicker=function(_Picker){function ColorPicker(select,label){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ColorPicker);var _this=function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(ColorPicker.__proto__||Object.getPrototypeOf(ColorPicker)).call(this,select));return _this.label.innerHTML=label,_this.container.classList.add("ql-color-picker"),[].slice.call(_this.container.querySelectorAll(".ql-picker-item"),0,7).forEach((function(item){item.classList.add("ql-primary")})),_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(ColorPicker,_Picker),_createClass(ColorPicker,[{key:"buildItem",value:function buildItem(option){var item=_get(ColorPicker.prototype.__proto__||Object.getPrototypeOf(ColorPicker.prototype),"buildItem",this).call(this,option);return item.style.backgroundColor=option.getAttribute("value")||"",item}},{key:"selectItem",value:function selectItem(item,trigger){_get(ColorPicker.prototype.__proto__||Object.getPrototypeOf(ColorPicker.prototype),"selectItem",this).call(this,item,trigger);var colorLabel=this.label.querySelector(".ql-color-label"),value=item&&item.getAttribute("data-value")||"";colorLabel&&("line"===colorLabel.tagName?colorLabel.style.stroke=value:colorLabel.style.fill=value)}}]),ColorPicker}(function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(28)).default);exports.default=ColorPicker},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;return void 0!==getter?getter.call(receiver):void 0};var IconPicker=function(_Picker){function IconPicker(select,icons){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,IconPicker);var _this=function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(IconPicker.__proto__||Object.getPrototypeOf(IconPicker)).call(this,select));return _this.container.classList.add("ql-icon-picker"),[].forEach.call(_this.container.querySelectorAll(".ql-picker-item"),(function(item){item.innerHTML=icons[item.getAttribute("data-value")||""]})),_this.defaultItem=_this.container.querySelector(".ql-selected"),_this.selectItem(_this.defaultItem),_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(IconPicker,_Picker),_createClass(IconPicker,[{key:"selectItem",value:function selectItem(item,trigger){_get(IconPicker.prototype.__proto__||Object.getPrototypeOf(IconPicker.prototype),"selectItem",this).call(this,item,trigger),item=item||this.defaultItem,this.label.innerHTML=item.innerHTML}}]),IconPicker}(function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(28)).default);exports.default=IconPicker},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();var Tooltip=function(){function Tooltip(quill,boundsContainer){var _this=this;!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Tooltip),this.quill=quill,this.boundsContainer=boundsContainer||document.body,this.root=quill.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",(function(){_this.root.style.marginTop=-1*_this.quill.root.scrollTop+"px"})),this.hide()}return _createClass(Tooltip,[{key:"hide",value:function hide(){this.root.classList.add("ql-hidden")}},{key:"position",value:function position(reference){var left=reference.left+reference.width/2-this.root.offsetWidth/2,top=reference.bottom+this.quill.root.scrollTop;this.root.style.left=left+"px",this.root.style.top=top+"px",this.root.classList.remove("ql-flip");var containerBounds=this.boundsContainer.getBoundingClientRect(),rootBounds=this.root.getBoundingClientRect(),shift=0;if(rootBounds.right>containerBounds.right&&(shift=containerBounds.right-rootBounds.right,this.root.style.left=left+shift+"px"),rootBounds.left<containerBounds.left&&(shift=containerBounds.left-rootBounds.left,this.root.style.left=left+shift+"px"),rootBounds.bottom>containerBounds.bottom){var height=rootBounds.bottom-rootBounds.top,verticalShift=reference.bottom-reference.top+height;this.root.style.top=top-verticalShift+"px",this.root.classList.add("ql-flip")}return shift}},{key:"show",value:function show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),Tooltip}();exports.default=Tooltip},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray=function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")},_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;return void 0!==getter?getter.call(receiver):void 0},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_extend2=_interopRequireDefault(__webpack_require__(3)),_emitter2=_interopRequireDefault(__webpack_require__(8)),_base=__webpack_require__(43),_base2=_interopRequireDefault(_base),_link2=_interopRequireDefault(__webpack_require__(27)),_selection=__webpack_require__(15),_icons2=_interopRequireDefault(__webpack_require__(41));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var TOOLBAR_CONFIG=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],SnowTheme=function(_BaseTheme){function SnowTheme(quill,options){_classCallCheck(this,SnowTheme),null!=options.modules.toolbar&&null==options.modules.toolbar.container&&(options.modules.toolbar.container=TOOLBAR_CONFIG);var _this=_possibleConstructorReturn(this,(SnowTheme.__proto__||Object.getPrototypeOf(SnowTheme)).call(this,quill,options));return _this.quill.container.classList.add("ql-snow"),_this}return _inherits(SnowTheme,_BaseTheme),_createClass(SnowTheme,[{key:"extendToolbar",value:function extendToolbar(toolbar){toolbar.container.classList.add("ql-snow"),this.buildButtons([].slice.call(toolbar.container.querySelectorAll("button")),_icons2.default),this.buildPickers([].slice.call(toolbar.container.querySelectorAll("select")),_icons2.default),this.tooltip=new SnowTooltip(this.quill,this.options.bounds),toolbar.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},(function(range,context){toolbar.handlers.link.call(toolbar,!context.format.link)}))}}]),SnowTheme}(_base2.default);SnowTheme.DEFAULTS=(0,_extend2.default)(!0,{},_base2.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function link(value){if(value){var range=this.quill.getSelection();if(null==range||0==range.length)return;var preview=this.quill.getText(range);/^\S+@\S+\.\S+$/.test(preview)&&0!==preview.indexOf("mailto:")&&(preview="mailto:"+preview),this.quill.theme.tooltip.edit("link",preview)}else this.quill.format("link",!1)}}}}});var SnowTooltip=function(_BaseTooltip){function SnowTooltip(quill,bounds){_classCallCheck(this,SnowTooltip);var _this2=_possibleConstructorReturn(this,(SnowTooltip.__proto__||Object.getPrototypeOf(SnowTooltip)).call(this,quill,bounds));return _this2.preview=_this2.root.querySelector("a.ql-preview"),_this2}return _inherits(SnowTooltip,_BaseTooltip),_createClass(SnowTooltip,[{key:"listen",value:function listen(){var _this3=this;_get(SnowTooltip.prototype.__proto__||Object.getPrototypeOf(SnowTooltip.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",(function(event){_this3.root.classList.contains("ql-editing")?_this3.save():_this3.edit("link",_this3.preview.textContent),event.preventDefault()})),this.root.querySelector("a.ql-remove").addEventListener("click",(function(event){if(null!=_this3.linkRange){var range=_this3.linkRange;_this3.restoreFocus(),_this3.quill.formatText(range,"link",!1,_emitter2.default.sources.USER),delete _this3.linkRange}event.preventDefault(),_this3.hide()})),this.quill.on(_emitter2.default.events.SELECTION_CHANGE,(function(range,oldRange,source){if(null!=range){if(0===range.length&&source===_emitter2.default.sources.USER){var _quill$scroll$descend=_this3.quill.scroll.descendant(_link2.default,range.index),_quill$scroll$descend2=_slicedToArray(_quill$scroll$descend,2),link=_quill$scroll$descend2[0],offset=_quill$scroll$descend2[1];if(null!=link){_this3.linkRange=new _selection.Range(range.index-offset,link.length());var preview=_link2.default.formats(link.domNode);return _this3.preview.textContent=preview,_this3.preview.setAttribute("href",preview),_this3.show(),void _this3.position(_this3.quill.getBounds(_this3.linkRange))}}else delete _this3.linkRange;_this3.hide()}}))}},{key:"show",value:function show(){_get(SnowTooltip.prototype.__proto__||Object.getPrototypeOf(SnowTooltip.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),SnowTooltip}(_base.BaseTooltip);SnowTooltip.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),exports.default=SnowTheme},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _core2=_interopRequireDefault(__webpack_require__(29)),_align=__webpack_require__(36),_direction=__webpack_require__(38),_indent=__webpack_require__(64),_blockquote2=_interopRequireDefault(__webpack_require__(65)),_header2=_interopRequireDefault(__webpack_require__(66)),_list=__webpack_require__(67),_list2=_interopRequireDefault(_list),_background=__webpack_require__(37),_color=__webpack_require__(26),_font=__webpack_require__(39),_size=__webpack_require__(40),_bold2=_interopRequireDefault(__webpack_require__(56)),_italic2=_interopRequireDefault(__webpack_require__(68)),_link2=_interopRequireDefault(__webpack_require__(27)),_script2=_interopRequireDefault(__webpack_require__(69)),_strike2=_interopRequireDefault(__webpack_require__(70)),_underline2=_interopRequireDefault(__webpack_require__(71)),_image2=_interopRequireDefault(__webpack_require__(72)),_video2=_interopRequireDefault(__webpack_require__(73)),_code=__webpack_require__(13),_code2=_interopRequireDefault(_code),_formula2=_interopRequireDefault(__webpack_require__(74)),_syntax2=_interopRequireDefault(__webpack_require__(75)),_toolbar2=_interopRequireDefault(__webpack_require__(57)),_icons2=_interopRequireDefault(__webpack_require__(41)),_picker2=_interopRequireDefault(__webpack_require__(28)),_colorPicker2=_interopRequireDefault(__webpack_require__(59)),_iconPicker2=_interopRequireDefault(__webpack_require__(60)),_tooltip2=_interopRequireDefault(__webpack_require__(61)),_bubble2=_interopRequireDefault(__webpack_require__(108)),_snow2=_interopRequireDefault(__webpack_require__(62));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_core2.default.register({"attributors/attribute/direction":_direction.DirectionAttribute,"attributors/class/align":_align.AlignClass,"attributors/class/background":_background.BackgroundClass,"attributors/class/color":_color.ColorClass,"attributors/class/direction":_direction.DirectionClass,"attributors/class/font":_font.FontClass,"attributors/class/size":_size.SizeClass,"attributors/style/align":_align.AlignStyle,"attributors/style/background":_background.BackgroundStyle,"attributors/style/color":_color.ColorStyle,"attributors/style/direction":_direction.DirectionStyle,"attributors/style/font":_font.FontStyle,"attributors/style/size":_size.SizeStyle},!0),_core2.default.register({"formats/align":_align.AlignClass,"formats/direction":_direction.DirectionClass,"formats/indent":_indent.IndentClass,"formats/background":_background.BackgroundStyle,"formats/color":_color.ColorStyle,"formats/font":_font.FontClass,"formats/size":_size.SizeClass,"formats/blockquote":_blockquote2.default,"formats/code-block":_code2.default,"formats/header":_header2.default,"formats/list":_list2.default,"formats/bold":_bold2.default,"formats/code":_code.Code,"formats/italic":_italic2.default,"formats/link":_link2.default,"formats/script":_script2.default,"formats/strike":_strike2.default,"formats/underline":_underline2.default,"formats/image":_image2.default,"formats/video":_video2.default,"formats/list/item":_list.ListItem,"modules/formula":_formula2.default,"modules/syntax":_syntax2.default,"modules/toolbar":_toolbar2.default,"themes/bubble":_bubble2.default,"themes/snow":_snow2.default,"ui/icons":_icons2.default,"ui/picker":_picker2.default,"ui/icon-picker":_iconPicker2.default,"ui/color-picker":_colorPicker2.default,"ui/tooltip":_tooltip2.default},!0),exports.default=_core2.default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.IndentClass=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;return void 0!==getter?getter.call(receiver):void 0},_parchment2=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(0));function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}var IndentClass=new(function(_Parchment$Attributor){function IdentAttributor(){return _classCallCheck(this,IdentAttributor),_possibleConstructorReturn(this,(IdentAttributor.__proto__||Object.getPrototypeOf(IdentAttributor)).apply(this,arguments))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(IdentAttributor,_Parchment$Attributor),_createClass(IdentAttributor,[{key:"add",value:function add(node,value){if("+1"===value||"-1"===value){var indent=this.value(node)||0;value="+1"===value?indent+1:indent-1}return 0===value?(this.remove(node),!0):_get(IdentAttributor.prototype.__proto__||Object.getPrototypeOf(IdentAttributor.prototype),"add",this).call(this,node,value)}},{key:"canAdd",value:function canAdd(node,value){return _get(IdentAttributor.prototype.__proto__||Object.getPrototypeOf(IdentAttributor.prototype),"canAdd",this).call(this,node,value)||_get(IdentAttributor.prototype.__proto__||Object.getPrototypeOf(IdentAttributor.prototype),"canAdd",this).call(this,node,parseInt(value))}},{key:"value",value:function value(node){return parseInt(_get(IdentAttributor.prototype.__proto__||Object.getPrototypeOf(IdentAttributor.prototype),"value",this).call(this,node))||void 0}}]),IdentAttributor}(_parchment2.default.Attributor.Class))("indent","ql-indent",{scope:_parchment2.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});exports.IndentClass=IndentClass},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}Object.defineProperty(exports,"__esModule",{value:!0});var Blockquote=function(_Block){function Blockquote(){return _classCallCheck(this,Blockquote),_possibleConstructorReturn(this,(Blockquote.__proto__||Object.getPrototypeOf(Blockquote)).apply(this,arguments))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(Blockquote,_Block),Blockquote}(function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(4)).default);Blockquote.blotName="blockquote",Blockquote.tagName="blockquote",exports.default=Blockquote},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}var Header=function(_Block){function Header(){return _classCallCheck(this,Header),_possibleConstructorReturn(this,(Header.__proto__||Object.getPrototypeOf(Header)).apply(this,arguments))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(Header,_Block),_createClass(Header,null,[{key:"formats",value:function formats(domNode){return this.tagName.indexOf(domNode.tagName)+1}}]),Header}(function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(4)).default);Header.blotName="header",Header.tagName=["H1","H2","H3","H4","H5","H6"],exports.default=Header},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.ListItem=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;return void 0!==getter?getter.call(receiver):void 0},_parchment2=_interopRequireDefault(__webpack_require__(0)),_block2=_interopRequireDefault(__webpack_require__(4)),_container2=_interopRequireDefault(__webpack_require__(25));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var ListItem=function(_Block){function ListItem(){return _classCallCheck(this,ListItem),_possibleConstructorReturn(this,(ListItem.__proto__||Object.getPrototypeOf(ListItem)).apply(this,arguments))}return _inherits(ListItem,_Block),_createClass(ListItem,[{key:"format",value:function format(name,value){name!==List.blotName||value?_get(ListItem.prototype.__proto__||Object.getPrototypeOf(ListItem.prototype),"format",this).call(this,name,value):this.replaceWith(_parchment2.default.create(this.statics.scope))}},{key:"remove",value:function remove(){null==this.prev&&null==this.next?this.parent.remove():_get(ListItem.prototype.__proto__||Object.getPrototypeOf(ListItem.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function replaceWith(name,value){return this.parent.isolate(this.offset(this.parent),this.length()),name===this.parent.statics.blotName?(this.parent.replaceWith(name,value),this):(this.parent.unwrap(),_get(ListItem.prototype.__proto__||Object.getPrototypeOf(ListItem.prototype),"replaceWith",this).call(this,name,value))}}],[{key:"formats",value:function formats(domNode){return domNode.tagName===this.tagName?void 0:_get(ListItem.__proto__||Object.getPrototypeOf(ListItem),"formats",this).call(this,domNode)}}]),ListItem}(_block2.default);ListItem.blotName="list-item",ListItem.tagName="LI";var List=function(_Container){function List(domNode){_classCallCheck(this,List);var _this2=_possibleConstructorReturn(this,(List.__proto__||Object.getPrototypeOf(List)).call(this,domNode)),listEventHandler=function listEventHandler(e){if(e.target.parentNode===domNode){var format=_this2.statics.formats(domNode),blot=_parchment2.default.find(e.target);"checked"===format?blot.format("list","unchecked"):"unchecked"===format&&blot.format("list","checked")}};return domNode.addEventListener("touchstart",listEventHandler),domNode.addEventListener("mousedown",listEventHandler),_this2}return _inherits(List,_Container),_createClass(List,null,[{key:"create",value:function create(value){var tagName="ordered"===value?"OL":"UL",node=_get(List.__proto__||Object.getPrototypeOf(List),"create",this).call(this,tagName);return"checked"!==value&&"unchecked"!==value||node.setAttribute("data-checked","checked"===value),node}},{key:"formats",value:function formats(domNode){return"OL"===domNode.tagName?"ordered":"UL"===domNode.tagName?domNode.hasAttribute("data-checked")?"true"===domNode.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),_createClass(List,[{key:"format",value:function format(name,value){this.children.length>0&&this.children.tail.format(name,value)}},{key:"formats",value:function formats(){return function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function insertBefore(blot,ref){if(blot instanceof ListItem)_get(List.prototype.__proto__||Object.getPrototypeOf(List.prototype),"insertBefore",this).call(this,blot,ref);else{var index=null==ref?this.length():ref.offset(this),after=this.split(index);after.parent.insertBefore(blot,after)}}},{key:"optimize",value:function optimize(context){_get(List.prototype.__proto__||Object.getPrototypeOf(List.prototype),"optimize",this).call(this,context);var next=this.next;null!=next&&next.prev===this&&next.statics.blotName===this.statics.blotName&&next.domNode.tagName===this.domNode.tagName&&next.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(next.moveChildren(this),next.remove())}},{key:"replace",value:function replace(target){if(target.statics.blotName!==this.statics.blotName){var item=_parchment2.default.create(this.statics.defaultChild);target.moveChildren(item),this.appendChild(item)}_get(List.prototype.__proto__||Object.getPrototypeOf(List.prototype),"replace",this).call(this,target)}}]),List}(_container2.default);List.blotName="list",List.scope=_parchment2.default.Scope.BLOCK_BLOT,List.tagName=["OL","UL"],List.defaultChild="list-item",List.allowedChildren=[ListItem],exports.ListItem=ListItem,exports.default=List},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}Object.defineProperty(exports,"__esModule",{value:!0});var Italic=function(_Bold){function Italic(){return _classCallCheck(this,Italic),_possibleConstructorReturn(this,(Italic.__proto__||Object.getPrototypeOf(Italic)).apply(this,arguments))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(Italic,_Bold),Italic}(function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(56)).default);Italic.blotName="italic",Italic.tagName=["EM","I"],exports.default=Italic},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;return void 0!==getter?getter.call(receiver):void 0};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}var Script=function(_Inline){function Script(){return _classCallCheck(this,Script),_possibleConstructorReturn(this,(Script.__proto__||Object.getPrototypeOf(Script)).apply(this,arguments))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(Script,_Inline),_createClass(Script,null,[{key:"create",value:function create(value){return"super"===value?document.createElement("sup"):"sub"===value?document.createElement("sub"):_get(Script.__proto__||Object.getPrototypeOf(Script),"create",this).call(this,value)}},{key:"formats",value:function formats(domNode){return"SUB"===domNode.tagName?"sub":"SUP"===domNode.tagName?"super":void 0}}]),Script}(function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(6)).default);Script.blotName="script",Script.tagName=["SUB","SUP"],exports.default=Script},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}Object.defineProperty(exports,"__esModule",{value:!0});var Strike=function(_Inline){function Strike(){return _classCallCheck(this,Strike),_possibleConstructorReturn(this,(Strike.__proto__||Object.getPrototypeOf(Strike)).apply(this,arguments))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(Strike,_Inline),Strike}(function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(6)).default);Strike.blotName="strike",Strike.tagName="S",exports.default=Strike},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}Object.defineProperty(exports,"__esModule",{value:!0});var Underline=function(_Inline){function Underline(){return _classCallCheck(this,Underline),_possibleConstructorReturn(this,(Underline.__proto__||Object.getPrototypeOf(Underline)).apply(this,arguments))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(Underline,_Inline),Underline}(function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(6)).default);Underline.blotName="underline",Underline.tagName="U",exports.default=Underline},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;return void 0!==getter?getter.call(receiver):void 0},_parchment2=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(0)),_link=__webpack_require__(27);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}var ATTRIBUTES=["alt","height","width"],Image=function(_Parchment$Embed){function Image(){return _classCallCheck(this,Image),_possibleConstructorReturn(this,(Image.__proto__||Object.getPrototypeOf(Image)).apply(this,arguments))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(Image,_Parchment$Embed),_createClass(Image,[{key:"format",value:function format(name,value){ATTRIBUTES.indexOf(name)>-1?value?this.domNode.setAttribute(name,value):this.domNode.removeAttribute(name):_get(Image.prototype.__proto__||Object.getPrototypeOf(Image.prototype),"format",this).call(this,name,value)}}],[{key:"create",value:function create(value){var node=_get(Image.__proto__||Object.getPrototypeOf(Image),"create",this).call(this,value);return"string"==typeof value&&node.setAttribute("src",this.sanitize(value)),node}},{key:"formats",value:function formats(domNode){return ATTRIBUTES.reduce((function(formats,attribute){return domNode.hasAttribute(attribute)&&(formats[attribute]=domNode.getAttribute(attribute)),formats}),{})}},{key:"match",value:function match(url){return/\.(jpe?g|gif|png)$/.test(url)||/^data:image\/.+;base64/.test(url)}},{key:"sanitize",value:function sanitize(url){return(0,_link.sanitize)(url,["http","https","data"])?url:"//:0"}},{key:"value",value:function value(domNode){return domNode.getAttribute("src")}}]),Image}(_parchment2.default.Embed);Image.blotName="image",Image.tagName="IMG",exports.default=Image},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;return void 0!==getter?getter.call(receiver):void 0},_block=__webpack_require__(4),_link2=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(27));function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}var ATTRIBUTES=["height","width"],Video=function(_BlockEmbed){function Video(){return _classCallCheck(this,Video),_possibleConstructorReturn(this,(Video.__proto__||Object.getPrototypeOf(Video)).apply(this,arguments))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(Video,_BlockEmbed),_createClass(Video,[{key:"format",value:function format(name,value){ATTRIBUTES.indexOf(name)>-1?value?this.domNode.setAttribute(name,value):this.domNode.removeAttribute(name):_get(Video.prototype.__proto__||Object.getPrototypeOf(Video.prototype),"format",this).call(this,name,value)}}],[{key:"create",value:function create(value){var node=_get(Video.__proto__||Object.getPrototypeOf(Video),"create",this).call(this,value);return node.setAttribute("frameborder","0"),node.setAttribute("allowfullscreen",!0),node.setAttribute("src",this.sanitize(value)),node}},{key:"formats",value:function formats(domNode){return ATTRIBUTES.reduce((function(formats,attribute){return domNode.hasAttribute(attribute)&&(formats[attribute]=domNode.getAttribute(attribute)),formats}),{})}},{key:"sanitize",value:function sanitize(url){return _link2.default.sanitize(url)}},{key:"value",value:function value(domNode){return domNode.getAttribute("src")}}]),Video}(_block.BlockEmbed);Video.blotName="video",Video.className="ql-video",Video.tagName="IFRAME",exports.default=Video},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.FormulaBlot=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;return void 0!==getter?getter.call(receiver):void 0},_embed2=_interopRequireDefault(__webpack_require__(35)),_quill2=_interopRequireDefault(__webpack_require__(5)),_module2=_interopRequireDefault(__webpack_require__(9));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var FormulaBlot=function(_Embed){function FormulaBlot(){return _classCallCheck(this,FormulaBlot),_possibleConstructorReturn(this,(FormulaBlot.__proto__||Object.getPrototypeOf(FormulaBlot)).apply(this,arguments))}return _inherits(FormulaBlot,_Embed),_createClass(FormulaBlot,null,[{key:"create",value:function create(value){var node=_get(FormulaBlot.__proto__||Object.getPrototypeOf(FormulaBlot),"create",this).call(this,value);return"string"==typeof value&&(window.katex.render(value,node,{throwOnError:!1,errorColor:"#f00"}),node.setAttribute("data-value",value)),node}},{key:"value",value:function value(domNode){return domNode.getAttribute("data-value")}}]),FormulaBlot}(_embed2.default);FormulaBlot.blotName="formula",FormulaBlot.className="ql-formula",FormulaBlot.tagName="SPAN";var Formula=function(_Module){function Formula(){_classCallCheck(this,Formula);var _this2=_possibleConstructorReturn(this,(Formula.__proto__||Object.getPrototypeOf(Formula)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return _this2}return _inherits(Formula,_Module),_createClass(Formula,null,[{key:"register",value:function register(){_quill2.default.register(FormulaBlot,!0)}}]),Formula}(_module2.default);exports.FormulaBlot=FormulaBlot,exports.default=Formula},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.CodeToken=exports.CodeBlock=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;return void 0!==getter?getter.call(receiver):void 0},_parchment2=_interopRequireDefault(__webpack_require__(0)),_quill2=_interopRequireDefault(__webpack_require__(5)),_module2=_interopRequireDefault(__webpack_require__(9));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var SyntaxCodeBlock=function(_CodeBlock){function SyntaxCodeBlock(){return _classCallCheck(this,SyntaxCodeBlock),_possibleConstructorReturn(this,(SyntaxCodeBlock.__proto__||Object.getPrototypeOf(SyntaxCodeBlock)).apply(this,arguments))}return _inherits(SyntaxCodeBlock,_CodeBlock),_createClass(SyntaxCodeBlock,[{key:"replaceWith",value:function replaceWith(block){this.domNode.textContent=this.domNode.textContent,this.attach(),_get(SyntaxCodeBlock.prototype.__proto__||Object.getPrototypeOf(SyntaxCodeBlock.prototype),"replaceWith",this).call(this,block)}},{key:"highlight",value:function highlight(_highlight){var text=this.domNode.textContent;this.cachedText!==text&&((text.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=_highlight(text),this.domNode.normalize(),this.attach()),this.cachedText=text)}}]),SyntaxCodeBlock}(_interopRequireDefault(__webpack_require__(13)).default);SyntaxCodeBlock.className="ql-syntax";var CodeToken=new _parchment2.default.Attributor.Class("token","hljs",{scope:_parchment2.default.Scope.INLINE}),Syntax=function(_Module){function Syntax(quill,options){_classCallCheck(this,Syntax);var _this2=_possibleConstructorReturn(this,(Syntax.__proto__||Object.getPrototypeOf(Syntax)).call(this,quill,options));if("function"!=typeof _this2.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var timer=null;return _this2.quill.on(_quill2.default.events.SCROLL_OPTIMIZE,(function(){clearTimeout(timer),timer=setTimeout((function(){_this2.highlight(),timer=null}),_this2.options.interval)})),_this2.highlight(),_this2}return _inherits(Syntax,_Module),_createClass(Syntax,null,[{key:"register",value:function register(){_quill2.default.register(CodeToken,!0),_quill2.default.register(SyntaxCodeBlock,!0)}}]),_createClass(Syntax,[{key:"highlight",value:function highlight(){var _this3=this;if(!this.quill.selection.composing){this.quill.update(_quill2.default.sources.USER);var range=this.quill.getSelection();this.quill.scroll.descendants(SyntaxCodeBlock).forEach((function(code){code.highlight(_this3.options.highlight)})),this.quill.update(_quill2.default.sources.SILENT),null!=range&&this.quill.setSelection(range,_quill2.default.sources.SILENT)}}}]),Syntax}(_module2.default);Syntax.DEFAULTS={highlight:null==window.hljs?null:function(text){return window.hljs.highlightAuto(text).value},interval:1e3},exports.CodeBlock=SyntaxCodeBlock,exports.CodeToken=CodeToken,exports.default=Syntax},function(module,exports){module.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(module,exports){module.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(module,exports){module.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(module,exports){module.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(module,exports){module.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(module,exports){module.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(module,exports){module.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(module,exports){module.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(module,exports){module.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(module,exports){module.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(module,exports){module.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(module,exports){module.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(module,exports){module.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(module,exports){module.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(module,exports){module.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(module,exports){module.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(module,exports){module.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(module,exports){module.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(module,exports){module.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(module,exports){module.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(module,exports){module.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(module,exports){module.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(module,exports){module.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(module,exports){module.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(module,exports){module.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(module,exports){module.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(module,exports){module.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(module,exports){module.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(module,exports){module.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(module,exports){module.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(module,exports){module.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(module,exports){module.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.BubbleTooltip=void 0;var _get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;return void 0!==getter?getter.call(receiver):void 0},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_extend2=_interopRequireDefault(__webpack_require__(3)),_emitter2=_interopRequireDefault(__webpack_require__(8)),_base=__webpack_require__(43),_base2=_interopRequireDefault(_base),_selection=__webpack_require__(15),_icons2=_interopRequireDefault(__webpack_require__(41));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var TOOLBAR_CONFIG=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],BubbleTheme=function(_BaseTheme){function BubbleTheme(quill,options){_classCallCheck(this,BubbleTheme),null!=options.modules.toolbar&&null==options.modules.toolbar.container&&(options.modules.toolbar.container=TOOLBAR_CONFIG);var _this=_possibleConstructorReturn(this,(BubbleTheme.__proto__||Object.getPrototypeOf(BubbleTheme)).call(this,quill,options));return _this.quill.container.classList.add("ql-bubble"),_this}return _inherits(BubbleTheme,_BaseTheme),_createClass(BubbleTheme,[{key:"extendToolbar",value:function extendToolbar(toolbar){this.tooltip=new BubbleTooltip(this.quill,this.options.bounds),this.tooltip.root.appendChild(toolbar.container),this.buildButtons([].slice.call(toolbar.container.querySelectorAll("button")),_icons2.default),this.buildPickers([].slice.call(toolbar.container.querySelectorAll("select")),_icons2.default)}}]),BubbleTheme}(_base2.default);BubbleTheme.DEFAULTS=(0,_extend2.default)(!0,{},_base2.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function link(value){value?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var BubbleTooltip=function(_BaseTooltip){function BubbleTooltip(quill,bounds){_classCallCheck(this,BubbleTooltip);var _this2=_possibleConstructorReturn(this,(BubbleTooltip.__proto__||Object.getPrototypeOf(BubbleTooltip)).call(this,quill,bounds));return _this2.quill.on(_emitter2.default.events.EDITOR_CHANGE,(function(type,range,oldRange,source){if(type===_emitter2.default.events.SELECTION_CHANGE)if(null!=range&&range.length>0&&source===_emitter2.default.sources.USER){_this2.show(),_this2.root.style.left="0px",_this2.root.style.width="",_this2.root.style.width=_this2.root.offsetWidth+"px";var lines=_this2.quill.getLines(range.index,range.length);if(1===lines.length)_this2.position(_this2.quill.getBounds(range));else{var lastLine=lines[lines.length-1],index=_this2.quill.getIndex(lastLine),length=Math.min(lastLine.length()-1,range.index+range.length-index),_bounds=_this2.quill.getBounds(new _selection.Range(index,length));_this2.position(_bounds)}}else document.activeElement!==_this2.textbox&&_this2.quill.hasFocus()&&_this2.hide()})),_this2}return _inherits(BubbleTooltip,_BaseTooltip),_createClass(BubbleTooltip,[{key:"listen",value:function listen(){var _this3=this;_get(BubbleTooltip.prototype.__proto__||Object.getPrototypeOf(BubbleTooltip.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",(function(){_this3.root.classList.remove("ql-editing")})),this.quill.on(_emitter2.default.events.SCROLL_OPTIMIZE,(function(){setTimeout((function(){if(!_this3.root.classList.contains("ql-hidden")){var range=_this3.quill.getSelection();null!=range&&_this3.position(_this3.quill.getBounds(range))}}),1)}))}},{key:"cancel",value:function cancel(){this.show()}},{key:"position",value:function position(reference){var shift=_get(BubbleTooltip.prototype.__proto__||Object.getPrototypeOf(BubbleTooltip.prototype),"position",this).call(this,reference),arrow=this.root.querySelector(".ql-tooltip-arrow");if(arrow.style.marginLeft="",0===shift)return shift;arrow.style.marginLeft=-1*shift-arrow.offsetWidth/2+"px"}}]),BubbleTooltip}(_base.BaseTooltip);BubbleTooltip.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),exports.BubbleTooltip=BubbleTooltip,exports.default=BubbleTheme},function(module,exports,__webpack_require__){module.exports=__webpack_require__(63)}]).default})),function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory():"function"==typeof define&&define.amd?define(factory):(global=global||self).Sweetalert2=factory()}(this,(function(){"use strict";const DismissReason=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),capitalizeFirstLetter=str=>str.charAt(0).toUpperCase()+str.slice(1),toArray=nodeList=>Array.prototype.slice.call(nodeList),warn=message=>{console.warn("".concat("SweetAlert2:"," ").concat("object"==typeof message?message.join(" "):message))},error=message=>{console.error("".concat("SweetAlert2:"," ").concat(message))},previousWarnOnceMessages=[],warnAboutDeprecation=(deprecatedParam,useInstead)=>{var message;message='"'.concat(deprecatedParam,'" is deprecated and will be removed in the next major release. Please use "').concat(useInstead,'" instead.'),previousWarnOnceMessages.includes(message)||(previousWarnOnceMessages.push(message),warn(message))},callIfFunction=arg=>"function"==typeof arg?arg():arg,hasToPromiseFn=arg=>arg&&"function"==typeof arg.toPromise,asPromise=arg=>hasToPromiseFn(arg)?arg.toPromise():Promise.resolve(arg),isPromise=arg=>arg&&Promise.resolve(arg)===arg,isElement=elem=>elem instanceof Element||(elem=>"object"==typeof elem&&elem.jquery)(elem),prefix=items=>{const result={};for(const i in items)result[items[i]]="swal2-"+items[i];return result},swalClasses=prefix(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),iconTypes=prefix(["success","warning","info","question","error"]),getContainer=()=>document.body.querySelector(".".concat(swalClasses.container)),elementBySelector=selectorString=>{const container=getContainer();return container?container.querySelector(selectorString):null},elementByClass=className=>elementBySelector(".".concat(className)),getPopup=()=>elementByClass(swalClasses.popup),getIcon=()=>elementByClass(swalClasses.icon),getTitle=()=>elementByClass(swalClasses.title),getHtmlContainer=()=>elementByClass(swalClasses["html-container"]),getImage=()=>elementByClass(swalClasses.image),getProgressSteps=()=>elementByClass(swalClasses["progress-steps"]),getValidationMessage=()=>elementByClass(swalClasses["validation-message"]),getConfirmButton=()=>elementBySelector(".".concat(swalClasses.actions," .").concat(swalClasses.confirm)),getDenyButton=()=>elementBySelector(".".concat(swalClasses.actions," .").concat(swalClasses.deny)),getLoader=()=>elementBySelector(".".concat(swalClasses.loader)),getCancelButton=()=>elementBySelector(".".concat(swalClasses.actions," .").concat(swalClasses.cancel)),getActions=()=>elementByClass(swalClasses.actions),getFooter=()=>elementByClass(swalClasses.footer),getTimerProgressBar=()=>elementByClass(swalClasses["timer-progress-bar"]),getCloseButton=()=>elementByClass(swalClasses.close),getFocusableElements=()=>{const focusableElementsWithTabindex=toArray(getPopup().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort(((a,b)=>(a=parseInt(a.getAttribute("tabindex")))>(b=parseInt(b.getAttribute("tabindex")))?1:a<b?-1:0)),otherFocusableElements=toArray(getPopup().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter((el=>"-1"!==el.getAttribute("tabindex")));return(arr=>{const result=[];for(let i=0;i<arr.length;i++)-1===result.indexOf(arr[i])&&result.push(arr[i]);return result})(focusableElementsWithTabindex.concat(otherFocusableElements)).filter((el=>isVisible(el)))},isModal=()=>!isToast()&&!document.body.classList.contains(swalClasses["no-backdrop"]),isToast=()=>document.body.classList.contains(swalClasses["toast-shown"]),states={previousBodyPadding:null},setInnerHtml=(elem,html)=>{if(elem.textContent="",html){const parsed=(new DOMParser).parseFromString(html,"text/html");toArray(parsed.querySelector("head").childNodes).forEach((child=>{elem.appendChild(child)})),toArray(parsed.querySelector("body").childNodes).forEach((child=>{elem.appendChild(child)}))}},hasClass=(elem,className)=>{if(!className)return!1;const classList=className.split(/\s+/);for(let i=0;i<classList.length;i++)if(!elem.classList.contains(classList[i]))return!1;return!0},applyCustomClass=(elem,params,className)=>{if(((elem,params)=>{toArray(elem.classList).forEach((className=>{Object.values(swalClasses).includes(className)||Object.values(iconTypes).includes(className)||Object.values(params.showClass).includes(className)||elem.classList.remove(className)}))})(elem,params),params.customClass&&params.customClass[className]){if("string"!=typeof params.customClass[className]&&!params.customClass[className].forEach)return warn("Invalid type of customClass.".concat(className,'! Expected string or iterable object, got "').concat(typeof params.customClass[className],'"'));addClass(elem,params.customClass[className])}},getInput=(popup,inputType)=>{if(!inputType)return null;switch(inputType){case"select":case"textarea":case"file":return getChildByClass(popup,swalClasses[inputType]);case"checkbox":return popup.querySelector(".".concat(swalClasses.checkbox," input"));case"radio":return popup.querySelector(".".concat(swalClasses.radio," input:checked"))||popup.querySelector(".".concat(swalClasses.radio," input:first-child"));case"range":return popup.querySelector(".".concat(swalClasses.range," input"));default:return getChildByClass(popup,swalClasses.input)}},focusInput=input=>{if(input.focus(),"file"!==input.type){const val=input.value;input.value="",input.value=val}},toggleClass=(target,classList,condition)=>{target&&classList&&("string"==typeof classList&&(classList=classList.split(/\s+/).filter(Boolean)),classList.forEach((className=>{target.forEach?target.forEach((elem=>{condition?elem.classList.add(className):elem.classList.remove(className)})):condition?target.classList.add(className):target.classList.remove(className)})))},addClass=(target,classList)=>{toggleClass(target,classList,!0)},removeClass=(target,classList)=>{toggleClass(target,classList,!1)},getChildByClass=(elem,className)=>{for(let i=0;i<elem.childNodes.length;i++)if(hasClass(elem.childNodes[i],className))return elem.childNodes[i]},applyNumericalStyle=(elem,property,value)=>{value==="".concat(parseInt(value))&&(value=parseInt(value)),value||0===parseInt(value)?elem.style[property]="number"==typeof value?"".concat(value,"px"):value:elem.style.removeProperty(property)},show=(elem,display="flex")=>{elem.style.display=display},hide=elem=>{elem.style.display="none"},setStyle=(parent,selector,property,value)=>{const el=parent.querySelector(selector);el&&(el.style[property]=value)},toggle=(elem,condition,display)=>{condition?show(elem,display):hide(elem)},isVisible=elem=>!(!elem||!(elem.offsetWidth||elem.offsetHeight||elem.getClientRects().length)),isScrollable=elem=>!!(elem.scrollHeight>elem.clientHeight),hasCssAnimation=elem=>{const style=window.getComputedStyle(elem),animDuration=parseFloat(style.getPropertyValue("animation-duration")||"0"),transDuration=parseFloat(style.getPropertyValue("transition-duration")||"0");return animDuration>0||transDuration>0},animateTimerProgressBar=(timer,reset=!1)=>{const timerProgressBar=getTimerProgressBar();isVisible(timerProgressBar)&&(reset&&(timerProgressBar.style.transition="none",timerProgressBar.style.width="100%"),setTimeout((()=>{timerProgressBar.style.transition="width ".concat(timer/1e3,"s linear"),timerProgressBar.style.width="0%"}),10))},isNodeEnv=()=>"undefined"==typeof window||"undefined"==typeof document,sweetHTML='\n <div aria-labelledby="'.concat(swalClasses.title,'" aria-describedby="').concat(swalClasses["html-container"],'" class="').concat(swalClasses.popup,'" tabindex="-1">\n   <button type="button" class="').concat(swalClasses.close,'"></button>\n   <ul class="').concat(swalClasses["progress-steps"],'"></ul>\n   <div class="').concat(swalClasses.icon,'"></div>\n   <img class="').concat(swalClasses.image,'" />\n   <h2 class="').concat(swalClasses.title,'" id="').concat(swalClasses.title,'"></h2>\n   <div class="').concat(swalClasses["html-container"],'" id="').concat(swalClasses["html-container"],'"></div>\n   <input class="').concat(swalClasses.input,'" />\n   <input type="file" class="').concat(swalClasses.file,'" />\n   <div class="').concat(swalClasses.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(swalClasses.select,'"></select>\n   <div class="').concat(swalClasses.radio,'"></div>\n   <label for="').concat(swalClasses.checkbox,'" class="').concat(swalClasses.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(swalClasses.label,'"></span>\n   </label>\n   <textarea class="').concat(swalClasses.textarea,'"></textarea>\n   <div class="').concat(swalClasses["validation-message"],'" id="').concat(swalClasses["validation-message"],'"></div>\n   <div class="').concat(swalClasses.actions,'">\n     <div class="').concat(swalClasses.loader,'"></div>\n     <button type="button" class="').concat(swalClasses.confirm,'"></button>\n     <button type="button" class="').concat(swalClasses.deny,'"></button>\n     <button type="button" class="').concat(swalClasses.cancel,'"></button>\n   </div>\n   <div class="').concat(swalClasses.footer,'"></div>\n   <div class="').concat(swalClasses["timer-progress-bar-container"],'">\n     <div class="').concat(swalClasses["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),resetValidationMessage=()=>{Swal.isVisible()&&Swal.resetValidationMessage()},init=params=>{const oldContainerExisted=(()=>{const oldContainer=getContainer();return!!oldContainer&&(oldContainer.remove(),removeClass([document.documentElement,document.body],[swalClasses["no-backdrop"],swalClasses["toast-shown"],swalClasses["has-column"]]),!0)})();if(isNodeEnv())return void error("SweetAlert2 requires document to initialize");const container=document.createElement("div");container.className=swalClasses.container,oldContainerExisted&&addClass(container,swalClasses["no-transition"]),setInnerHtml(container,sweetHTML);const targetElement="string"==typeof(target=params.target)?document.querySelector(target):target;var target;targetElement.appendChild(container),(params=>{const popup=getPopup();popup.setAttribute("role",params.toast?"alert":"dialog"),popup.setAttribute("aria-live",params.toast?"polite":"assertive"),params.toast||popup.setAttribute("aria-modal","true")})(params),(targetElement=>{"rtl"===window.getComputedStyle(targetElement).direction&&addClass(getContainer(),swalClasses.rtl)})(targetElement),(()=>{const popup=getPopup(),input=getChildByClass(popup,swalClasses.input),file=getChildByClass(popup,swalClasses.file),range=popup.querySelector(".".concat(swalClasses.range," input")),rangeOutput=popup.querySelector(".".concat(swalClasses.range," output")),select=getChildByClass(popup,swalClasses.select),checkbox=popup.querySelector(".".concat(swalClasses.checkbox," input")),textarea=getChildByClass(popup,swalClasses.textarea);input.oninput=resetValidationMessage,file.onchange=resetValidationMessage,select.onchange=resetValidationMessage,checkbox.onchange=resetValidationMessage,textarea.oninput=resetValidationMessage,range.oninput=()=>{resetValidationMessage(),rangeOutput.value=range.value},range.onchange=()=>{resetValidationMessage(),range.nextSibling.value=range.value}})()},parseHtmlToContainer=(param,target)=>{param instanceof HTMLElement?target.appendChild(param):"object"==typeof param?handleObject(param,target):param&&setInnerHtml(target,param)},handleObject=(param,target)=>{param.jquery?handleJqueryElem(target,param):setInnerHtml(target,param.toString())},handleJqueryElem=(target,elem)=>{if(target.textContent="",0 in elem)for(let i=0;i in elem;i++)target.appendChild(elem[i].cloneNode(!0));else target.appendChild(elem.cloneNode(!0))},animationEndEvent=(()=>{if(isNodeEnv())return!1;const testEl=document.createElement("div"),transEndEventNames={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(const i in transEndEventNames)if(Object.prototype.hasOwnProperty.call(transEndEventNames,i)&&void 0!==testEl.style[i])return transEndEventNames[i];return!1})(),renderActions=(instance,params)=>{const actions=getActions(),loader=getLoader(),confirmButton=getConfirmButton(),denyButton=getDenyButton(),cancelButton=getCancelButton();params.showConfirmButton||params.showDenyButton||params.showCancelButton||hide(actions),applyCustomClass(actions,params,"actions"),renderButton(confirmButton,"confirm",params),renderButton(denyButton,"deny",params),renderButton(cancelButton,"cancel",params),function handleButtonsStyling(confirmButton,denyButton,cancelButton,params){if(!params.buttonsStyling)return removeClass([confirmButton,denyButton,cancelButton],swalClasses.styled);addClass([confirmButton,denyButton,cancelButton],swalClasses.styled),params.confirmButtonColor&&(confirmButton.style.backgroundColor=params.confirmButtonColor,addClass(confirmButton,swalClasses["default-outline"]));params.denyButtonColor&&(denyButton.style.backgroundColor=params.denyButtonColor,addClass(denyButton,swalClasses["default-outline"]));params.cancelButtonColor&&(cancelButton.style.backgroundColor=params.cancelButtonColor,addClass(cancelButton,swalClasses["default-outline"]))}(confirmButton,denyButton,cancelButton,params),params.reverseButtons&&(actions.insertBefore(cancelButton,loader),actions.insertBefore(denyButton,loader),actions.insertBefore(confirmButton,loader)),setInnerHtml(loader,params.loaderHtml),applyCustomClass(loader,params,"loader")};function renderButton(button,buttonType,params){toggle(button,params["show".concat(capitalizeFirstLetter(buttonType),"Button")],"inline-block"),setInnerHtml(button,params["".concat(buttonType,"ButtonText")]),button.setAttribute("aria-label",params["".concat(buttonType,"ButtonAriaLabel")]),button.className=swalClasses[buttonType],applyCustomClass(button,params,"".concat(buttonType,"Button")),addClass(button,params["".concat(buttonType,"ButtonClass")])}const renderContainer=(instance,params)=>{const container=getContainer();container&&(!function handleBackdropParam(container,backdrop){"string"==typeof backdrop?container.style.background=backdrop:backdrop||addClass([document.documentElement,document.body],swalClasses["no-backdrop"])}(container,params.backdrop),function handlePositionParam(container,position){position in swalClasses?addClass(container,swalClasses[position]):(warn('The "position" parameter is not valid, defaulting to "center"'),addClass(container,swalClasses.center))}(container,params.position),function handleGrowParam(container,grow){if(grow&&"string"==typeof grow){const growClass="grow-".concat(grow);growClass in swalClasses&&addClass(container,swalClasses[growClass])}}(container,params.grow),applyCustomClass(container,params,"container"))};var privateProps={promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const inputTypes=["input","file","range","select","radio","checkbox","textarea"],showInput=params=>{if(!renderInputType[params.input])return error('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(params.input,'"'));const inputContainer=getInputContainer(params.input),input=renderInputType[params.input](inputContainer,params);show(input),setTimeout((()=>{focusInput(input)}))},setAttributes=(inputType,inputAttributes)=>{const input=getInput(getPopup(),inputType);if(input){(input=>{for(let i=0;i<input.attributes.length;i++){const attrName=input.attributes[i].name;["type","value","style"].includes(attrName)||input.removeAttribute(attrName)}})(input);for(const attr in inputAttributes)input.setAttribute(attr,inputAttributes[attr])}},setCustomClass=params=>{const inputContainer=getInputContainer(params.input);params.customClass&&addClass(inputContainer,params.customClass.input)},setInputPlaceholder=(input,params)=>{input.placeholder&&!params.inputPlaceholder||(input.placeholder=params.inputPlaceholder)},setInputLabel=(input,prependTo,params)=>{if(params.inputLabel){input.id=swalClasses.input;const label=document.createElement("label"),labelClass=swalClasses["input-label"];label.setAttribute("for",input.id),label.className=labelClass,addClass(label,params.customClass.inputLabel),label.innerText=params.inputLabel,prependTo.insertAdjacentElement("beforebegin",label)}},getInputContainer=inputType=>{const inputClass=swalClasses[inputType]?swalClasses[inputType]:swalClasses.input;return getChildByClass(getPopup(),inputClass)},renderInputType={};renderInputType.text=renderInputType.email=renderInputType.password=renderInputType.number=renderInputType.tel=renderInputType.url=(input,params)=>("string"==typeof params.inputValue||"number"==typeof params.inputValue?input.value=params.inputValue:isPromise(params.inputValue)||warn('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof params.inputValue,'"')),setInputLabel(input,input,params),setInputPlaceholder(input,params),input.type=params.input,input),renderInputType.file=(input,params)=>(setInputLabel(input,input,params),setInputPlaceholder(input,params),input),renderInputType.range=(range,params)=>{const rangeInput=range.querySelector("input"),rangeOutput=range.querySelector("output");return rangeInput.value=params.inputValue,rangeInput.type=params.input,rangeOutput.value=params.inputValue,setInputLabel(rangeInput,range,params),range},renderInputType.select=(select,params)=>{if(select.textContent="",params.inputPlaceholder){const placeholder=document.createElement("option");setInnerHtml(placeholder,params.inputPlaceholder),placeholder.value="",placeholder.disabled=!0,placeholder.selected=!0,select.appendChild(placeholder)}return setInputLabel(select,select,params),select},renderInputType.radio=radio=>(radio.textContent="",radio),renderInputType.checkbox=(checkboxContainer,params)=>{const checkbox=getInput(getPopup(),"checkbox");checkbox.value=1,checkbox.id=swalClasses.checkbox,checkbox.checked=Boolean(params.inputValue);const label=checkboxContainer.querySelector("span");return setInnerHtml(label,params.inputPlaceholder),checkboxContainer},renderInputType.textarea=(textarea,params)=>{textarea.value=params.inputValue,setInputPlaceholder(textarea,params),setInputLabel(textarea,textarea,params);if("MutationObserver"in window){const initialPopupWidth=parseInt(window.getComputedStyle(getPopup()).width);new MutationObserver((()=>{const textareaWidth=textarea.offsetWidth+(el=textarea,parseInt(window.getComputedStyle(el).marginLeft)+parseInt(window.getComputedStyle(el).marginRight));var el;getPopup().style.width=textareaWidth>initialPopupWidth?"".concat(textareaWidth,"px"):null})).observe(textarea,{attributes:!0,attributeFilter:["style"]})}return textarea};const renderContent=(instance,params)=>{const htmlContainer=getHtmlContainer();applyCustomClass(htmlContainer,params,"htmlContainer"),params.html?(parseHtmlToContainer(params.html,htmlContainer),show(htmlContainer,"block")):params.text?(htmlContainer.textContent=params.text,show(htmlContainer,"block")):hide(htmlContainer),((instance,params)=>{const popup=getPopup(),innerParams=privateProps.innerParams.get(instance),rerender=!innerParams||params.input!==innerParams.input;inputTypes.forEach((inputType=>{const inputClass=swalClasses[inputType],inputContainer=getChildByClass(popup,inputClass);setAttributes(inputType,params.inputAttributes),inputContainer.className=inputClass,rerender&&hide(inputContainer)})),params.input&&(rerender&&showInput(params),setCustomClass(params))})(instance,params)},applyStyles=(icon,params)=>{for(const iconType in iconTypes)params.icon!==iconType&&removeClass(icon,iconTypes[iconType]);addClass(icon,iconTypes[params.icon]),setColor(icon,params),adjustSuccessIconBackgoundColor(),applyCustomClass(icon,params,"icon")},adjustSuccessIconBackgoundColor=()=>{const popup=getPopup(),popupBackgroundColor=window.getComputedStyle(popup).getPropertyValue("background-color"),successIconParts=popup.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let i=0;i<successIconParts.length;i++)successIconParts[i].style.backgroundColor=popupBackgroundColor},setContent=(icon,params)=>{if(icon.textContent="",params.iconHtml)setInnerHtml(icon,iconContent(params.iconHtml));else if("success"===params.icon)setInnerHtml(icon,'\n      <div class="swal2-success-circular-line-left"></div>\n      <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n      <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n      <div class="swal2-success-circular-line-right"></div>\n    ');else if("error"===params.icon)setInnerHtml(icon,'\n      <span class="swal2-x-mark">\n        <span class="swal2-x-mark-line-left"></span>\n        <span class="swal2-x-mark-line-right"></span>\n      </span>\n    ');else{setInnerHtml(icon,iconContent({question:"?",warning:"!",info:"i"}[params.icon]))}},setColor=(icon,params)=>{if(params.iconColor){icon.style.color=params.iconColor,icon.style.borderColor=params.iconColor;for(const sel of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])setStyle(icon,sel,"backgroundColor",params.iconColor);setStyle(icon,".swal2-success-ring","borderColor",params.iconColor)}},iconContent=content=>'<div class="'.concat(swalClasses["icon-content"],'">').concat(content,"</div>"),renderProgressSteps=(instance,params)=>{const progressStepsContainer=getProgressSteps();if(!params.progressSteps||0===params.progressSteps.length)return hide(progressStepsContainer);show(progressStepsContainer),progressStepsContainer.textContent="",params.currentProgressStep>=params.progressSteps.length&&warn("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),params.progressSteps.forEach(((step,index)=>{const stepEl=(step=>{const stepEl=document.createElement("li");return addClass(stepEl,swalClasses["progress-step"]),setInnerHtml(stepEl,step),stepEl})(step);if(progressStepsContainer.appendChild(stepEl),index===params.currentProgressStep&&addClass(stepEl,swalClasses["active-progress-step"]),index!==params.progressSteps.length-1){const lineEl=(params=>{const lineEl=document.createElement("li");return addClass(lineEl,swalClasses["progress-step-line"]),params.progressStepsDistance&&(lineEl.style.width=params.progressStepsDistance),lineEl})(params);progressStepsContainer.appendChild(lineEl)}}))},addClasses=(popup,params)=>{popup.className="".concat(swalClasses.popup," ").concat(isVisible(popup)?params.showClass.popup:""),params.toast?(addClass([document.documentElement,document.body],swalClasses["toast-shown"]),addClass(popup,swalClasses.toast)):addClass(popup,swalClasses.modal),applyCustomClass(popup,params,"popup"),"string"==typeof params.customClass&&addClass(popup,params.customClass),params.icon&&addClass(popup,swalClasses["icon-".concat(params.icon)])},render=(instance,params)=>{((instance,params)=>{const container=getContainer(),popup=getPopup();params.toast?(applyNumericalStyle(container,"width",params.width),popup.style.width="100%",popup.insertBefore(getLoader(),getIcon())):applyNumericalStyle(popup,"width",params.width),applyNumericalStyle(popup,"padding",params.padding),params.background&&(popup.style.background=params.background),hide(getValidationMessage()),addClasses(popup,params)})(0,params),renderContainer(0,params),renderProgressSteps(0,params),((instance,params)=>{const innerParams=privateProps.innerParams.get(instance),icon=getIcon();innerParams&&params.icon===innerParams.icon?(setContent(icon,params),applyStyles(icon,params)):params.icon||params.iconHtml?params.icon&&-1===Object.keys(iconTypes).indexOf(params.icon)?(error('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(params.icon,'"')),hide(icon)):(show(icon),setContent(icon,params),applyStyles(icon,params),addClass(icon,params.showClass.icon)):hide(icon)})(instance,params),((instance,params)=>{const image=getImage();if(!params.imageUrl)return hide(image);show(image,""),image.setAttribute("src",params.imageUrl),image.setAttribute("alt",params.imageAlt),applyNumericalStyle(image,"width",params.imageWidth),applyNumericalStyle(image,"height",params.imageHeight),image.className=swalClasses.image,applyCustomClass(image,params,"image")})(0,params),((instance,params)=>{const title=getTitle();toggle(title,params.title||params.titleText,"block"),params.title&&parseHtmlToContainer(params.title,title),params.titleText&&(title.innerText=params.titleText),applyCustomClass(title,params,"title")})(0,params),((instance,params)=>{const closeButton=getCloseButton();setInnerHtml(closeButton,params.closeButtonHtml),applyCustomClass(closeButton,params,"closeButton"),toggle(closeButton,params.showCloseButton),closeButton.setAttribute("aria-label",params.closeButtonAriaLabel)})(0,params),renderContent(instance,params),renderActions(0,params),((instance,params)=>{const footer=getFooter();toggle(footer,params.footer),params.footer&&parseHtmlToContainer(params.footer,footer),applyCustomClass(footer,params,"footer")})(0,params),"function"==typeof params.didRender&&params.didRender(getPopup())},clickConfirm=()=>getConfirmButton()&&getConfirmButton().click();const showLoading=buttonToReplace=>{let popup=getPopup();popup||Swal.fire(),popup=getPopup();const loader=getLoader();isToast()?hide(getIcon()):replaceButton(popup,buttonToReplace),show(loader),popup.setAttribute("data-loading",!0),popup.setAttribute("aria-busy",!0),popup.focus()},replaceButton=(popup,buttonToReplace)=>{const actions=getActions(),loader=getLoader();!buttonToReplace&&isVisible(getConfirmButton())&&(buttonToReplace=getConfirmButton()),show(actions),buttonToReplace&&(hide(buttonToReplace),loader.setAttribute("data-button-to-replace",buttonToReplace.className)),loader.parentNode.insertBefore(loader,buttonToReplace),addClass([popup,actions],swalClasses.loading)},globalState={},restoreActiveElement=returnFocus=>new Promise((resolve=>{if(!returnFocus)return resolve();const x=window.scrollX,y=window.scrollY;globalState.restoreFocusTimeout=setTimeout((()=>{globalState.previousActiveElement&&globalState.previousActiveElement.focus?(globalState.previousActiveElement.focus(),globalState.previousActiveElement=null):document.body&&document.body.focus(),resolve()}),100),window.scrollTo(x,y)})),stopTimer=()=>{if(globalState.timeout)return(()=>{const timerProgressBar=getTimerProgressBar(),timerProgressBarWidth=parseInt(window.getComputedStyle(timerProgressBar).width);timerProgressBar.style.removeProperty("transition"),timerProgressBar.style.width="100%";const timerProgressBarFullWidth=parseInt(window.getComputedStyle(timerProgressBar).width),timerProgressBarPercent=parseInt(timerProgressBarWidth/timerProgressBarFullWidth*100);timerProgressBar.style.removeProperty("transition"),timerProgressBar.style.width="".concat(timerProgressBarPercent,"%")})(),globalState.timeout.stop()},resumeTimer=()=>{if(globalState.timeout){const remaining=globalState.timeout.start();return animateTimerProgressBar(remaining),remaining}};let bodyClickListenerAdded=!1;const clickHandlers={};const bodyClickListener=event=>{for(let el=event.target;el&&el!==document;el=el.parentNode)for(const attr in clickHandlers){const template=el.getAttribute(attr);if(template)return void clickHandlers[attr].fire({template:template})}},defaultParams={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},updatableParams=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],deprecatedParams={},toastIncompatibleParams=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],isValidParameter=paramName=>Object.prototype.hasOwnProperty.call(defaultParams,paramName),isDeprecatedParameter=paramName=>deprecatedParams[paramName],checkIfParamIsValid=param=>{isValidParameter(param)||warn('Unknown parameter "'.concat(param,'"'))},checkIfToastParamIsValid=param=>{toastIncompatibleParams.includes(param)&&warn('The parameter "'.concat(param,'" is incompatible with toasts'))},checkIfParamIsDeprecated=param=>{isDeprecatedParameter(param)&&warnAboutDeprecation(param,isDeprecatedParameter(param))};var staticMethods=Object.freeze({isValidParameter:isValidParameter,isUpdatableParameter:paramName=>-1!==updatableParams.indexOf(paramName),isDeprecatedParameter:isDeprecatedParameter,argsToParams:args=>{const params={};return"object"!=typeof args[0]||isElement(args[0])?["title","html","icon"].forEach(((name,index)=>{const arg=args[index];"string"==typeof arg||isElement(arg)?params[name]=arg:void 0!==arg&&error("Unexpected type of ".concat(name,'! Expected "string" or "Element", got ').concat(typeof arg))})):Object.assign(params,args[0]),params},isVisible:()=>isVisible(getPopup()),clickConfirm:clickConfirm,clickDeny:()=>getDenyButton()&&getDenyButton().click(),clickCancel:()=>getCancelButton()&&getCancelButton().click(),getContainer:getContainer,getPopup:getPopup,getTitle:getTitle,getHtmlContainer:getHtmlContainer,getImage:getImage,getIcon:getIcon,getInputLabel:()=>elementByClass(swalClasses["input-label"]),getCloseButton:getCloseButton,getActions:getActions,getConfirmButton:getConfirmButton,getDenyButton:getDenyButton,getCancelButton:getCancelButton,getLoader:getLoader,getFooter:getFooter,getTimerProgressBar:getTimerProgressBar,getFocusableElements:getFocusableElements,getValidationMessage:getValidationMessage,isLoading:()=>getPopup().hasAttribute("data-loading"),fire:function fire(...args){return new this(...args)},mixin:function mixin(mixinParams){return class MixinSwal extends(this){_main(params,priorityMixinParams){return super._main(params,Object.assign({},mixinParams,priorityMixinParams))}}},showLoading:showLoading,enableLoading:showLoading,getTimerLeft:()=>globalState.timeout&&globalState.timeout.getTimerLeft(),stopTimer:stopTimer,resumeTimer:resumeTimer,toggleTimer:()=>{const timer=globalState.timeout;return timer&&(timer.running?stopTimer():resumeTimer())},increaseTimer:n=>{if(globalState.timeout){const remaining=globalState.timeout.increase(n);return animateTimerProgressBar(remaining,!0),remaining}},isTimerRunning:()=>globalState.timeout&&globalState.timeout.isRunning(),bindClickHandler:function bindClickHandler(attr="data-swal-template"){clickHandlers[attr]=this,bodyClickListenerAdded||(document.body.addEventListener("click",bodyClickListener),bodyClickListenerAdded=!0)}});function hideLoading(){const innerParams=privateProps.innerParams.get(this);if(!innerParams)return;const domCache=privateProps.domCache.get(this);hide(domCache.loader),isToast()?innerParams.icon&&show(getIcon()):showRelatedButton(domCache),removeClass([domCache.popup,domCache.actions],swalClasses.loading),domCache.popup.removeAttribute("aria-busy"),domCache.popup.removeAttribute("data-loading"),domCache.confirmButton.disabled=!1,domCache.denyButton.disabled=!1,domCache.cancelButton.disabled=!1}const showRelatedButton=domCache=>{const buttonToReplace=domCache.popup.getElementsByClassName(domCache.loader.getAttribute("data-button-to-replace"));buttonToReplace.length?show(buttonToReplace[0],"inline-block"):isVisible(getConfirmButton())||isVisible(getDenyButton())||isVisible(getCancelButton())||hide(domCache.actions)};const fixScrollbar=()=>{null===states.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(states.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(states.previousBodyPadding+(()=>{const scrollDiv=document.createElement("div");scrollDiv.className=swalClasses["scrollbar-measure"],document.body.appendChild(scrollDiv);const scrollbarWidth=scrollDiv.getBoundingClientRect().width-scrollDiv.clientWidth;return document.body.removeChild(scrollDiv),scrollbarWidth})(),"px"))},addBottomPaddingForTallPopups=()=>{if(!navigator.userAgent.match(/(CriOS|FxiOS|EdgiOS|YaBrowser|UCBrowser)/i)){const bottomPanelHeight=44;getPopup().scrollHeight>window.innerHeight-bottomPanelHeight&&(getContainer().style.paddingBottom="".concat(bottomPanelHeight,"px"))}},lockBodyScroll=()=>{const container=getContainer();let preventTouchMove;container.ontouchstart=e=>{preventTouchMove=shouldPreventTouchMove(e)},container.ontouchmove=e=>{preventTouchMove&&(e.preventDefault(),e.stopPropagation())}},shouldPreventTouchMove=event=>{const target=event.target,container=getContainer();return!isStylys(event)&&!isZoom(event)&&(target===container||!(isScrollable(container)||"INPUT"===target.tagName||"TEXTAREA"===target.tagName||isScrollable(getHtmlContainer())&&getHtmlContainer().contains(target)))},isStylys=event=>event.touches&&event.touches.length&&"stylus"===event.touches[0].touchType,isZoom=event=>event.touches&&event.touches.length>1;var privateMethods={swalPromiseResolve:new WeakMap};function removePopupAndResetState(instance,container,returnFocus,didClose){isToast()?triggerDidCloseAndDispose(instance,didClose):(restoreActiveElement(returnFocus).then((()=>triggerDidCloseAndDispose(instance,didClose))),globalState.keydownTarget.removeEventListener("keydown",globalState.keydownHandler,{capture:globalState.keydownListenerCapture}),globalState.keydownHandlerAdded=!1);/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(container.setAttribute("style","display:none !important"),container.removeAttribute("class"),container.innerHTML=""):container.remove(),isModal()&&(null!==states.previousBodyPadding&&(document.body.style.paddingRight="".concat(states.previousBodyPadding,"px"),states.previousBodyPadding=null),(()=>{if(hasClass(document.body,swalClasses.iosfix)){const offset=parseInt(document.body.style.top,10);removeClass(document.body,swalClasses.iosfix),document.body.style.top="",document.body.scrollTop=-1*offset}})(),toArray(document.body.children).forEach((el=>{el.hasAttribute("data-previous-aria-hidden")?(el.setAttribute("aria-hidden",el.getAttribute("data-previous-aria-hidden")),el.removeAttribute("data-previous-aria-hidden")):el.removeAttribute("aria-hidden")}))),function removeBodyClasses(){removeClass([document.documentElement,document.body],[swalClasses.shown,swalClasses["height-auto"],swalClasses["no-backdrop"],swalClasses["toast-shown"]])}()}function close(resolveValue){const popup=getPopup();if(!popup)return;resolveValue=prepareResolveValue(resolveValue);const innerParams=privateProps.innerParams.get(this);if(!innerParams||hasClass(popup,innerParams.hideClass.popup))return;const swalPromiseResolve=privateMethods.swalPromiseResolve.get(this);removeClass(popup,innerParams.showClass.popup),addClass(popup,innerParams.hideClass.popup);const backdrop=getContainer();removeClass(backdrop,innerParams.showClass.backdrop),addClass(backdrop,innerParams.hideClass.backdrop),handlePopupAnimation(this,popup,innerParams),swalPromiseResolve(resolveValue)}const prepareResolveValue=resolveValue=>void 0===resolveValue?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},resolveValue),handlePopupAnimation=(instance,popup,innerParams)=>{const container=getContainer(),animationIsSupported=animationEndEvent&&hasCssAnimation(popup);"function"==typeof innerParams.willClose&&innerParams.willClose(popup),animationIsSupported?animatePopup(instance,popup,container,innerParams.returnFocus,innerParams.didClose):removePopupAndResetState(instance,container,innerParams.returnFocus,innerParams.didClose)},animatePopup=(instance,popup,container,returnFocus,didClose)=>{globalState.swalCloseEventFinishedCallback=removePopupAndResetState.bind(null,instance,container,returnFocus,didClose),popup.addEventListener(animationEndEvent,(function(e){e.target===popup&&(globalState.swalCloseEventFinishedCallback(),delete globalState.swalCloseEventFinishedCallback)}))},triggerDidCloseAndDispose=(instance,didClose)=>{setTimeout((()=>{"function"==typeof didClose&&didClose.bind(instance.params)(),instance._destroy()}))};function setButtonsDisabled(instance,buttons,disabled){const domCache=privateProps.domCache.get(instance);buttons.forEach((button=>{domCache[button].disabled=disabled}))}function setInputDisabled(input,disabled){if(!input)return!1;if("radio"===input.type){const radios=input.parentNode.parentNode.querySelectorAll("input");for(let i=0;i<radios.length;i++)radios[i].disabled=disabled}else input.disabled=disabled}class Timer{constructor(callback,delay){this.callback=callback,this.remaining=delay,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date-this.started),this.remaining}increase(n){const running=this.running;return running&&this.stop(),this.remaining+=n,running&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}var defaultInputValidators={email:(string,validationMessage)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(string)?Promise.resolve():Promise.resolve(validationMessage||"Invalid email address"),url:(string,validationMessage)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(string)?Promise.resolve():Promise.resolve(validationMessage||"Invalid URL")};function setParameters(params){!function setDefaultInputValidators(params){params.inputValidator||Object.keys(defaultInputValidators).forEach((key=>{params.input===key&&(params.inputValidator=defaultInputValidators[key])}))}(params),params.showLoaderOnConfirm&&!params.preConfirm&&warn("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function validateCustomTargetElement(params){(!params.target||"string"==typeof params.target&&!document.querySelector(params.target)||"string"!=typeof params.target&&!params.target.appendChild)&&(warn('Target parameter is not valid, defaulting to "body"'),params.target="body")}(params),"string"==typeof params.title&&(params.title=params.title.split("\n").join("<br />")),init(params)}const swalStringParams=["swal-title","swal-html","swal-footer"],getSwalParams=templateContent=>{const result={};return toArray(templateContent.querySelectorAll("swal-param")).forEach((param=>{showWarningsForAttributes(param,["name","value"]);const paramName=param.getAttribute("name");let value=param.getAttribute("value");"boolean"==typeof defaultParams[paramName]&&"false"===value&&(value=!1),"object"==typeof defaultParams[paramName]&&(value=JSON.parse(value)),result[paramName]=value})),result},getSwalButtons=templateContent=>{const result={};return toArray(templateContent.querySelectorAll("swal-button")).forEach((button=>{showWarningsForAttributes(button,["type","color","aria-label"]);const type=button.getAttribute("type");result["".concat(type,"ButtonText")]=button.innerHTML,result["show".concat(capitalizeFirstLetter(type),"Button")]=!0,button.hasAttribute("color")&&(result["".concat(type,"ButtonColor")]=button.getAttribute("color")),button.hasAttribute("aria-label")&&(result["".concat(type,"ButtonAriaLabel")]=button.getAttribute("aria-label"))})),result},getSwalImage=templateContent=>{const result={},image=templateContent.querySelector("swal-image");return image&&(showWarningsForAttributes(image,["src","width","height","alt"]),image.hasAttribute("src")&&(result.imageUrl=image.getAttribute("src")),image.hasAttribute("width")&&(result.imageWidth=image.getAttribute("width")),image.hasAttribute("height")&&(result.imageHeight=image.getAttribute("height")),image.hasAttribute("alt")&&(result.imageAlt=image.getAttribute("alt"))),result},getSwalIcon=templateContent=>{const result={},icon=templateContent.querySelector("swal-icon");return icon&&(showWarningsForAttributes(icon,["type","color"]),icon.hasAttribute("type")&&(result.icon=icon.getAttribute("type")),icon.hasAttribute("color")&&(result.iconColor=icon.getAttribute("color")),result.iconHtml=icon.innerHTML),result},getSwalInput=templateContent=>{const result={},input=templateContent.querySelector("swal-input");input&&(showWarningsForAttributes(input,["type","label","placeholder","value"]),result.input=input.getAttribute("type")||"text",input.hasAttribute("label")&&(result.inputLabel=input.getAttribute("label")),input.hasAttribute("placeholder")&&(result.inputPlaceholder=input.getAttribute("placeholder")),input.hasAttribute("value")&&(result.inputValue=input.getAttribute("value")));const inputOptions=templateContent.querySelectorAll("swal-input-option");return inputOptions.length&&(result.inputOptions={},toArray(inputOptions).forEach((option=>{showWarningsForAttributes(option,["value"]);const optionValue=option.getAttribute("value"),optionName=option.innerHTML;result.inputOptions[optionValue]=optionName}))),result},getSwalStringParams=(templateContent,paramNames)=>{const result={};for(const i in paramNames){const paramName=paramNames[i],tag=templateContent.querySelector(paramName);tag&&(showWarningsForAttributes(tag,[]),result[paramName.replace(/^swal-/,"")]=tag.innerHTML.trim())}return result},showWarningsForElements=template=>{const allowedElements=swalStringParams.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);toArray(template.children).forEach((el=>{const tagName=el.tagName.toLowerCase();-1===allowedElements.indexOf(tagName)&&warn("Unrecognized element <".concat(tagName,">"))}))},showWarningsForAttributes=(el,allowedAttributes)=>{toArray(el.attributes).forEach((attribute=>{-1===allowedAttributes.indexOf(attribute.name)&&warn(['Unrecognized attribute "'.concat(attribute.name,'" on <').concat(el.tagName.toLowerCase(),">."),"".concat(allowedAttributes.length?"Allowed attributes are: ".concat(allowedAttributes.join(", ")):"To set the value, use HTML within the element.")])}))},openPopup=params=>{const container=getContainer(),popup=getPopup();"function"==typeof params.willOpen&&params.willOpen(popup);const initialBodyOverflow=window.getComputedStyle(document.body).overflowY;addClasses$1(container,popup,params),setTimeout((()=>{setScrollingVisibility(container,popup)}),10),isModal()&&(fixScrollContainer(container,params.scrollbarPadding,initialBodyOverflow),toArray(document.body.children).forEach((el=>{el===getContainer()||el.contains(getContainer())||(el.hasAttribute("aria-hidden")&&el.setAttribute("data-previous-aria-hidden",el.getAttribute("aria-hidden")),el.setAttribute("aria-hidden","true"))}))),isToast()||globalState.previousActiveElement||(globalState.previousActiveElement=document.activeElement),"function"==typeof params.didOpen&&setTimeout((()=>params.didOpen(popup))),removeClass(container,swalClasses["no-transition"])},swalOpenAnimationFinished=event=>{const popup=getPopup();if(event.target!==popup)return;const container=getContainer();popup.removeEventListener(animationEndEvent,swalOpenAnimationFinished),container.style.overflowY="auto"},setScrollingVisibility=(container,popup)=>{animationEndEvent&&hasCssAnimation(popup)?(container.style.overflowY="hidden",popup.addEventListener(animationEndEvent,swalOpenAnimationFinished)):container.style.overflowY="auto"},fixScrollContainer=(container,scrollbarPadding,initialBodyOverflow)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!hasClass(document.body,swalClasses.iosfix)){const offset=document.body.scrollTop;document.body.style.top="".concat(-1*offset,"px"),addClass(document.body,swalClasses.iosfix),lockBodyScroll(),addBottomPaddingForTallPopups()}})(),scrollbarPadding&&"hidden"!==initialBodyOverflow&&fixScrollbar(),setTimeout((()=>{container.scrollTop=0}))},addClasses$1=(container,popup,params)=>{addClass(container,params.showClass.backdrop),popup.style.setProperty("opacity","0","important"),show(popup,"grid"),setTimeout((()=>{addClass(popup,params.showClass.popup),popup.style.removeProperty("opacity")}),10),addClass([document.documentElement,document.body],swalClasses.shown),params.heightAuto&&params.backdrop&&!params.toast&&addClass([document.documentElement,document.body],swalClasses["height-auto"])},getCheckboxValue=input=>input.checked?1:0,getRadioValue=input=>input.checked?input.value:null,getFileValue=input=>input.files.length?null!==input.getAttribute("multiple")?input.files:input.files[0]:null,handleInputOptions=(instance,params)=>{const popup=getPopup(),processInputOptions=inputOptions=>populateInputOptions[params.input](popup,formatInputOptions(inputOptions),params);hasToPromiseFn(params.inputOptions)||isPromise(params.inputOptions)?(showLoading(getConfirmButton()),asPromise(params.inputOptions).then((inputOptions=>{instance.hideLoading(),processInputOptions(inputOptions)}))):"object"==typeof params.inputOptions?processInputOptions(params.inputOptions):error("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof params.inputOptions))},handleInputValue=(instance,params)=>{const input=instance.getInput();hide(input),asPromise(params.inputValue).then((inputValue=>{input.value="number"===params.input?parseFloat(inputValue)||0:"".concat(inputValue),show(input),input.focus(),instance.hideLoading()})).catch((err=>{error("Error in inputValue promise: ".concat(err)),input.value="",show(input),input.focus(),instance.hideLoading()}))},populateInputOptions={select:(popup,inputOptions,params)=>{const select=getChildByClass(popup,swalClasses.select),renderOption=(parent,optionLabel,optionValue)=>{const option=document.createElement("option");option.value=optionValue,setInnerHtml(option,optionLabel),option.selected=isSelected(optionValue,params.inputValue),parent.appendChild(option)};inputOptions.forEach((inputOption=>{const optionValue=inputOption[0],optionLabel=inputOption[1];if(Array.isArray(optionLabel)){const optgroup=document.createElement("optgroup");optgroup.label=optionValue,optgroup.disabled=!1,select.appendChild(optgroup),optionLabel.forEach((o=>renderOption(optgroup,o[1],o[0])))}else renderOption(select,optionLabel,optionValue)})),select.focus()},radio:(popup,inputOptions,params)=>{const radio=getChildByClass(popup,swalClasses.radio);inputOptions.forEach((inputOption=>{const radioValue=inputOption[0],radioLabel=inputOption[1],radioInput=document.createElement("input"),radioLabelElement=document.createElement("label");radioInput.type="radio",radioInput.name=swalClasses.radio,radioInput.value=radioValue,isSelected(radioValue,params.inputValue)&&(radioInput.checked=!0);const label=document.createElement("span");setInnerHtml(label,radioLabel),label.className=swalClasses.label,radioLabelElement.appendChild(radioInput),radioLabelElement.appendChild(label),radio.appendChild(radioLabelElement)}));const radios=radio.querySelectorAll("input");radios.length&&radios[0].focus()}},formatInputOptions=inputOptions=>{const result=[];return"undefined"!=typeof Map&&inputOptions instanceof Map?inputOptions.forEach(((value,key)=>{let valueFormatted=value;"object"==typeof valueFormatted&&(valueFormatted=formatInputOptions(valueFormatted)),result.push([key,valueFormatted])})):Object.keys(inputOptions).forEach((key=>{let valueFormatted=inputOptions[key];"object"==typeof valueFormatted&&(valueFormatted=formatInputOptions(valueFormatted)),result.push([key,valueFormatted])})),result},isSelected=(optionValue,inputValue)=>inputValue&&inputValue.toString()===optionValue.toString(),handleConfirmOrDenyWithInput=(instance,innerParams,type)=>{const inputValue=((instance,innerParams)=>{const input=instance.getInput();if(!input)return null;switch(innerParams.input){case"checkbox":return getCheckboxValue(input);case"radio":return getRadioValue(input);case"file":return getFileValue(input);default:return innerParams.inputAutoTrim?input.value.trim():input.value}})(instance,innerParams);innerParams.inputValidator?handleInputValidator(instance,innerParams,inputValue,type):instance.getInput().checkValidity()?"deny"===type?deny(instance,innerParams,inputValue):confirm(instance,innerParams,inputValue):(instance.enableButtons(),instance.showValidationMessage(innerParams.validationMessage))},handleInputValidator=(instance,innerParams,inputValue,type)=>{instance.disableInput();Promise.resolve().then((()=>asPromise(innerParams.inputValidator(inputValue,innerParams.validationMessage)))).then((validationMessage=>{instance.enableButtons(),instance.enableInput(),validationMessage?instance.showValidationMessage(validationMessage):"deny"===type?deny(instance,innerParams,inputValue):confirm(instance,innerParams,inputValue)}))},deny=(instance,innerParams,value)=>{if(innerParams.showLoaderOnDeny&&showLoading(getDenyButton()),innerParams.preDeny){Promise.resolve().then((()=>asPromise(innerParams.preDeny(value,innerParams.validationMessage)))).then((preDenyValue=>{!1===preDenyValue?instance.hideLoading():instance.closePopup({isDenied:!0,value:void 0===preDenyValue?value:preDenyValue})}))}else instance.closePopup({isDenied:!0,value:value})},succeedWith=(instance,value)=>{instance.closePopup({isConfirmed:!0,value:value})},confirm=(instance,innerParams,value)=>{if(innerParams.showLoaderOnConfirm&&showLoading(),innerParams.preConfirm){instance.resetValidationMessage();Promise.resolve().then((()=>asPromise(innerParams.preConfirm(value,innerParams.validationMessage)))).then((preConfirmValue=>{isVisible(getValidationMessage())||!1===preConfirmValue?instance.hideLoading():succeedWith(instance,void 0===preConfirmValue?value:preConfirmValue)}))}else succeedWith(instance,value)},setFocus=(innerParams,index,increment)=>{const focusableElements=getFocusableElements();if(focusableElements.length)return(index+=increment)===focusableElements.length?index=0:-1===index&&(index=focusableElements.length-1),focusableElements[index].focus();getPopup().focus()},arrowKeysNextButton=["ArrowRight","ArrowDown"],arrowKeysPreviousButton=["ArrowLeft","ArrowUp"],keydownHandler=(instance,e,dismissWith)=>{const innerParams=privateProps.innerParams.get(instance);innerParams&&(innerParams.stopKeydownPropagation&&e.stopPropagation(),"Enter"===e.key?handleEnter(instance,e,innerParams):"Tab"===e.key?handleTab(e,innerParams):[...arrowKeysNextButton,...arrowKeysPreviousButton].includes(e.key)?handleArrows(e.key):"Escape"===e.key&&handleEsc(e,innerParams,dismissWith))},handleEnter=(instance,e,innerParams)=>{if(!e.isComposing&&e.target&&instance.getInput()&&e.target.outerHTML===instance.getInput().outerHTML){if(["textarea","file"].includes(innerParams.input))return;clickConfirm(),e.preventDefault()}},handleTab=(e,innerParams)=>{const targetElement=e.target,focusableElements=getFocusableElements();let btnIndex=-1;for(let i=0;i<focusableElements.length;i++)if(targetElement===focusableElements[i]){btnIndex=i;break}e.shiftKey?setFocus(0,btnIndex,-1):setFocus(0,btnIndex,1),e.stopPropagation(),e.preventDefault()},handleArrows=key=>{if(![getConfirmButton(),getDenyButton(),getCancelButton()].includes(document.activeElement))return;const sibling=arrowKeysNextButton.includes(key)?"nextElementSibling":"previousElementSibling",buttonToFocus=document.activeElement[sibling];buttonToFocus&&buttonToFocus.focus()},handleEsc=(e,innerParams,dismissWith)=>{callIfFunction(innerParams.allowEscapeKey)&&(e.preventDefault(),dismissWith(DismissReason.esc))},handleToastClick=(instance,domCache,dismissWith)=>{domCache.popup.onclick=()=>{const innerParams=privateProps.innerParams.get(instance);innerParams.showConfirmButton||innerParams.showDenyButton||innerParams.showCancelButton||innerParams.showCloseButton||innerParams.timer||innerParams.input||dismissWith(DismissReason.close)}};let ignoreOutsideClick=!1;const handleModalMousedown=domCache=>{domCache.popup.onmousedown=()=>{domCache.container.onmouseup=function(e){domCache.container.onmouseup=void 0,e.target===domCache.container&&(ignoreOutsideClick=!0)}}},handleContainerMousedown=domCache=>{domCache.container.onmousedown=()=>{domCache.popup.onmouseup=function(e){domCache.popup.onmouseup=void 0,(e.target===domCache.popup||domCache.popup.contains(e.target))&&(ignoreOutsideClick=!0)}}},handleModalClick=(instance,domCache,dismissWith)=>{domCache.container.onclick=e=>{const innerParams=privateProps.innerParams.get(instance);ignoreOutsideClick?ignoreOutsideClick=!1:e.target===domCache.container&&callIfFunction(innerParams.allowOutsideClick)&&dismissWith(DismissReason.backdrop)}};const prepareParams=(userParams,mixinParams)=>{const templateParams=(params=>{const template="string"==typeof params.template?document.querySelector(params.template):params.template;if(!template)return{};const templateContent=template.content;return showWarningsForElements(templateContent),Object.assign(getSwalParams(templateContent),getSwalButtons(templateContent),getSwalImage(templateContent),getSwalIcon(templateContent),getSwalInput(templateContent),getSwalStringParams(templateContent,swalStringParams))})(userParams),params=Object.assign({},defaultParams,mixinParams,templateParams,userParams);return params.showClass=Object.assign({},defaultParams.showClass,params.showClass),params.hideClass=Object.assign({},defaultParams.hideClass,params.hideClass),params},swalPromise=(instance,domCache,innerParams)=>new Promise((resolve=>{const dismissWith=dismiss=>{instance.closePopup({isDismissed:!0,dismiss:dismiss})};privateMethods.swalPromiseResolve.set(instance,resolve),domCache.confirmButton.onclick=()=>((instance,innerParams)=>{instance.disableButtons(),innerParams.input?handleConfirmOrDenyWithInput(instance,innerParams,"confirm"):confirm(instance,innerParams,!0)})(instance,innerParams),domCache.denyButton.onclick=()=>((instance,innerParams)=>{instance.disableButtons(),innerParams.returnInputValueOnDeny?handleConfirmOrDenyWithInput(instance,innerParams,"deny"):deny(instance,innerParams,!1)})(instance,innerParams),domCache.cancelButton.onclick=()=>((instance,dismissWith)=>{instance.disableButtons(),dismissWith(DismissReason.cancel)})(instance,dismissWith),domCache.closeButton.onclick=()=>dismissWith(DismissReason.close),((instance,domCache,dismissWith)=>{privateProps.innerParams.get(instance).toast?handleToastClick(instance,domCache,dismissWith):(handleModalMousedown(domCache),handleContainerMousedown(domCache),handleModalClick(instance,domCache,dismissWith))})(instance,domCache,dismissWith),((instance,globalState,innerParams,dismissWith)=>{globalState.keydownTarget&&globalState.keydownHandlerAdded&&(globalState.keydownTarget.removeEventListener("keydown",globalState.keydownHandler,{capture:globalState.keydownListenerCapture}),globalState.keydownHandlerAdded=!1),innerParams.toast||(globalState.keydownHandler=e=>keydownHandler(instance,e,dismissWith),globalState.keydownTarget=innerParams.keydownListenerCapture?window:getPopup(),globalState.keydownListenerCapture=innerParams.keydownListenerCapture,globalState.keydownTarget.addEventListener("keydown",globalState.keydownHandler,{capture:globalState.keydownListenerCapture}),globalState.keydownHandlerAdded=!0)})(instance,globalState,innerParams,dismissWith),((instance,params)=>{"select"===params.input||"radio"===params.input?handleInputOptions(instance,params):["text","email","number","tel","textarea"].includes(params.input)&&(hasToPromiseFn(params.inputValue)||isPromise(params.inputValue))&&(showLoading(getConfirmButton()),handleInputValue(instance,params))})(instance,innerParams),openPopup(innerParams),setupTimer(globalState,innerParams,dismissWith),initFocus(domCache,innerParams),setTimeout((()=>{domCache.container.scrollTop=0}))})),populateDomCache=instance=>{const domCache={popup:getPopup(),container:getContainer(),actions:getActions(),confirmButton:getConfirmButton(),denyButton:getDenyButton(),cancelButton:getCancelButton(),loader:getLoader(),closeButton:getCloseButton(),validationMessage:getValidationMessage(),progressSteps:getProgressSteps()};return privateProps.domCache.set(instance,domCache),domCache},setupTimer=(globalState$$1,innerParams,dismissWith)=>{const timerProgressBar=getTimerProgressBar();hide(timerProgressBar),innerParams.timer&&(globalState$$1.timeout=new Timer((()=>{dismissWith("timer"),delete globalState$$1.timeout}),innerParams.timer),innerParams.timerProgressBar&&(show(timerProgressBar),setTimeout((()=>{globalState$$1.timeout&&globalState$$1.timeout.running&&animateTimerProgressBar(innerParams.timer)}))))},initFocus=(domCache,innerParams)=>{if(!innerParams.toast)return callIfFunction(innerParams.allowEnterKey)?void(focusButton(domCache,innerParams)||setFocus(0,-1,1)):blurActiveElement()},focusButton=(domCache,innerParams)=>innerParams.focusDeny&&isVisible(domCache.denyButton)?(domCache.denyButton.focus(),!0):innerParams.focusCancel&&isVisible(domCache.cancelButton)?(domCache.cancelButton.focus(),!0):!(!innerParams.focusConfirm||!isVisible(domCache.confirmButton))&&(domCache.confirmButton.focus(),!0),blurActiveElement=()=>{document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};const disposeSwal=instance=>{delete instance.params,delete globalState.keydownHandler,delete globalState.keydownTarget,unsetWeakMaps(privateProps),unsetWeakMaps(privateMethods)},unsetWeakMaps=obj=>{for(const i in obj)obj[i]=new WeakMap};var instanceMethods=Object.freeze({hideLoading:hideLoading,disableLoading:hideLoading,getInput:function getInput$1(instance){const innerParams=privateProps.innerParams.get(instance||this),domCache=privateProps.domCache.get(instance||this);return domCache?getInput(domCache.popup,innerParams.input):null},close:close,closePopup:close,closeModal:close,closeToast:close,enableButtons:function enableButtons(){setButtonsDisabled(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function disableButtons(){setButtonsDisabled(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function enableInput(){return setInputDisabled(this.getInput(),!1)},disableInput:function disableInput(){return setInputDisabled(this.getInput(),!0)},showValidationMessage:function showValidationMessage(error){const domCache=privateProps.domCache.get(this),params=privateProps.innerParams.get(this);setInnerHtml(domCache.validationMessage,error),domCache.validationMessage.className=swalClasses["validation-message"],params.customClass&&params.customClass.validationMessage&&addClass(domCache.validationMessage,params.customClass.validationMessage),show(domCache.validationMessage);const input=this.getInput();input&&(input.setAttribute("aria-invalid",!0),input.setAttribute("aria-describedby",swalClasses["validation-message"]),focusInput(input),addClass(input,swalClasses.inputerror))},resetValidationMessage:function resetValidationMessage$1(){const domCache=privateProps.domCache.get(this);domCache.validationMessage&&hide(domCache.validationMessage);const input=this.getInput();input&&(input.removeAttribute("aria-invalid"),input.removeAttribute("aria-describedby"),removeClass(input,swalClasses.inputerror))},getProgressSteps:function getProgressSteps$1(){return privateProps.domCache.get(this).progressSteps},_main:function _main(userParams,mixinParams={}){(params=>{!params.backdrop&&params.allowOutsideClick&&warn('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const param in params)checkIfParamIsValid(param),params.toast&&checkIfToastParamIsValid(param),checkIfParamIsDeprecated(param)})(Object.assign({},mixinParams,userParams)),globalState.currentInstance&&globalState.currentInstance._destroy(),globalState.currentInstance=this;const innerParams=prepareParams(userParams,mixinParams);setParameters(innerParams),Object.freeze(innerParams),globalState.timeout&&(globalState.timeout.stop(),delete globalState.timeout),clearTimeout(globalState.restoreFocusTimeout);const domCache=populateDomCache(this);return render(this,innerParams),privateProps.innerParams.set(this,innerParams),swalPromise(this,domCache,innerParams)},update:function update(params){const popup=getPopup(),innerParams=privateProps.innerParams.get(this);if(!popup||hasClass(popup,innerParams.hideClass.popup))return warn("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const validUpdatableParams={};Object.keys(params).forEach((param=>{Swal.isUpdatableParameter(param)?validUpdatableParams[param]=params[param]:warn('Invalid parameter to update: "'.concat(param,'". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js\n\nIf you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md'))}));const updatedParams=Object.assign({},innerParams,validUpdatableParams);render(this,updatedParams),privateProps.innerParams.set(this,updatedParams),Object.defineProperties(this,{params:{value:Object.assign({},this.params,params),writable:!1,enumerable:!0}})},_destroy:function _destroy(){const domCache=privateProps.domCache.get(this),innerParams=privateProps.innerParams.get(this);innerParams&&(domCache.popup&&globalState.swalCloseEventFinishedCallback&&(globalState.swalCloseEventFinishedCallback(),delete globalState.swalCloseEventFinishedCallback),globalState.deferDisposalTimer&&(clearTimeout(globalState.deferDisposalTimer),delete globalState.deferDisposalTimer),"function"==typeof innerParams.didDestroy&&innerParams.didDestroy(),disposeSwal(this))}});let currentInstance;class SweetAlert{constructor(...args){if("undefined"==typeof window)return;currentInstance=this;const outerParams=Object.freeze(this.constructor.argsToParams(args));Object.defineProperties(this,{params:{value:outerParams,writable:!1,enumerable:!0,configurable:!0}});const promise=this._main(this.params);privateProps.promise.set(this,promise)}then(onFulfilled){return privateProps.promise.get(this).then(onFulfilled)}finally(onFinally){return privateProps.promise.get(this).finally(onFinally)}}Object.assign(SweetAlert.prototype,instanceMethods),Object.assign(SweetAlert,staticMethods),Object.keys(instanceMethods).forEach((key=>{SweetAlert[key]=function(...args){if(currentInstance)return currentInstance[key](...args)}})),SweetAlert.DismissReason=DismissReason,SweetAlert.version="11.0.18";const Swal=SweetAlert;return Swal.default=Swal,Swal})),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),function(e){if(!e.hasInitialised){var t={escapeRegExp:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},hasClass:function(e,t){var i=" ";return 1===e.nodeType&&(i+e.className+i).replace(/[\n\t]/g,i).indexOf(i+t+i)>=0},addClass:function(e,t){e.className+=" "+t},removeClass:function(e,t){var i=new RegExp("\\b"+this.escapeRegExp(t)+"\\b");e.className=e.className.replace(i,"")},interpolateString:function(e,t){return e.replace(/{{([a-z][a-z0-9\-_]*)}}/gi,(function(e){return t(arguments[1])||""}))},getCookie:function(e){var t=("; "+document.cookie).split("; "+e+"=");return t.length<2?void 0:t.pop().split(";").shift()},setCookie:function(e,t,i,n,o,s){var r=new Date;r.setHours(r.getHours()+24*(i||365));var a=[e+"="+t,"expires="+r.toUTCString(),"path="+(o||"/")];n&&a.push("domain="+n),s&&a.push("secure"),document.cookie=a.join(";")},deepExtend:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(i in e&&this.isPlainObject(e[i])&&this.isPlainObject(t[i])?this.deepExtend(e[i],t[i]):e[i]=t[i]);return e},throttle:function(e,t){var i=!1;return function(){i||(e.apply(this,arguments),i=!0,setTimeout((function(){i=!1}),t))}},hash:function(e){var t,i,n=0;if(0===e.length)return n;for(t=0,i=e.length;t<i;++t)n=(n<<5)-n+e.charCodeAt(t),n|=0;return n},normaliseHex:function(e){return"#"==e[0]&&(e=e.substr(1)),3==e.length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),e},getContrast:function(e){return e=this.normaliseHex(e),(299*parseInt(e.substr(0,2),16)+587*parseInt(e.substr(2,2),16)+114*parseInt(e.substr(4,2),16))/1e3>=128?"#000":"#fff"},getLuminance:function(e){var t=parseInt(this.normaliseHex(e),16),i=38+(t>>16),n=38+(t>>8&255),o=38+(255&t);return"#"+(16777216+65536*(i<255?i<1?0:i:255)+256*(n<255?n<1?0:n:255)+(o<255?o<1?0:o:255)).toString(16).slice(1)},isMobile:function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},isPlainObject:function(e){return"object"==typeof e&&null!==e&&e.constructor==Object},traverseDOMPath:function(e,i){return e&&e.parentNode?t.hasClass(e,i)?e:this.traverseDOMPath(e.parentNode,i):null}};e.status={deny:"deny",allow:"allow",dismiss:"dismiss"},e.transitionEnd=function(){var e=document.createElement("div"),t={t:"transitionend",OT:"oTransitionEnd",msT:"MSTransitionEnd",MozT:"transitionend",WebkitT:"webkitTransitionEnd"};for(var i in t)if(t.hasOwnProperty(i)&&void 0!==e.style[i+"ransition"])return t[i];return""}(),e.hasTransition=!!e.transitionEnd;var i=Object.keys(e.status).map(t.escapeRegExp);e.customStyles={},e.Popup=function(){var n={enabled:!0,container:null,cookie:{name:"cookieconsent_status",path:"/",domain:"",expiryDays:365,secure:!1},onPopupOpen:function(){},onPopupClose:function(){},onInitialise:function(e){},onStatusChange:function(e,t){},onRevokeChoice:function(){},onNoCookieLaw:function(e,t){},content:{header:"Cookies used on the website!",message:"This website uses cookies to ensure you get the best experience on our website.",dismiss:"Got it!",allow:"Allow cookies",deny:"Decline",link:"Learn more",href:"https://www.cookiesandyou.com",close:"&#x274c;",target:"_blank",policy:"Cookie Policy"},elements:{header:'<span class="cc-header">{{header}}</span>&nbsp;',message:'<span id="cookieconsent:desc" class="cc-message">{{message}}</span>',messagelink:'<span id="cookieconsent:desc" class="cc-message">{{message}} <a aria-label="learn more about cookies" role=button tabindex="0" class="cc-link" href="{{href}}" rel="noopener noreferrer nofollow" target="{{target}}">{{link}}</a></span>',dismiss:'<a aria-label="dismiss cookie message" role=button tabindex="0" class="cc-btn cc-dismiss">{{dismiss}}</a>',allow:'<a aria-label="allow cookies" role=button tabindex="0"  class="cc-btn cc-allow">{{allow}}</a>',deny:'<a aria-label="deny cookies" role=button tabindex="0" class="cc-btn cc-deny">{{deny}}</a>',link:'<a aria-label="learn more about cookies" role=button tabindex="0" class="cc-link" href="{{href}}" rel="noopener noreferrer nofollow" target="{{target}}">{{link}}</a>',close:'<span aria-label="dismiss cookie message" role=button tabindex="0" class="cc-close">{{close}}</span>'},window:'<div role="dialog" aria-live="polite" aria-label="cookieconsent" aria-describedby="cookieconsent:desc" class="cc-window {{classes}}">\x3c!--googleoff: all--\x3e{{children}}\x3c!--googleon: all--\x3e</div>',revokeBtn:'<div class="cc-revoke {{classes}}">{{policy}}</div>',compliance:{info:'<div class="cc-compliance">{{dismiss}}</div>',"opt-in":'<div class="cc-compliance cc-highlight">{{deny}}{{allow}}</div>',"opt-out":'<div class="cc-compliance cc-highlight">{{deny}}{{allow}}</div>'},type:"info",layouts:{basic:"{{messagelink}}{{compliance}}","basic-close":"{{messagelink}}{{compliance}}{{close}}","basic-header":"{{header}}{{message}}{{link}}{{compliance}}"},layout:"basic",position:"bottom",theme:"block",static:!1,palette:null,revokable:!1,animateRevokable:!0,showLink:!0,dismissOnScroll:!1,dismissOnTimeout:!1,dismissOnWindowClick:!1,ignoreClicksFrom:["cc-revoke","cc-btn"],autoOpen:!0,autoAttach:!0,whitelistPage:[],blacklistPage:[],overrideHTML:null};function o(){this.initialise.apply(this,arguments)}function s(e){this.openingTimeout=null,t.removeClass(e,"cc-invisible")}function r(t){t.style.display="none",t.removeEventListener(e.transitionEnd,this.afterTransition),this.afterTransition=null}function a(){var e=this.options.position.split("-"),t=[];return e.forEach((function(e){t.push("cc-"+e)})),t}function c(n){var o=this.options,s=document.createElement("div"),r=o.container&&1===o.container.nodeType?o.container:document.body;s.innerHTML=n;var a=s.children[0];return a.style.display="none",t.hasClass(a,"cc-window")&&e.hasTransition&&t.addClass(a,"cc-invisible"),this.onButtonClick=function(n){var o=t.traverseDOMPath(n.target,"cc-btn")||n.target;if(t.hasClass(o,"cc-btn")){var s=o.className.match(new RegExp("\\bcc-("+i.join("|")+")\\b")),r=s&&s[1]||!1;r&&(this.setStatus(r),this.close(!0))}t.hasClass(o,"cc-close")&&(this.setStatus(e.status.dismiss),this.close(!0)),t.hasClass(o,"cc-revoke")&&this.revokeChoice()}.bind(this),a.addEventListener("click",this.onButtonClick),o.autoAttach&&(r.firstChild?r.insertBefore(a,r.firstChild):r.appendChild(a)),a}function l(e){return"000000"==(e=t.normaliseHex(e))?"#222":t.getLuminance(e)}function u(e,t){for(var i=0,n=e.length;i<n;++i){var o=e[i];if(o instanceof RegExp&&o.test(t)||"string"==typeof o&&o.length&&o===t)return!0}return!1}return o.prototype.initialise=function(i){this.options&&this.destroy(),t.deepExtend(this.options={},n),t.isPlainObject(i)&&t.deepExtend(this.options,i),function(){var t=this.options.onInitialise.bind(this);if(!window.navigator.cookieEnabled)return t(e.status.deny),!0;if(window.CookiesOK||window.navigator.CookiesOK)return t(e.status.allow),!0;var i=Object.keys(e.status),n=this.getStatus(),o=i.indexOf(n)>=0;return o&&t(n),o}.call(this)&&(this.options.enabled=!1),u(this.options.blacklistPage,location.pathname)&&(this.options.enabled=!1),u(this.options.whitelistPage,location.pathname)&&(this.options.enabled=!0);var o=this.options.window.replace("{{classes}}",function(){var i=this.options,n="top"==i.position||"bottom"==i.position?"banner":"floating";t.isMobile()&&(n="floating");var o=["cc-"+n,"cc-type-"+i.type,"cc-theme-"+i.theme];return i.static&&o.push("cc-static"),o.push.apply(o,a.call(this)),function(i){var n=t.hash(JSON.stringify(i)),o="cc-color-override-"+n,s=t.isPlainObject(i);return this.customStyleSelector=s?o:null,s&&function(i,n,o){if(e.customStyles[i])++e.customStyles[i].references;else{var s={},r=n.popup,a=n.button,c=n.highlight;r&&(r.text=r.text?r.text:t.getContrast(r.background),r.link=r.link?r.link:r.text,s[o+".cc-window"]=["color: "+r.text,"background-color: "+r.background],s[o+".cc-revoke"]=["color: "+r.text,"background-color: "+r.background],s[o+" .cc-link,"+o+" .cc-link:active,"+o+" .cc-link:visited"]=["color: "+r.link],a&&(a.text=a.text?a.text:t.getContrast(a.background),a.border=a.border?a.border:"transparent",s[o+" .cc-btn"]=["color: "+a.text,"border-color: "+a.border,"background-color: "+a.background],a.padding&&s[o+" .cc-btn"].push("padding: "+a.padding),"transparent"!=a.background&&(s[o+" .cc-btn:hover, "+o+" .cc-btn:focus"]=["background-color: "+(a.hover||l(a.background))]),c?(c.text=c.text?c.text:t.getContrast(c.background),c.border=c.border?c.border:"transparent",s[o+" .cc-highlight .cc-btn:first-child"]=["color: "+c.text,"border-color: "+c.border,"background-color: "+c.background]):s[o+" .cc-highlight .cc-btn:first-child"]=["color: "+r.text]));var u=document.createElement("style");document.head.appendChild(u),e.customStyles[i]={references:1,element:u.sheet};var h=-1;for(var p in s)s.hasOwnProperty(p)&&u.sheet.insertRule(p+"{"+s[p].join(";")+"}",++h)}}(n,i,"."+o),s}.call(this,this.options.palette),this.customStyleSelector&&o.push(this.customStyleSelector),o}.call(this).join(" ")).replace("{{children}}",function(){var e={},i=this.options;i.showLink||(i.elements.link="",i.elements.messagelink=i.elements.message),Object.keys(i.elements).forEach((function(n){e[n]=t.interpolateString(i.elements[n],(function(e){var t=i.content[e];return e&&"string"==typeof t&&t.length?t:""}))}));var n=i.compliance[i.type];n||(n=i.compliance.info),e.compliance=t.interpolateString(n,(function(t){return e[t]}));var o=i.layouts[i.layout];return o||(o=i.layouts.basic),t.interpolateString(o,(function(t){return e[t]}))}.call(this)),s=this.options.overrideHTML;if("string"==typeof s&&s.length&&(o=s),this.options.static){var r=c.call(this,'<div class="cc-grower">'+o+"</div>");r.style.display="",this.element=r.firstChild,this.element.style.display="none",t.addClass(this.element,"cc-invisible")}else this.element=c.call(this,o);(function(){var i=this.setStatus.bind(this),n=this.close.bind(this),o=this.options.dismissOnTimeout;"number"==typeof o&&o>=0&&(this.dismissTimeout=window.setTimeout((function(){i(e.status.dismiss),n(!0)}),Math.floor(o)));var s=this.options.dismissOnScroll;if("number"==typeof s&&s>=0){var r=function(t){window.pageYOffset>Math.floor(s)&&(i(e.status.dismiss),n(!0),window.removeEventListener("scroll",r),this.onWindowScroll=null)};this.options.enabled&&(this.onWindowScroll=r,window.addEventListener("scroll",r))}var a=this.options.dismissOnWindowClick,c=this.options.ignoreClicksFrom;if(a){var l=function(o){for(var s=!1,r=o.path.length,a=c.length,u=0;u<r;u++)if(!s)for(var h=0;h<a;h++)s||(s=t.hasClass(o.path[u],c[h]));s||(i(e.status.dismiss),n(!0),window.removeEventListener("click",l),window.removeEventListener("touchend",l),this.onWindowClick=null)}.bind(this);this.options.enabled&&(this.onWindowClick=l,window.addEventListener("click",l),window.addEventListener("touchend",l))}}).call(this),function(){if("info"!=this.options.type&&(this.options.revokable=!0),t.isMobile()&&(this.options.animateRevokable=!1),this.options.revokable){var e=a.call(this);this.options.animateRevokable&&e.push("cc-animate"),this.customStyleSelector&&e.push(this.customStyleSelector);var i=this.options.revokeBtn.replace("{{classes}}",e.join(" ")).replace("{{policy}}",this.options.content.policy);this.revokeBtn=c.call(this,i);var n=this.revokeBtn;if(this.options.animateRevokable){var o=t.throttle((function(e){var i=!1,o=window.innerHeight-20;t.hasClass(n,"cc-top")&&e.clientY<20&&(i=!0),t.hasClass(n,"cc-bottom")&&e.clientY>o&&(i=!0),i?t.hasClass(n,"cc-active")||t.addClass(n,"cc-active"):t.hasClass(n,"cc-active")&&t.removeClass(n,"cc-active")}),200);this.onMouseMove=o,window.addEventListener("mousemove",o)}}}.call(this),this.options.autoOpen&&this.autoOpen()},o.prototype.destroy=function(){this.onButtonClick&&this.element&&(this.element.removeEventListener("click",this.onButtonClick),this.onButtonClick=null),this.dismissTimeout&&(clearTimeout(this.dismissTimeout),this.dismissTimeout=null),this.onWindowScroll&&(window.removeEventListener("scroll",this.onWindowScroll),this.onWindowScroll=null),this.onWindowClick&&(window.removeEventListener("click",this.onWindowClick),this.onWindowClick=null),this.onMouseMove&&(window.removeEventListener("mousemove",this.onMouseMove),this.onMouseMove=null),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null,this.revokeBtn&&this.revokeBtn.parentNode&&this.revokeBtn.parentNode.removeChild(this.revokeBtn),this.revokeBtn=null,function(i){if(t.isPlainObject(i)){var n=t.hash(JSON.stringify(i)),o=e.customStyles[n];if(o&&!--o.references){var s=o.element.ownerNode;s&&s.parentNode&&s.parentNode.removeChild(s),e.customStyles[n]=null}}}(this.options.palette),this.options=null},o.prototype.open=function(t){if(this.element)return this.isOpen()||(e.hasTransition?this.fadeIn():this.element.style.display="",this.options.revokable&&this.toggleRevokeButton(),this.options.onPopupOpen.call(this)),this},o.prototype.close=function(t){if(this.element)return this.isOpen()&&(e.hasTransition?this.fadeOut():this.element.style.display="none",t&&this.options.revokable&&this.toggleRevokeButton(!0),this.options.onPopupClose.call(this)),this},o.prototype.fadeIn=function(){var i=this.element;if(e.hasTransition&&i&&(this.afterTransition&&r.call(this,i),t.hasClass(i,"cc-invisible"))){if(i.style.display="",this.options.static){var n=this.element.clientHeight;this.element.parentNode.style.maxHeight=n+"px"}this.openingTimeout=setTimeout(s.bind(this,i),20)}},o.prototype.fadeOut=function(){var i=this.element;e.hasTransition&&i&&(this.openingTimeout&&(clearTimeout(this.openingTimeout),s.bind(this,i)),t.hasClass(i,"cc-invisible")||(this.options.static&&(this.element.parentNode.style.maxHeight=""),this.afterTransition=r.bind(this,i),i.addEventListener(e.transitionEnd,this.afterTransition),t.addClass(i,"cc-invisible")))},o.prototype.isOpen=function(){return this.element&&""==this.element.style.display&&(!e.hasTransition||!t.hasClass(this.element,"cc-invisible"))},o.prototype.toggleRevokeButton=function(e){this.revokeBtn&&(this.revokeBtn.style.display=e?"":"none")},o.prototype.revokeChoice=function(e){this.options.enabled=!0,this.clearStatus(),this.options.onRevokeChoice.call(this),e||this.autoOpen()},o.prototype.hasAnswered=function(t){return Object.keys(e.status).indexOf(this.getStatus())>=0},o.prototype.hasConsented=function(t){var i=this.getStatus();return i==e.status.allow||i==e.status.dismiss},o.prototype.autoOpen=function(e){!this.hasAnswered()&&this.options.enabled?this.open():this.hasAnswered()&&this.options.revokable&&this.toggleRevokeButton(!0)},o.prototype.setStatus=function(i){var n=this.options.cookie,o=t.getCookie(n.name),s=Object.keys(e.status).indexOf(o)>=0;Object.keys(e.status).indexOf(i)>=0?(t.setCookie(n.name,i,n.expiryDays,n.domain,n.path,n.secure),this.options.onStatusChange.call(this,i,s)):this.clearStatus()},o.prototype.getStatus=function(){return t.getCookie(this.options.cookie.name)},o.prototype.clearStatus=function(){var e=this.options.cookie;t.setCookie(e.name,"",-1,e.domain,e.path)},o}(),e.Location=function(){var e={timeout:5e3,services:["ipinfo"],serviceDefinitions:{ipinfo:function(){return{url:"//ipinfo.io",headers:["Accept: application/json"],callback:function(e,t){try{var i=JSON.parse(t);return i.error?s(i):{code:i.country}}catch(e){return s({error:"Invalid response ("+e+")"})}}}},ipinfodb:function(e){return{url:"//api.ipinfodb.com/v3/ip-country/?key={api_key}&format=json&callback={callback}",isScript:!0,callback:function(e,t){try{var i=JSON.parse(t);return"ERROR"==i.statusCode?s({error:i.statusMessage}):{code:i.countryCode}}catch(e){return s({error:"Invalid response ("+e+")"})}}}},maxmind:function(){return{url:"//js.maxmind.com/js/apis/geoip2/v2.1/geoip2.js",isScript:!0,callback:function(e){window.geoip2?geoip2.country((function(t){try{e({code:t.country.iso_code})}catch(t){e(s(t))}}),(function(t){e(s(t))})):e(new Error("Unexpected response format. The downloaded script should have exported `geoip2` to the global scope"))}}}}};function i(i){t.deepExtend(this.options={},e),t.isPlainObject(i)&&t.deepExtend(this.options,i),this.currentServiceIndex=-1}function n(e,t,i){var n,o=document.createElement("script");o.type="text/"+(e.type||"javascript"),o.src=e.src||e,o.async=!1,o.onreadystatechange=o.onload=function(){var e=o.readyState;clearTimeout(n),t.done||e&&!/loaded|complete/.test(e)||(t.done=!0,t(),o.onreadystatechange=o.onload=null)},document.body.appendChild(o),n=setTimeout((function(){t.done=!0,t(),o.onreadystatechange=o.onload=null}),i)}function o(e,t,i,n,o){var s=new(window.XMLHttpRequest||window.ActiveXObject)("MSXML2.XMLHTTP.3.0");if(s.open(n?"POST":"GET",e,1),s.setRequestHeader("Content-type","application/x-www-form-urlencoded"),Array.isArray(o))for(var r=0,a=o.length;r<a;++r){var c=o[r].split(":",2);s.setRequestHeader(c[0].replace(/^\s+|\s+$/g,""),c[1].replace(/^\s+|\s+$/g,""))}"function"==typeof t&&(s.onreadystatechange=function(){s.readyState>3&&t(s)}),s.send(n)}function s(e){return new Error("Error ["+(e.code||"UNKNOWN")+"]: "+e.error)}return i.prototype.getNextService=function(){var e;do{e=this.getServiceByIdx(++this.currentServiceIndex)}while(this.currentServiceIndex<this.options.services.length&&!e);return e},i.prototype.getServiceByIdx=function(e){var i=this.options.services[e];if("function"==typeof i){var n=i();return n.name&&t.deepExtend(n,this.options.serviceDefinitions[n.name](n)),n}return"string"==typeof i?this.options.serviceDefinitions[i]():t.isPlainObject(i)?this.options.serviceDefinitions[i.name](i):null},i.prototype.locate=function(e,t){var i=this.getNextService();i?(this.callbackComplete=e,this.callbackError=t,this.runService(i,this.runNextServiceOnError.bind(this))):t(new Error("No services to run"))},i.prototype.setupUrl=function(e){var t=this.getCurrentServiceOpts();return e.url.replace(/\{(.*?)\}/g,(function(i,n){if("callback"===n){var o="callback"+Date.now();return window[o]=function(t){e.__JSONP_DATA=JSON.stringify(t)},o}if(n in t.interpolateUrl)return t.interpolateUrl[n]}))},i.prototype.runService=function(e,t){var i=this;e&&e.url&&e.callback&&(e.isScript?n:o)(this.setupUrl(e),(function(n){var o=n?n.responseText:"";e.__JSONP_DATA&&(o=e.__JSONP_DATA,delete e.__JSONP_DATA),i.runServiceCallback.call(i,t,e,o)}),this.options.timeout,e.data,e.headers)},i.prototype.runServiceCallback=function(e,t,i){var n=this,o=t.callback((function(t){o||n.onServiceResult.call(n,e,t)}),i);o&&this.onServiceResult.call(this,e,o)},i.prototype.onServiceResult=function(e,t){t instanceof Error||t&&t.error?e.call(this,t,null):e.call(this,null,t)},i.prototype.runNextServiceOnError=function(e,t){if(e){this.logError(e);var i=this.getNextService();i?this.runService(i,this.runNextServiceOnError.bind(this)):this.completeService.call(this,this.callbackError,new Error("All services failed"))}else this.completeService.call(this,this.callbackComplete,t)},i.prototype.getCurrentServiceOpts=function(){var e=this.options.services[this.currentServiceIndex];return"string"==typeof e?{name:e}:"function"==typeof e?e():t.isPlainObject(e)?e:{}},i.prototype.completeService=function(e,t){this.currentServiceIndex=-1,e&&e(t)},i.prototype.logError=function(e){var t=this.currentServiceIndex,i=this.getServiceByIdx(t);console.warn("The service["+t+"] ("+i.url+") responded with the following error",e)},i}(),e.Law=function(){var e={regionalLaw:!0,hasLaw:["AT","BE","BG","HR","CZ","CY","DK","EE","FI","FR","DE","EL","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","SK","ES","SE","GB","UK","GR","EU"],revokable:["HR","CY","DK","EE","FR","DE","LV","LT","NL","PT","ES"],explicitAction:["HR","IT","ES"]};function i(e){this.initialise.apply(this,arguments)}return i.prototype.initialise=function(i){t.deepExtend(this.options={},e),t.isPlainObject(i)&&t.deepExtend(this.options,i)},i.prototype.get=function(e){var t=this.options;return{hasLaw:t.hasLaw.indexOf(e)>=0,revokable:t.revokable.indexOf(e)>=0,explicitAction:t.explicitAction.indexOf(e)>=0}},i.prototype.applyLaw=function(e,t){var i=this.get(t);return i.hasLaw||(e.enabled=!1,"function"==typeof e.onNoCookieLaw&&e.onNoCookieLaw(t,i)),this.options.regionalLaw&&(i.revokable&&(e.revokable=!0),i.explicitAction&&(e.dismissOnScroll=!1,e.dismissOnTimeout=!1)),e},i}(),e.initialise=function(i,n,o){var s=new e.Law(i.law);n||(n=function(){}),o||(o=function(){});var r=Object.keys(e.status),a=t.getCookie("cookieconsent_status");r.indexOf(a)>=0?n(new e.Popup(i)):e.getCountryCode(i,(function(t){delete i.law,delete i.location,t.code&&(i=s.applyLaw(i,t.code)),n(new e.Popup(i))}),(function(t){delete i.law,delete i.location,o(t,new e.Popup(i))}))},e.getCountryCode=function(t,i,n){t.law&&t.law.countryCode?i({code:t.law.countryCode}):t.location?new e.Location(t.location).locate((function(e){i(e||{})}),n):i({})},e.utils=t,e.hasInitialised=!0,window.cookieconsent=e}}(window.cookieconsent||{});var abp=abp||{};!function(){abp.appPath=abp.appPath||"/",abp.pageLoadTime=new Date,abp.toAbsAppPath=function(path){return 0==path.indexOf("/")&&(path=path.substring(1)),abp.appPath+path},abp.multiTenancy=abp.multiTenancy||{},abp.multiTenancy.isEnabled=!1,abp.multiTenancy.sides={TENANT:1,HOST:2},abp.multiTenancy.tenantIdCookieName="Abp.TenantId",abp.multiTenancy.setTenantIdCookie=function(tenantId){tenantId?abp.utils.setCookieValue(abp.multiTenancy.tenantIdCookieName,tenantId.toString(),new Date((new Date).getTime()+15768e7),abp.appPath,abp.domain):abp.utils.deleteCookie(abp.multiTenancy.tenantIdCookieName,abp.appPath)},abp.multiTenancy.getTenantIdCookie=function(){var value=abp.utils.getCookieValue(abp.multiTenancy.tenantIdCookieName);return value?parseInt(value):null},abp.session=abp.session||{multiTenancySide:abp.multiTenancy.sides.HOST},abp.localization=abp.localization||{},abp.localization.languages=[],abp.localization.currentLanguage={},abp.localization.sources=[],abp.localization.values={},abp.localization.localize=function(key,sourceName){sourceName=sourceName||abp.localization.defaultSourceName;var source=abp.localization.values[sourceName];if(!source)return abp.log.warn("Could not find localization source: "+sourceName),key;var value=source[key];if(null==value)return key;var copiedArguments=Array.prototype.slice.call(arguments,0);return copiedArguments.splice(1,1),copiedArguments[0]=value,abp.utils.formatString.apply(this,copiedArguments)},abp.localization.getSource=function(sourceName){return function(key){var copiedArguments=Array.prototype.slice.call(arguments,0);return copiedArguments.splice(1,0,sourceName),abp.localization.localize.apply(this,copiedArguments)}},abp.localization.isCurrentCulture=function(name){return abp.localization.currentCulture&&abp.localization.currentCulture.name&&0==abp.localization.currentCulture.name.indexOf(name)},abp.localization.defaultSourceName=void 0,abp.localization.abpWeb=abp.localization.getSource("AbpWeb"),abp.auth=abp.auth||{},abp.auth.allPermissions=abp.auth.allPermissions||{},abp.auth.grantedPermissions=abp.auth.grantedPermissions||{},abp.auth.hasPermission=function(permissionName){return abp.auth.isGranted.apply(this,arguments)},abp.auth.hasAnyOfPermissions=function(){return abp.auth.isAnyGranted.apply(this,arguments)},abp.auth.hasAllOfPermissions=function(){return abp.auth.areAllGranted.apply(this,arguments)},abp.auth.isGranted=function(permissionName){return null!=abp.auth.allPermissions[permissionName]&&null!=abp.auth.grantedPermissions[permissionName]},abp.auth.isAnyGranted=function(){if(!arguments||arguments.length<=0)return!0;for(var i=0;i<arguments.length;i++)if(abp.auth.isGranted(arguments[i]))return!0;return!1},abp.auth.areAllGranted=function(){if(!arguments||arguments.length<=0)return!0;for(var i=0;i<arguments.length;i++)if(!abp.auth.isGranted(arguments[i]))return!1;return!0},abp.auth.tokenCookieName="Abp.AuthToken",abp.auth.setToken=function(authToken,expireDate){abp.utils.setCookieValue(abp.auth.tokenCookieName,authToken,expireDate,abp.appPath,abp.domain)},abp.auth.getToken=function(){return abp.utils.getCookieValue(abp.auth.tokenCookieName)},abp.auth.clearToken=function(){abp.auth.setToken()},abp.auth.refreshTokenCookieName="Abp.AuthRefreshToken",abp.auth.setRefreshToken=function(refreshToken,expireDate){abp.utils.setCookieValue(abp.auth.refreshTokenCookieName,refreshToken,expireDate,abp.appPath,abp.domain)},abp.auth.getRefreshToken=function(){return abp.utils.getCookieValue(abp.auth.refreshTokenCookieName)},abp.auth.clearRefreshToken=function(){abp.auth.setRefreshToken()},abp.features=abp.features||{},abp.features.allFeatures=abp.features.allFeatures||{},abp.features.get=function(name){return abp.features.allFeatures[name]},abp.features.getValue=function(name){var feature=abp.features.get(name);if(null!=feature)return feature.value},abp.features.isEnabled=function(name){var value=abp.features.getValue(name);return"true"==value||"True"==value},abp.setting=abp.setting||{},abp.setting.values=abp.setting.values||{},abp.setting.get=function(name){return abp.setting.values[name]},abp.setting.getBoolean=function(name){var value=abp.setting.get(name);return"true"==value||"True"==value},abp.setting.getInt=function(name){return parseInt(abp.setting.values[name])},abp.notifications=abp.notifications||{},abp.notifications.severity={INFO:0,SUCCESS:1,WARN:2,ERROR:3,FATAL:4},abp.notifications.userNotificationState={UNREAD:0,READ:1},abp.notifications.getUserNotificationStateAsString=function(userNotificationState){switch(userNotificationState){case abp.notifications.userNotificationState.READ:return"READ";case abp.notifications.userNotificationState.UNREAD:return"UNREAD";default:return abp.log.warn("Unknown user notification state value: "+userNotificationState),"?"}},abp.notifications.getUiNotifyFuncBySeverity=function(severity){switch(severity){case abp.notifications.severity.SUCCESS:return abp.notify.success;case abp.notifications.severity.WARN:return abp.notify.warn;case abp.notifications.severity.ERROR:case abp.notifications.severity.FATAL:return abp.notify.error;case abp.notifications.severity.INFO:default:return abp.notify.info}},abp.notifications.messageFormatters={},abp.notifications.messageFormatters["Abp.Notifications.MessageNotificationData"]=function(userNotification){return userNotification.notification.data.message||userNotification.notification.data.properties.Message},abp.notifications.messageFormatters["Abp.Notifications.LocalizableMessageNotificationData"]=function(userNotification){var message=userNotification.notification.data.message||userNotification.notification.data.properties.Message,localizedMessage=abp.localization.localize(message.name,message.sourceName);if(userNotification.notification.data.properties)for(var properties=Object.keys(userNotification.notification.data.properties),i=0;i<properties.length;i++)localizedMessage=localizedMessage.replace("{"+properties[i]+"}",userNotification.notification.data.properties[properties[i]]);return localizedMessage},abp.notifications.getFormattedMessageFromUserNotification=function(userNotification){var formatter=abp.notifications.messageFormatters[userNotification.notification.data.type];return formatter?abp.utils.isFunction(formatter)?formatter(userNotification):(abp.log.warn("Message formatter should be a function! It is invalid for data type: "+userNotification.notification.data.type),"?"):(abp.log.warn("No message formatter defined for given data type: "+userNotification.notification.data.type),"?")},abp.notifications.showUiNotifyForUserNotification=function(userNotification,options){var message=abp.notifications.getFormattedMessageFromUserNotification(userNotification);abp.notifications.getUiNotifyFuncBySeverity(userNotification.notification.severity)(message,void 0,options)},abp.log=abp.log||{},abp.log.levels={DEBUG:1,INFO:2,WARN:3,ERROR:4,FATAL:5},abp.log.level=abp.log.levels.DEBUG,abp.log.log=function(logObject,logLevel){window.console&&window.console.log&&(null!=logLevel&&logLevel<abp.log.level||console.log(logObject))},abp.log.debug=function(logObject){abp.log.log("DEBUG: ",abp.log.levels.DEBUG),abp.log.log(logObject,abp.log.levels.DEBUG)},abp.log.info=function(logObject){abp.log.log("INFO: ",abp.log.levels.INFO),abp.log.log(logObject,abp.log.levels.INFO)},abp.log.warn=function(logObject){abp.log.log("WARN: ",abp.log.levels.WARN),abp.log.log(logObject,abp.log.levels.WARN)},abp.log.error=function(logObject){abp.log.log("ERROR: ",abp.log.levels.ERROR),abp.log.log(logObject,abp.log.levels.ERROR)},abp.log.fatal=function(logObject){abp.log.log("FATAL: ",abp.log.levels.FATAL),abp.log.log(logObject,abp.log.levels.FATAL)},abp.notify=abp.notify||{},abp.notify.success=function(message,title,options){abp.log.warn("abp.notify.success is not implemented!")},abp.notify.info=function(message,title,options){abp.log.warn("abp.notify.info is not implemented!")},abp.notify.warn=function(message,title,options){abp.log.warn("abp.notify.warn is not implemented!")},abp.notify.error=function(message,title,options){abp.log.warn("abp.notify.error is not implemented!")},abp.message=abp.message||{};var _callbacks,toUtc,toLocal,showMessage=function(message,title,options){return alert((title||"")+" "+message),$?$.Deferred((function($dfd){$dfd.resolve()})):(abp.log.warn("abp.message can not return promise since jQuery is not defined!"),null)};abp.message.info=function(message,title,options){return abp.log.warn("abp.message.info is not implemented!"),showMessage(message,title)},abp.message.success=function(message,title,options){return abp.log.warn("abp.message.success is not implemented!"),showMessage(message,title)},abp.message.warn=function(message,title,options){return abp.log.warn("abp.message.warn is not implemented!"),showMessage(message,title)},abp.message.error=function(message,title,options){return abp.log.warn("abp.message.error is not implemented!"),showMessage(message,title)},abp.message.confirm=function(message,title,callback,options){abp.log.warn("abp.message.confirm is not implemented!");var result=confirm(message);return callback&&callback(result),$?$.Deferred((function($dfd){$dfd.resolve()})):(abp.log.warn("abp.message can not return promise since jQuery is not defined!"),null)},abp.ui=abp.ui||{},abp.ui.block=function(elm){abp.log.warn("abp.ui.block is not implemented!")},abp.ui.unblock=function(elm){abp.log.warn("abp.ui.unblock is not implemented!")},abp.ui.setBusy=function(elm,optionsOrPromise){abp.log.warn("abp.ui.setBusy is not implemented!")},abp.ui.clearBusy=function(elm){abp.log.warn("abp.ui.clearBusy is not implemented!")},abp.event=(_callbacks={},{on:function(eventName,callback){_callbacks[eventName]||(_callbacks[eventName]=[]),_callbacks[eventName].push(callback)},off:function(eventName,callback){var callbacks=_callbacks[eventName];if(callbacks){for(var index=-1,i=0;i<callbacks.length;i++)if(callbacks[i]===callback){index=i;break}index<0||_callbacks[eventName].splice(index,1)}},trigger:function(eventName){var callbacks=_callbacks[eventName];if(callbacks&&callbacks.length)for(var args=Array.prototype.slice.call(arguments,1),i=0;i<callbacks.length;i++)callbacks[i].apply(this,args)}}),abp.utils=abp.utils||{},abp.utils.createNamespace=function(root,ns){for(var parts=ns.split("."),i=0;i<parts.length;i++)void 0===root[parts[i]]&&(root[parts[i]]={}),root=root[parts[i]];return root},abp.utils.replaceAll=function(str,search,replacement){var fix=search.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return str.replace(new RegExp(fix,"g"),replacement)},abp.utils.formatString=function(){if(arguments.length<1)return null;for(var str=arguments[0],i=1;i<arguments.length;i++){var placeHolder="{"+(i-1)+"}";str=abp.utils.replaceAll(str,placeHolder,arguments[i])}return str},abp.utils.toPascalCase=function(str){return str&&str.length?1===str.length?str.charAt(0).toUpperCase():str.charAt(0).toUpperCase()+str.substr(1):str},abp.utils.toCamelCase=function(str){return str&&str.length?1===str.length?str.charAt(0).toLowerCase():str.charAt(0).toLowerCase()+str.substr(1):str},abp.utils.truncateString=function(str,maxLength){return!str||!str.length||str.length<=maxLength?str:str.substr(0,maxLength)},abp.utils.truncateStringWithPostfix=function(str,maxLength,postfix){return postfix=postfix||"...",!str||!str.length||str.length<=maxLength?str:maxLength<=postfix.length?postfix.substr(0,maxLength):str.substr(0,maxLength-postfix.length)+postfix},abp.utils.isFunction=function(obj){return!!(obj&&obj.constructor&&obj.call&&obj.apply)},abp.utils.buildQueryString=function(parameterInfos,includeQuestionMark){void 0===includeQuestionMark&&(includeQuestionMark=!0);var qs="";function addSeperator(){qs.length?qs+="&":includeQuestionMark&&(qs+="?")}for(var i=0;i<parameterInfos.length;++i){var parameterInfo=parameterInfos[i];if(void 0!==parameterInfo.value)if(null===parameterInfo.value&&(parameterInfo.value=""),addSeperator(),parameterInfo.value.toJSON&&"function"==typeof parameterInfo.value.toJSON)qs=qs+parameterInfo.name+"="+encodeURIComponent(parameterInfo.value.toJSON());else if(Array.isArray(parameterInfo.value)&&parameterInfo.value.length)for(var j=0;j<parameterInfo.value.length;j++)j>0&&addSeperator(),qs=qs+parameterInfo.name+"["+j+"]="+encodeURIComponent(parameterInfo.value[j]);else qs=qs+parameterInfo.name+"="+encodeURIComponent(parameterInfo.value)}return qs},abp.utils.setCookieValue=function(key,value,expireDate,path,domain){var cookieValue=encodeURIComponent(key)+"=";value&&(cookieValue+=encodeURIComponent(value)),expireDate&&(cookieValue=cookieValue+"; expires="+expireDate.toUTCString()),path&&(cookieValue=cookieValue+"; path="+path),domain&&(cookieValue=cookieValue+"; domain="+domain),document.cookie=cookieValue},abp.utils.getCookieValue=function(key){for(var equalities=document.cookie.split("; "),i=0;i<equalities.length;i++)if(equalities[i]){var splitted=equalities[i].split("=");if(2==splitted.length&&decodeURIComponent(splitted[0])===key)return decodeURIComponent(splitted[1]||"")}return null},abp.utils.deleteCookie=function(key,path){var cookieValue=encodeURIComponent(key)+"=";cookieValue=cookieValue+"; expires="+new Date((new Date).getTime()-864e5).toUTCString(),path&&(cookieValue=cookieValue+"; path="+path),document.cookie=cookieValue},abp.utils.getDomain=function(url){var matches=/(https?:){0,1}\/\/((?:[\w\d-]+\.)+[\w\d]{2,})/i.exec(url);return matches&&matches[2]?matches[2]:""},abp.timing=abp.timing||{},abp.timing.utcClockProvider=(toUtc=function(date){return Date.UTC(date.getUTCFullYear(),date.getUTCMonth(),date.getUTCDate(),date.getUTCHours(),date.getUTCMinutes(),date.getUTCSeconds(),date.getUTCMilliseconds())},{now:function(){return toUtc(new Date)},normalize:function(date){return date?new Date(toUtc(date)):date},supportsMultipleTimezone:!0}),abp.timing.localClockProvider=(toLocal=function(date){return new Date(date.getFullYear(),date.getMonth(),date.getDate(),date.getHours(),date.getMinutes(),date.getSeconds(),date.getMilliseconds())},{now:function(){return toLocal(new Date)},normalize:function(date){return date?toLocal(date):date},supportsMultipleTimezone:!1}),abp.timing.unspecifiedClockProvider={now:function(){return new Date},normalize:function(date){return date},supportsMultipleTimezone:!1},abp.timing.convertToUserTimezone=function(date){var utcTime=date.getTime()+6e4*date.getTimezoneOffset(),targetTime=parseInt(utcTime)+parseInt(abp.timing.timeZoneInfo.windows.currentUtcOffsetInMilliseconds);return new Date(targetTime)},abp.clock=abp.clock||{},abp.clock.now=function(){return abp.clock.provider?abp.clock.provider.now():new Date},abp.clock.normalize=function(date){return abp.clock.provider?abp.clock.provider.normalize(date):date},abp.clock.provider=abp.timing.unspecifiedClockProvider,abp.security=abp.security||{},abp.security.antiForgery=abp.security.antiForgery||{},abp.security.antiForgery.tokenCookieName="XSRF-TOKEN",abp.security.antiForgery.tokenHeaderName="X-XSRF-TOKEN",abp.security.antiForgery.getToken=function(){return abp.utils.getCookieValue(abp.security.antiForgery.tokenCookieName)},abp.security.antiForgery.shouldSendToken=function(settings){return void 0===settings.crossDomain||null===settings.crossDomain?abp.utils.getDomain(location.href)===abp.utils.getDomain(settings.url):!settings.crossDomain}}();abp=abp||{};!function(){var showMessage=function(type,message,title,options){title||(title=message,message=void 0),(options=options||{}).title=title,options.icon=type,options.confirmButtonText=options.confirmButtonText||abp.localization.localize("Ok","ANZ104AngularDemo"),options.isHtml?options.html=message:options.text=message;const{isHtml:isHtml,...optionsSafe}=options;return Swal.fire(optionsSafe)};abp.message.info=function(message,title,options){return showMessage("info",message,title,options)},abp.message.success=function(message,title,options){return showMessage("success",message,title,options)},abp.message.warn=function(message,title,options){return showMessage("warning",message,title,options)},abp.message.error=function(message,title,options){return showMessage("error",message,title,options)},abp.message.confirm=function(message,title,callback,options){(options=options||{}).title=title||abp.localization.localize("AreYouSure","ANZ104AngularDemo"),options.icon="warning",options.confirmButtonText=options.confirmButtonText||abp.localization.localize("Yes","ANZ104AngularDemo"),options.cancelButtonText=options.cancelButtonText||abp.localization.localize("Cancel","ANZ104AngularDemo"),options.showCancelButton=!0,options.isHtml?options.html=message:options.text=message;const{isHtml:isHtml,...optionsSafe}=options;return Swal.fire(optionsSafe).then((function(result){callback&&callback(result.value)}))}}();abp=abp||{};!function(){var defaultOptions={position:"bottom-end",showConfirmButton:!1,timer:3e3,padding:0,toast:!0},showNotification=function(type,message,title,options){var icon=options.imageClass?'<i class="mr-2 text-white '+options.imageClass+'"></i>':"";title&&(options.title=icon+'<span class="text-white">'+title+"</span>"),options.html=(title?"":icon)+'<span class="text-white">'+message+"</span>";var combinedOptions=Object.assign({},defaultOptions,options);const{imageClass:imageClass,...combinedOptionsSafe}=combinedOptions;Swal.fire(combinedOptionsSafe)};abp.notify.success=function(message,title,options){showNotification(0,message,title,Object.assign({background:"#34bfa3",imageClass:"fa fa-check-circle"},options))},abp.notify.info=function(message,title,options){showNotification(0,message,title,Object.assign({background:"#36a3f7",imageClass:"fa fa-info-circle"},options))},abp.notify.warn=function(message,title,options){showNotification(0,message,title,Object.assign({background:"#ffb822",imageClass:"fa fa-exclamation-triangle"},options))},abp.notify.error=function(message,title,options){showNotification(0,message,title,Object.assign({background:"#f4516c",imageClass:"fa fa-exclamation-circle"},options))}}(),function(view){"use strict";var base64_ranks,Uint8Array=view.Uint8Array,HTMLCanvasElement=view.HTMLCanvasElement,canvas_proto=HTMLCanvasElement&&HTMLCanvasElement.prototype,is_base64_regex=/\s*;\s*base64\s*(?:;|$)/i,to_data_url="toDataURL",decode_base64=function(base64){for(var rank,code,len=base64.length,buffer=new Uint8Array(len/4*3|0),i=0,outptr=0,last=[0,0],state=0,save=0;len--;)code=base64.charCodeAt(i++),255!==(rank=base64_ranks[code-43])&&undefined!==rank&&(last[1]=last[0],last[0]=code,save=save<<6|rank,4===++state&&(buffer[outptr++]=save>>>16,61!==last[1]&&(buffer[outptr++]=save>>>8),61!==last[0]&&(buffer[outptr++]=save),state=0));return buffer};Uint8Array&&(base64_ranks=new Uint8Array([62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,0,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51])),!HTMLCanvasElement||canvas_proto.toBlob&&canvas_proto.toBlobHD||(canvas_proto.toBlob||(canvas_proto.toBlob=function(callback,type){if(type||(type="image/png"),this.mozGetAsFile)callback(this.mozGetAsFile("canvas",type));else if(this.msToBlob&&/^\s*image\/png\s*(?:$|;)/i.test(type))callback(this.msToBlob());else{var blob,args=Array.prototype.slice.call(arguments,1),dataURI=this[to_data_url].apply(this,args),header_end=dataURI.indexOf(","),data=dataURI.substring(header_end+1),is_base64=is_base64_regex.test(dataURI.substring(0,header_end));Blob.fake?((blob=new Blob).encoding=is_base64?"base64":"URI",blob.data=data,blob.size=data.length):Uint8Array&&(blob=is_base64?new Blob([decode_base64(data)],{type:type}):new Blob([decodeURIComponent(data)],{type:type})),callback(blob)}}),!canvas_proto.toBlobHD&&canvas_proto.toDataURLHD?canvas_proto.toBlobHD=function(){to_data_url="toDataURLHD";var blob=this.toBlob();return to_data_url="toDataURL",blob}:canvas_proto.toBlobHD=canvas_proto.toBlob)}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Popper=e()}(this,(function(){"use strict";for(var t="undefined"!=typeof window&&"undefined"!=typeof document,e=["Edge","Trident","Firefox"],n=0,i=0;i<e.length;i+=1)if(t&&navigator.userAgent.indexOf(e[i])>=0){n=1;break}var o=t&&window.Promise?function(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then((function(){e=!1,t()})))}}:function(t){var e=!1;return function(){e||(e=!0,setTimeout((function(){e=!1,t()}),n))}};function r(t){return t&&"[object Function]"==={}.toString.call(t)}function s(t,e){if(1!==t.nodeType)return[];var n=t.ownerDocument.defaultView.getComputedStyle(t,null);return e?n[e]:n}function l(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function a(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=s(t),n=e.overflow,i=e.overflowX,o=e.overflowY;return/(auto|scroll|overlay)/.test(n+o+i)?t:a(l(t))}var c=t&&!(!window.MSInputMethodContext||!document.documentMode),h=t&&/MSIE 10/.test(navigator.userAgent);function f(t){return 11===t?c:10===t?h:c||h}function p(t){if(!t)return document.documentElement;for(var e=f(10)?document.body:null,n=t.offsetParent||null;n===e&&t.nextElementSibling;)n=(t=t.nextElementSibling).offsetParent;var i=n&&n.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===s(n,"position")?p(n):n:t?t.ownerDocument.documentElement:document.documentElement}function u(t){return null!==t.parentNode?u(t.parentNode):t}function d(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?t:e,o=n?e:t,r=document.createRange();r.setStart(i,0),r.setEnd(o,0);var s,l,a=r.commonAncestorContainer;if(t!==a&&e!==a||i.contains(o))return"BODY"===(l=(s=a).nodeName)||"HTML"!==l&&p(s.firstElementChild)!==s?p(a):a;var c=u(t);return c.host?d(c.host,e):d(t,u(e).host)}function m(t){var e="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=t.nodeName;if("BODY"===n||"HTML"===n){var i=t.ownerDocument.documentElement;return(t.ownerDocument.scrollingElement||i)[e]}return t[e]}function v(t,e){var n="x"===e?"Left":"Top",i="Left"===n?"Right":"Bottom";return parseFloat(t["border"+n+"Width"],10)+parseFloat(t["border"+i+"Width"],10)}function g(t,e,n,i){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],f(10)?parseInt(n["offset"+t])+parseInt(i["margin"+("Height"===t?"Top":"Left")])+parseInt(i["margin"+("Height"===t?"Bottom":"Right")]):0)}function b(t){var e=t.body,n=t.documentElement,i=f(10)&&getComputedStyle(n);return{height:g("Height",e,n,i),width:g("Width",e,n,i)}}var w=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},y=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),E=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},L=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};function T(t){return L({},t,{right:t.left+t.width,bottom:t.top+t.height})}function Y(t){var e={};try{if(f(10)){e=t.getBoundingClientRect();var n=m(t,"top"),i=m(t,"left");e.top+=n,e.left+=i,e.bottom+=n,e.right+=i}else e=t.getBoundingClientRect()}catch(t){}var o={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},r="HTML"===t.nodeName?b(t.ownerDocument):{},l=r.width||t.clientWidth||o.right-o.left,a=r.height||t.clientHeight||o.bottom-o.top,c=t.offsetWidth-l,h=t.offsetHeight-a;if(c||h){var p=s(t);c-=v(p,"x"),h-=v(p,"y"),o.width-=c,o.height-=h}return T(o)}function W(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=f(10),o="HTML"===e.nodeName,r=Y(t),l=Y(e),c=a(t),h=s(e),p=parseFloat(h.borderTopWidth,10),u=parseFloat(h.borderLeftWidth,10);n&&o&&(l.top=Math.max(l.top,0),l.left=Math.max(l.left,0));var d=T({top:r.top-l.top-p,left:r.left-l.left-u,width:r.width,height:r.height});if(d.marginTop=0,d.marginLeft=0,!i&&o){var v=parseFloat(h.marginTop,10),g=parseFloat(h.marginLeft,10);d.top-=p-v,d.bottom-=p-v,d.left-=u-g,d.right-=u-g,d.marginTop=v,d.marginLeft=g}return(i&&!n?e.contains(c):e===c&&"BODY"!==c.nodeName)&&(d=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=m(e,"top"),o=m(e,"left"),r=n?-1:1;return t.top+=i*r,t.bottom+=i*r,t.left+=o*r,t.right+=o*r,t}(d,e)),d}function O(t){if(!t||!t.parentElement||f())return document.documentElement;for(var e=t.parentElement;e&&"none"===s(e,"transform");)e=e.parentElement;return e||document.documentElement}function x(t,e,n,i){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r={top:0,left:0},c=o?O(t):d(t,e);if("viewport"===i)r=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.ownerDocument.documentElement,i=W(t,n),o=Math.max(n.clientWidth,window.innerWidth||0),r=Math.max(n.clientHeight,window.innerHeight||0),s=e?0:m(n),l=e?0:m(n,"left");return T({top:s-i.top+i.marginTop,left:l-i.left+i.marginLeft,width:o,height:r})}(c,o);else{var h=void 0;"scrollParent"===i?"BODY"===(h=a(l(e))).nodeName&&(h=t.ownerDocument.documentElement):h="window"===i?t.ownerDocument.documentElement:i;var f=W(h,c,o);if("HTML"!==h.nodeName||function t(e){var n=e.nodeName;if("BODY"===n||"HTML"===n)return!1;if("fixed"===s(e,"position"))return!0;var i=l(e);return!!i&&t(i)}(c))r=f;else{var p=b(t.ownerDocument),u=p.height,v=p.width;r.top+=f.top-f.marginTop,r.bottom=u+f.top,r.left+=f.left-f.marginLeft,r.right=v+f.left}}var g="number"==typeof(n=n||0);return r.left+=g?n:n.left||0,r.top+=g?n:n.top||0,r.right-=g?n:n.right||0,r.bottom-=g?n:n.bottom||0,r}function X(t,e,n,i,o){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var s=x(n,i,r,o),l={top:{width:s.width,height:e.top-s.top},right:{width:s.right-e.right,height:s.height},bottom:{width:s.width,height:s.bottom-e.bottom},left:{width:e.left-s.left,height:s.height}},a=Object.keys(l).map((function(t){return L({key:t},l[t],{area:(e=l[t],e.width*e.height)});var e})).sort((function(t,e){return e.area-t.area})),c=a.filter((function(t){var e=t.width,i=t.height;return e>=n.clientWidth&&i>=n.clientHeight})),h=c.length>0?c[0].key:a[0].key,f=t.split("-")[1];return h+(f?"-"+f:"")}function S(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return W(n,i?O(e):d(e,n),i)}function H(t){var e=t.ownerDocument.defaultView.getComputedStyle(t),n=parseFloat(e.marginTop||0)+parseFloat(e.marginBottom||0),i=parseFloat(e.marginLeft||0)+parseFloat(e.marginRight||0);return{width:t.offsetWidth+i,height:t.offsetHeight+n}}function _(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,(function(t){return e[t]}))}function R(t,e,n){n=n.split("-")[0];var i=H(t),o={width:i.width,height:i.height},r=-1!==["right","left"].indexOf(n),s=r?"top":"left",l=r?"left":"top",a=r?"height":"width",c=r?"width":"height";return o[s]=e[s]+e[a]/2-i[a]/2,o[l]=n===l?e[l]-i[c]:e[_(l)],o}function M(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function C(t,e,n){return(void 0===n?t:t.slice(0,function(t,e,n){if(Array.prototype.findIndex)return t.findIndex((function(t){return t[e]===n}));var i=M(t,(function(t){return t[e]===n}));return t.indexOf(i)}(t,"name",n))).forEach((function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=t.function||t.fn;t.enabled&&r(n)&&(e.offsets.popper=T(e.offsets.popper),e.offsets.reference=T(e.offsets.reference),e=n(e,t))})),e}function N(t,e){return t.some((function(t){var n=t.name;return t.enabled&&n===e}))}function k(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<e.length;i++){var o=e[i],r=o?""+o+n:t;if(void 0!==document.body.style[r])return r}return null}function A(t){var e=t.ownerDocument;return e?e.defaultView:window}function P(){var t,e;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(t=this.reference,e=this.state,A(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach((function(t){t.removeEventListener("scroll",e.updateBound)})),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e))}function B(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function I(t,e){Object.keys(e).forEach((function(n){var i="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&B(e[n])&&(i="px"),t.style[n]=e[n]+i}))}var j=t&&/Firefox/i.test(navigator.userAgent);function F(t,e,n){var i=M(t,(function(t){return t.name===e})),o=!!i&&t.some((function(t){return t.name===n&&t.enabled&&t.order<i.order}));if(!o){var r="`"+e+"`",s="`"+n+"`";console.warn(s+" modifier is required by "+r+" modifier in order to work, be sure to include it before "+r+"!")}return o}var U=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],K=U.slice(3);function q(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=K.indexOf(t),i=K.slice(n+1).concat(K.slice(0,n));return e?i.reverse():i}var V_FLIP="flip",V_CLOCKWISE="clockwise",V_COUNTERCLOCKWISE="counterclockwise";var G={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(t){var e=t.placement,n=e.split("-")[0],i=e.split("-")[1];if(i){var o=t.offsets,r=o.reference,s=o.popper,l=-1!==["bottom","top"].indexOf(n),a=l?"left":"top",c=l?"width":"height",h={start:E({},a,r[a]),end:E({},a,r[a]+r[c]-s[c])};t.offsets.popper=L({},s,h[i])}return t}},offset:{order:200,enabled:!0,fn:function(t,e){var a,n=e.offset,i=t.placement,o=t.offsets,r=o.popper,s=o.reference,l=i.split("-")[0];return a=B(+n)?[+n,0]:function z(t,e,n,i){var o=[0,0],r=-1!==["right","left"].indexOf(i),s=t.split(/(\+|\-)/).map((function(t){return t.trim()})),l=s.indexOf(M(s,(function(t){return-1!==t.search(/,|\s/)})));s[l]&&-1===s[l].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var a=/\s*,\s*|\s+/,c=-1!==l?[s.slice(0,l).concat([s[l].split(a)[0]]),[s[l].split(a)[1]].concat(s.slice(l+1))]:[s];return(c=c.map((function(t,i){var o=(1===i?!r:r)?"height":"width",s=!1;return t.reduce((function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,s=!0,t):s?(t[t.length-1]+=e,s=!1,t):t.concat(e)}),[]).map((function(t){return function(t,e,n,i){var o=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),r=+o[1],s=o[2];if(!r)return t;if(0===s.indexOf("%")){var l=void 0;switch(s){case"%p":l=n;break;case"%":case"%r":default:l=i}return T(l)[e]/100*r}return"vh"===s||"vw"===s?("vh"===s?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*r:r}(t,o,e,n)}))}))).forEach((function(t,e){t.forEach((function(n,i){B(n)&&(o[e]+=n*("-"===t[i-1]?-1:1))}))})),o}(n,r,s,l),"left"===l?(r.top+=a[0],r.left-=a[1]):"right"===l?(r.top+=a[0],r.left+=a[1]):"top"===l?(r.left+=a[0],r.top-=a[1]):"bottom"===l&&(r.left+=a[0],r.top+=a[1]),t.popper=r,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(t,e){var n=e.boundariesElement||p(t.instance.popper);t.instance.reference===n&&(n=p(n));var i=k("transform"),o=t.instance.popper.style,r=o.top,s=o.left,l=o[i];o.top="",o.left="",o[i]="";var a=x(t.instance.popper,t.instance.reference,e.padding,n,t.positionFixed);o.top=r,o.left=s,o[i]=l,e.boundaries=a;var c=e.priority,h=t.offsets.popper,f={primary:function(t){var n=h[t];return h[t]<a[t]&&!e.escapeWithReference&&(n=Math.max(h[t],a[t])),E({},t,n)},secondary:function(t){var n="right"===t?"left":"top",i=h[n];return h[t]>a[t]&&!e.escapeWithReference&&(i=Math.min(h[n],a[t]-("right"===t?h.width:h.height))),E({},n,i)}};return c.forEach((function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";h=L({},h,f[e](t))})),t.offsets.popper=h,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(t){var e=t.offsets,n=e.popper,i=e.reference,o=t.placement.split("-")[0],r=Math.floor,s=-1!==["top","bottom"].indexOf(o),l=s?"right":"bottom",a=s?"left":"top",c=s?"width":"height";return n[l]<r(i[a])&&(t.offsets.popper[a]=r(i[a])-n[c]),n[a]>r(i[l])&&(t.offsets.popper[a]=r(i[l])),t}},arrow:{order:500,enabled:!0,fn:function(t,e){var n;if(!F(t.instance.modifiers,"arrow","keepTogether"))return t;var i=e.element;if("string"==typeof i){if(!(i=t.instance.popper.querySelector(i)))return t}else if(!t.instance.popper.contains(i))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var o=t.placement.split("-")[0],r=t.offsets,l=r.popper,a=r.reference,c=-1!==["left","right"].indexOf(o),h=c?"height":"width",f=c?"Top":"Left",p=f.toLowerCase(),u=c?"left":"top",d=c?"bottom":"right",m=H(i)[h];a[d]-m<l[p]&&(t.offsets.popper[p]-=l[p]-(a[d]-m)),a[p]+m>l[d]&&(t.offsets.popper[p]+=a[p]+m-l[d]),t.offsets.popper=T(t.offsets.popper);var v=a[p]+a[h]/2-m/2,g=s(t.instance.popper),b=parseFloat(g["margin"+f],10),w=parseFloat(g["border"+f+"Width"],10),y=v-t.offsets.popper[p]-b-w;return y=Math.max(Math.min(l[h]-m,y),0),t.arrowElement=i,t.offsets.arrow=(E(n={},p,Math.round(y)),E(n,u,""),n),t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(t,e){if(N(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var n=x(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),i=t.placement.split("-")[0],o=_(i),r=t.placement.split("-")[1]||"",s=[];switch(e.behavior){case V_FLIP:s=[i,o];break;case V_CLOCKWISE:s=q(i);break;case V_COUNTERCLOCKWISE:s=q(i,!0);break;default:s=e.behavior}return s.forEach((function(l,a){if(i!==l||s.length===a+1)return t;i=t.placement.split("-")[0],o=_(i);var c=t.offsets.popper,h=t.offsets.reference,f=Math.floor,p="left"===i&&f(c.right)>f(h.left)||"right"===i&&f(c.left)<f(h.right)||"top"===i&&f(c.bottom)>f(h.top)||"bottom"===i&&f(c.top)<f(h.bottom),u=f(c.left)<f(n.left),d=f(c.right)>f(n.right),m=f(c.top)<f(n.top),v=f(c.bottom)>f(n.bottom),g="left"===i&&u||"right"===i&&d||"top"===i&&m||"bottom"===i&&v,b=-1!==["top","bottom"].indexOf(i),w=!!e.flipVariations&&(b&&"start"===r&&u||b&&"end"===r&&d||!b&&"start"===r&&m||!b&&"end"===r&&v),y=!!e.flipVariationsByContent&&(b&&"start"===r&&d||b&&"end"===r&&u||!b&&"start"===r&&v||!b&&"end"===r&&m),E=w||y;(p||g||E)&&(t.flipped=!0,(p||g)&&(i=s[a+1]),E&&(r=function(t){return"end"===t?"start":"start"===t?"end":t}(r)),t.placement=i+(r?"-"+r:""),t.offsets.popper=L({},t.offsets.popper,R(t.instance.popper,t.offsets.reference,t.placement)),t=C(t.instance.modifiers,t,"flip"))})),t},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(t){var e=t.placement,n=e.split("-")[0],i=t.offsets,o=i.popper,r=i.reference,s=-1!==["left","right"].indexOf(n),l=-1===["top","left"].indexOf(n);return o[s?"left":"top"]=r[n]-(l?o[s?"width":"height"]:0),t.placement=_(e),t.offsets.popper=T(o),t}},hide:{order:800,enabled:!0,fn:function(t){if(!F(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=M(t.instance.modifiers,(function(t){return"preventOverflow"===t.name})).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function(t,e){var n=e.x,i=e.y,o=t.offsets.popper,r=M(t.instance.modifiers,(function(t){return"applyStyle"===t.name})).gpuAcceleration;void 0!==r&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var m,v,s=void 0!==r?r:e.gpuAcceleration,l=p(t.instance.popper),a=Y(l),c={position:o.position},h=function(t,e){var n=t.offsets,i=n.popper,o=n.reference,r=Math.round,s=Math.floor,l=function(t){return t},a=r(o.width),c=r(i.width),h=-1!==["left","right"].indexOf(t.placement),f=-1!==t.placement.indexOf("-"),p=e?h||f||a%2==c%2?r:s:l,u=e?r:l;return{left:p(a%2==1&&c%2==1&&!f&&e?i.left-1:i.left),top:u(i.top),bottom:u(i.bottom),right:p(i.right)}}(t,window.devicePixelRatio<2||!j),f="bottom"===n?"top":"bottom",u="right"===i?"left":"right",d=k("transform");if(v="bottom"===f?"HTML"===l.nodeName?-l.clientHeight+h.bottom:-a.height+h.bottom:h.top,m="right"===u?"HTML"===l.nodeName?-l.clientWidth+h.right:-a.width+h.right:h.left,s&&d)c[d]="translate3d("+m+"px, "+v+"px, 0)",c[f]=0,c[u]=0,c.willChange="transform";else{var g="bottom"===f?-1:1,b="right"===u?-1:1;c[f]=v*g,c[u]=m*b,c.willChange=f+", "+u}var w={"x-placement":t.placement};return t.attributes=L({},w,t.attributes),t.styles=L({},c,t.styles),t.arrowStyles=L({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(t){var e,n;return I(t.instance.popper,t.styles),e=t.instance.popper,n=t.attributes,Object.keys(n).forEach((function(t){!1!==n[t]?e.setAttribute(t,n[t]):e.removeAttribute(t)})),t.arrowElement&&Object.keys(t.arrowStyles).length&&I(t.arrowElement,t.arrowStyles),t},onLoad:function(t,e,n,i,o){var r=S(o,e,t,n.positionFixed),s=X(n.placement,r,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",s),I(e,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},$=function(){function t(e,n){var i=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};w(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(i.update)},this.update=o(this.update.bind(this)),this.options=L({},t.Defaults,s),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(L({},t.Defaults.modifiers,s.modifiers)).forEach((function(e){i.options.modifiers[e]=L({},t.Defaults.modifiers[e]||{},s.modifiers?s.modifiers[e]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(t){return L({name:t},i.options.modifiers[t])})).sort((function(t,e){return t.order-e.order})),this.modifiers.forEach((function(t){t.enabled&&r(t.onLoad)&&t.onLoad(i.reference,i.popper,i.options,t,i.state)})),this.update();var l=this.options.eventsEnabled;l&&this.enableEventListeners(),this.state.eventsEnabled=l}return y(t,[{key:"update",value:function(){return function(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=S(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=X(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=R(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=C(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,N(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[k("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return function(){this.state.eventsEnabled||(this.state=function D(t,e,n,i){n.updateBound=i,A(t).addEventListener("resize",n.updateBound,{passive:!0});var o=a(t);return function t(e,n,i,o){var r="BODY"===e.nodeName,s=r?e.ownerDocument.defaultView:e;s.addEventListener(n,i,{passive:!0}),r||t(a(s.parentNode),n,i,o),o.push(s)}(o,"scroll",n.updateBound,n.scrollParents),n.scrollElement=o,n.eventsEnabled=!0,n}(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}},{key:"disableEventListeners",value:function(){return P.call(this)}}]),t}();return $.Utils=("undefined"!=typeof window?window:global).PopperUtils,$.placements=U,$.Defaults=G,$})),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("popper.js")):"function"==typeof define&&define.amd?define(["popper.js"],e):t.Tooltip=e(t.Popper)}(this,(function(t){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t;var n=function(){function t(t,e){for(var n,i=0;i<e.length;i++)(n=e[i]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),i=Object.assign||function(t){for(var e,n=1;n<arguments.length;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},o={container:!1,delay:0,html:!1,placement:"top",title:"",template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",offset:0,arrowSelector:".tooltip-arrow, .tooltip__arrow",innerSelector:".tooltip-inner, .tooltip__inner"},r=function(){function r(t,n){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,r),s.call(this),n=i({},o,n),t.jquery&&(t=t[0]),this.reference=t,this.options=n;var l="string"==typeof n.trigger?n.trigger.split(" ").filter((function(t){return-1!==["click","hover","focus"].indexOf(t)})):[];this._isOpen=!1,this._popperOptions={},this._setEventListeners(t,l,n)}return n(r,[{key:"_create",value:function(t,e,n,i){var o=window.document.createElement("div");o.innerHTML=e.trim();var r=o.childNodes[0];r.id="tooltip_"+Math.random().toString(36).substr(2,10),r.setAttribute("aria-hidden","false");var s=o.querySelector(this.options.innerSelector);return this._addTitleContent(t,n,i,s),r}},{key:"_addTitleContent",value:function(t,e,n,i){if(1===e.nodeType||11===e.nodeType)n&&i.appendChild(e);else if(function(t){return t&&"[object Function]"==={}.toString.call(t)}(e)){var o=e.call(t);n?i.innerHTML=o:i.textContent=o}else n?i.innerHTML=e:i.textContent=e}},{key:"_show",value:function(e,n){if(this._isOpen&&!this._isOpening)return this;if(this._isOpen=!0,this._tooltipNode)return this._tooltipNode.style.visibility="visible",this._tooltipNode.setAttribute("aria-hidden","false"),this.popperInstance.update(),this;var o=e.getAttribute("title")||n.title;if(!o)return this;var r=this._create(e,n.template,o,n.html);e.setAttribute("aria-describedby",r.id);var s=this._findContainer(n.container,e);return this._append(r,s),this._popperOptions=i({},n.popperOptions,{placement:n.placement}),this._popperOptions.modifiers=i({},this._popperOptions.modifiers,{arrow:i({},this._popperOptions.modifiers&&this._popperOptions.modifiers.arrow,{element:n.arrowSelector}),offset:i({},this._popperOptions.modifiers&&this._popperOptions.modifiers.offset,{offset:n.offset})}),n.boundariesElement&&(this._popperOptions.modifiers.preventOverflow={boundariesElement:n.boundariesElement}),this.popperInstance=new t(e,r,this._popperOptions),this._tooltipNode=r,this}},{key:"_hide",value:function(){return this._isOpen?(this._isOpen=!1,this._tooltipNode.style.visibility="hidden",this._tooltipNode.setAttribute("aria-hidden","true"),this):this}},{key:"_dispose",value:function(){var t=this;return this._events.forEach((function(e){var n=e.func,i=e.event;t.reference.removeEventListener(i,n)})),this._events=[],this._tooltipNode&&(this._hide(),this.popperInstance.destroy(),!this.popperInstance.options.removeOnDestroy&&(this._tooltipNode.parentNode.removeChild(this._tooltipNode),this._tooltipNode=null)),this}},{key:"_findContainer",value:function(t,e){return"string"==typeof t?t=window.document.querySelector(t):!1===t&&(t=e.parentNode),t}},{key:"_append",value:function(t,e){e.appendChild(t)}},{key:"_setEventListeners",value:function(t,e,n){var i=this,o=[],r=[];e.forEach((function(t){"hover"===t?(o.push("mouseenter"),r.push("mouseleave")):"focus"===t?(o.push("focus"),r.push("blur")):"click"===t&&(o.push("click"),r.push("click"))})),o.forEach((function(e){var o=function(e){!0===i._isOpening||(e.usedByTooltip=!0,i._scheduleShow(t,n.delay,n,e))};i._events.push({event:e,func:o}),t.addEventListener(e,o)})),r.forEach((function(e){var o=function(e){!0===e.usedByTooltip||i._scheduleHide(t,n.delay,n,e)};i._events.push({event:e,func:o}),t.addEventListener(e,o),"click"===e&&n.closeOnClickOutside&&document.addEventListener("mousedown",(function(e){if(i._isOpening){var n=i.popperInstance.popper;t.contains(e.target)||n.contains(e.target)||o(e)}}),!0)}))}},{key:"_scheduleShow",value:function(t,e,n){var i=this;this._isOpening=!0;var o=e&&e.show||e||0;this._showTimeout=window.setTimeout((function(){return i._show(t,n)}),o)}},{key:"_scheduleHide",value:function(t,e,n,i){var o=this;this._isOpening=!1;var r=e&&e.hide||e||0;window.clearTimeout(this._showTimeout),window.setTimeout((function(){if(!1!==o._isOpen&&document.body.contains(o._tooltipNode)){if("mouseleave"===i.type&&o._setTooltipNodeEvent(i,t,e,n))return;o._hide(t,n)}}),r)}},{key:"_updateTitleContent",value:function(t){if(void 0!==this._tooltipNode){var e=this._tooltipNode.querySelector(this.options.innerSelector);this._clearTitleContent(e,this.options.html,this.reference.getAttribute("title")||this.options.title),this._addTitleContent(this.reference,t,this.options.html,e),this.options.title=t,this.popperInstance.update()}else void 0!==this.options.title&&(this.options.title=t)}},{key:"_clearTitleContent",value:function(t,e,n){1===n.nodeType||11===n.nodeType?e&&t.removeChild(n):e?t.innerHTML="":t.textContent=""}}]),r}(),s=function(){var t=this;this.show=function(){return t._show(t.reference,t.options)},this.hide=function(){return t._hide()},this.dispose=function(){return t._dispose()},this.toggle=function(){return t._isOpen?t.hide():t.show()},this.updateTitleContent=function(e){return t._updateTitleContent(e)},this._events=[],this._setTooltipNodeEvent=function(e,n,i,o){var r=e.relatedreference||e.toElement||e.relatedTarget;return!!t._tooltipNode.contains(r)&&(t._tooltipNode.addEventListener(e.type,(function i(r){var s=r.relatedreference||r.toElement||r.relatedTarget;t._tooltipNode.removeEventListener(e.type,i),n.contains(s)||t._scheduleHide(n,o.delay,o,r)})),!0)}};return r})),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.PerfectScrollbar=e()}(this,(function(){"use strict";function t(t){return getComputedStyle(t)}function e(t,e){for(var n in e){var i=e[n];"number"==typeof i&&(i+="px"),t.style[n]=i}return t}function n(t){var e=document.createElement("div");return e.className=t,e}var i="undefined"!=typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function o(t,e){if(!i)throw new Error("No element matching method supported");return i.call(t,e)}function r(t){t.remove?t.remove():t.parentNode&&t.parentNode.removeChild(t)}function s(t,e){return Array.prototype.filter.call(t.children,(function(t){return o(t,e)}))}var l_main="ps",l_element={thumb:function(t){return"ps__thumb-"+t},rail:function(t){return"ps__rail-"+t},consuming:"ps__child--consume"},l_state={focus:"ps--focus",clicking:"ps--clicking",active:function(t){return"ps--active-"+t},scrolling:function(t){return"ps--scrolling-"+t}},a={x:null,y:null};function c(t,e){var n=t.element.classList,i=l_state.scrolling(e);n.contains(i)?clearTimeout(a[e]):n.add(i)}function h(t,e){a[e]=setTimeout((function(){return t.isAlive&&t.element.classList.remove(l_state.scrolling(e))}),t.settings.scrollingThreshold)}var f=function(t){this.element=t,this.handlers={}},p={isEmpty:{configurable:!0}};f.prototype.bind=function(t,e){void 0===this.handlers[t]&&(this.handlers[t]=[]),this.handlers[t].push(e),this.element.addEventListener(t,e,!1)},f.prototype.unbind=function(t,e){var n=this;this.handlers[t]=this.handlers[t].filter((function(i){return!(!e||i===e)||(n.element.removeEventListener(t,i,!1),!1)}))},f.prototype.unbindAll=function(){for(var t in this.handlers)this.unbind(t)},p.isEmpty.get=function(){var t=this;return Object.keys(this.handlers).every((function(e){return 0===t.handlers[e].length}))},Object.defineProperties(f.prototype,p);var u=function(){this.eventElements=[]};function d(t){if("function"==typeof window.CustomEvent)return new CustomEvent(t);var e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,void 0),e}u.prototype.eventElement=function(t){var e=this.eventElements.filter((function(e){return e.element===t}))[0];return e||(e=new f(t),this.eventElements.push(e)),e},u.prototype.bind=function(t,e,n){this.eventElement(t).bind(e,n)},u.prototype.unbind=function(t,e,n){var i=this.eventElement(t);i.unbind(e,n),i.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(i),1)},u.prototype.unbindAll=function(){this.eventElements.forEach((function(t){return t.unbindAll()})),this.eventElements=[]},u.prototype.once=function(t,e,n){var i=this.eventElement(t),o=function(t){i.unbind(e,o),n(t)};i.bind(e,o)};var m=function(t,e,n,i,o){var r;if(void 0===i&&(i=!0),void 0===o&&(o=!1),"top"===e)r=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==e)throw new Error("A proper axis should be provided");r=["contentWidth","containerWidth","scrollLeft","x","left","right"]}!function(t,e,n,i,o){var r=n[0],s=n[1],l=n[2],a=n[3],f=n[4],p=n[5];void 0===i&&(i=!0),void 0===o&&(o=!1);var u=t.element;t.reach[a]=null,u[l]<1&&(t.reach[a]="start"),u[l]>t[r]-t[s]-1&&(t.reach[a]="end"),e&&(u.dispatchEvent(d("ps-scroll-"+a)),e<0?u.dispatchEvent(d("ps-scroll-"+f)):e>0&&u.dispatchEvent(d("ps-scroll-"+p)),i&&function(t,e){c(t,e),h(t,e)}(t,a)),t.reach[a]&&(e||o)&&u.dispatchEvent(d("ps-"+a+"-reach-"+t.reach[a]))}(t,n,r,i,o)};function v(t){return parseInt(t,10)||0}var g={isWebKit:"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!=typeof window&&("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!=typeof navigator&&navigator.msMaxTouchPoints,isChrome:"undefined"!=typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent)},b=function(t){var n=t.element,i=Math.floor(n.scrollTop);t.containerWidth=n.clientWidth,t.containerHeight=n.clientHeight,t.contentWidth=n.scrollWidth,t.contentHeight=n.scrollHeight,n.contains(t.scrollbarXRail)||(s(n,l_element.rail("x")).forEach((function(t){return r(t)})),n.appendChild(t.scrollbarXRail)),n.contains(t.scrollbarYRail)||(s(n,l_element.rail("y")).forEach((function(t){return r(t)})),n.appendChild(t.scrollbarYRail)),!t.settings.suppressScrollX&&t.containerWidth+t.settings.scrollXMarginOffset<t.contentWidth?(t.scrollbarXActive=!0,t.railXWidth=t.containerWidth-t.railXMarginWidth,t.railXRatio=t.containerWidth/t.railXWidth,t.scrollbarXWidth=w(t,v(t.railXWidth*t.containerWidth/t.contentWidth)),t.scrollbarXLeft=v((t.negativeScrollAdjustment+n.scrollLeft)*(t.railXWidth-t.scrollbarXWidth)/(t.contentWidth-t.containerWidth))):t.scrollbarXActive=!1,!t.settings.suppressScrollY&&t.containerHeight+t.settings.scrollYMarginOffset<t.contentHeight?(t.scrollbarYActive=!0,t.railYHeight=t.containerHeight-t.railYMarginHeight,t.railYRatio=t.containerHeight/t.railYHeight,t.scrollbarYHeight=w(t,v(t.railYHeight*t.containerHeight/t.contentHeight)),t.scrollbarYTop=v(i*(t.railYHeight-t.scrollbarYHeight)/(t.contentHeight-t.containerHeight))):t.scrollbarYActive=!1,t.scrollbarXLeft>=t.railXWidth-t.scrollbarXWidth&&(t.scrollbarXLeft=t.railXWidth-t.scrollbarXWidth),t.scrollbarYTop>=t.railYHeight-t.scrollbarYHeight&&(t.scrollbarYTop=t.railYHeight-t.scrollbarYHeight),function(t,n){var i={width:n.railXWidth},o=Math.floor(t.scrollTop);n.isRtl?i.left=n.negativeScrollAdjustment+t.scrollLeft+n.containerWidth-n.contentWidth:i.left=t.scrollLeft,n.isScrollbarXUsingBottom?i.bottom=n.scrollbarXBottom-o:i.top=n.scrollbarXTop+o,e(n.scrollbarXRail,i);var r={top:o,height:n.railYHeight};n.isScrollbarYUsingRight?n.isRtl?r.right=n.contentWidth-(n.negativeScrollAdjustment+t.scrollLeft)-n.scrollbarYRight-n.scrollbarYOuterWidth:r.right=n.scrollbarYRight-t.scrollLeft:n.isRtl?r.left=n.negativeScrollAdjustment+t.scrollLeft+2*n.containerWidth-n.contentWidth-n.scrollbarYLeft-n.scrollbarYOuterWidth:r.left=n.scrollbarYLeft+t.scrollLeft,e(n.scrollbarYRail,r),e(n.scrollbarX,{left:n.scrollbarXLeft,width:n.scrollbarXWidth-n.railBorderXWidth}),e(n.scrollbarY,{top:n.scrollbarYTop,height:n.scrollbarYHeight-n.railBorderYWidth})}(n,t),t.scrollbarXActive?n.classList.add(l_state.active("x")):(n.classList.remove(l_state.active("x")),t.scrollbarXWidth=0,t.scrollbarXLeft=0,n.scrollLeft=0),t.scrollbarYActive?n.classList.add(l_state.active("y")):(n.classList.remove(l_state.active("y")),t.scrollbarYHeight=0,t.scrollbarYTop=0,n.scrollTop=0)};function w(t,e){return t.settings.minScrollbarLength&&(e=Math.max(e,t.settings.minScrollbarLength)),t.settings.maxScrollbarLength&&(e=Math.min(e,t.settings.maxScrollbarLength)),e}function y(t,e){var n=e[0],i=e[1],o=e[2],r=e[3],s=e[4],a=e[5],f=e[6],p=e[7],u=e[8],d=t.element,m=null,v=null,g=null;function w(e){d[f]=m+g*(e[o]-v),c(t,p),b(t),e.stopPropagation(),e.preventDefault()}function y(){h(t,p),t[u].classList.remove(l_state.clicking),t.event.unbind(t.ownerDocument,"mousemove",w)}t.event.bind(t[s],"mousedown",(function(e){m=d[f],v=e[o],g=(t[i]-t[n])/(t[r]-t[a]),t.event.bind(t.ownerDocument,"mousemove",w),t.event.once(t.ownerDocument,"mouseup",y),t[u].classList.add(l_state.clicking),e.stopPropagation(),e.preventDefault()}))}var E={"click-rail":function(t){t.event.bind(t.scrollbarY,"mousedown",(function(t){return t.stopPropagation()})),t.event.bind(t.scrollbarYRail,"mousedown",(function(e){var n=e.pageY-window.pageYOffset-t.scrollbarYRail.getBoundingClientRect().top>t.scrollbarYTop?1:-1;t.element.scrollTop+=n*t.containerHeight,b(t),e.stopPropagation()})),t.event.bind(t.scrollbarX,"mousedown",(function(t){return t.stopPropagation()})),t.event.bind(t.scrollbarXRail,"mousedown",(function(e){var n=e.pageX-window.pageXOffset-t.scrollbarXRail.getBoundingClientRect().left>t.scrollbarXLeft?1:-1;t.element.scrollLeft+=n*t.containerWidth,b(t),e.stopPropagation()}))},"drag-thumb":function(t){y(t,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),y(t,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])},keyboard:function(t){var e=t.element;t.event.bind(t.ownerDocument,"keydown",(function(n){if(!(n.isDefaultPrevented&&n.isDefaultPrevented()||n.defaultPrevented)&&(o(e,":hover")||o(t.scrollbarX,":focus")||o(t.scrollbarY,":focus"))){var i,r=document.activeElement?document.activeElement:t.ownerDocument.activeElement;if(r){if("IFRAME"===r.tagName)r=r.contentDocument.activeElement;else for(;r.shadowRoot;)r=r.shadowRoot.activeElement;if(o(i=r,"input,[contenteditable]")||o(i,"select,[contenteditable]")||o(i,"textarea,[contenteditable]")||o(i,"button,[contenteditable]"))return}var s=0,l=0;switch(n.which){case 37:s=n.metaKey?-t.contentWidth:n.altKey?-t.containerWidth:-30;break;case 38:l=n.metaKey?t.contentHeight:n.altKey?t.containerHeight:30;break;case 39:s=n.metaKey?t.contentWidth:n.altKey?t.containerWidth:30;break;case 40:l=n.metaKey?-t.contentHeight:n.altKey?-t.containerHeight:-30;break;case 32:l=n.shiftKey?t.containerHeight:-t.containerHeight;break;case 33:l=t.containerHeight;break;case 34:l=-t.containerHeight;break;case 36:l=t.contentHeight;break;case 35:l=-t.contentHeight;break;default:return}t.settings.suppressScrollX&&0!==s||t.settings.suppressScrollY&&0!==l||(e.scrollTop-=l,e.scrollLeft+=s,b(t),function(n,i){var o=Math.floor(e.scrollTop);if(0===n){if(!t.scrollbarYActive)return!1;if(0===o&&i>0||o>=t.contentHeight-t.containerHeight&&i<0)return!t.settings.wheelPropagation}var r=e.scrollLeft;if(0===i){if(!t.scrollbarXActive)return!1;if(0===r&&n<0||r>=t.contentWidth-t.containerWidth&&n>0)return!t.settings.wheelPropagation}return!0}(s,l)&&n.preventDefault())}}))},wheel:function(e){var n=e.element;function i(i){var o=function(t){var e=t.deltaX,n=-1*t.deltaY;return void 0!==e&&void 0!==n||(e=-1*t.wheelDeltaX/6,n=t.wheelDeltaY/6),t.deltaMode&&1===t.deltaMode&&(e*=10,n*=10),e!=e&&n!=n&&(e=0,n=t.wheelDelta),t.shiftKey?[-n,-e]:[e,n]}(i),r=o[0],s=o[1];if(!function(e,i,o){if(!g.isWebKit&&n.querySelector("select:focus"))return!0;if(!n.contains(e))return!1;for(var r=e;r&&r!==n;){if(r.classList.contains(l_element.consuming))return!0;var s=t(r);if([s.overflow,s.overflowX,s.overflowY].join("").match(/(scroll|auto)/)){var a=r.scrollHeight-r.clientHeight;if(a>0&&!(0===r.scrollTop&&o>0||r.scrollTop===a&&o<0))return!0;var c=r.scrollWidth-r.clientWidth;if(c>0&&!(0===r.scrollLeft&&i<0||r.scrollLeft===c&&i>0))return!0}r=r.parentNode}return!1}(i.target,r,s)){var a=!1;e.settings.useBothWheelAxes?e.scrollbarYActive&&!e.scrollbarXActive?(s?n.scrollTop-=s*e.settings.wheelSpeed:n.scrollTop+=r*e.settings.wheelSpeed,a=!0):e.scrollbarXActive&&!e.scrollbarYActive&&(r?n.scrollLeft+=r*e.settings.wheelSpeed:n.scrollLeft-=s*e.settings.wheelSpeed,a=!0):(n.scrollTop-=s*e.settings.wheelSpeed,n.scrollLeft+=r*e.settings.wheelSpeed),b(e),(a=a||function(t,i){var o=Math.floor(n.scrollTop),r=0===n.scrollTop,s=o+n.offsetHeight===n.scrollHeight,l=0===n.scrollLeft,a=n.scrollLeft+n.offsetWidth===n.scrollWidth;return!(Math.abs(i)>Math.abs(t)?r||s:l||a)||!e.settings.wheelPropagation}(r,s))&&!i.ctrlKey&&(i.stopPropagation(),i.preventDefault())}}void 0!==window.onwheel?e.event.bind(n,"wheel",i):void 0!==window.onmousewheel&&e.event.bind(n,"mousewheel",i)},touch:function(e){if(g.supportsTouch||g.supportsIePointer){var n=e.element,i={},o=0,r={},s=null;g.supportsTouch?(e.event.bind(n,"touchstart",f),e.event.bind(n,"touchmove",p),e.event.bind(n,"touchend",u)):g.supportsIePointer&&(window.PointerEvent?(e.event.bind(n,"pointerdown",f),e.event.bind(n,"pointermove",p),e.event.bind(n,"pointerup",u)):window.MSPointerEvent&&(e.event.bind(n,"MSPointerDown",f),e.event.bind(n,"MSPointerMove",p),e.event.bind(n,"MSPointerUp",u)))}function a(t,i){n.scrollTop-=i,n.scrollLeft-=t,b(e)}function c(t){return t.targetTouches?t.targetTouches[0]:t}function h(t){return!(t.pointerType&&"pen"===t.pointerType&&0===t.buttons||(!t.targetTouches||1!==t.targetTouches.length)&&(!t.pointerType||"mouse"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE))}function f(t){if(h(t)){var e=c(t);i.pageX=e.pageX,i.pageY=e.pageY,o=(new Date).getTime(),null!==s&&clearInterval(s)}}function p(s){if(h(s)){var f=c(s),p={pageX:f.pageX,pageY:f.pageY},u=p.pageX-i.pageX,d=p.pageY-i.pageY;if(function(e,i,o){if(!n.contains(e))return!1;for(var r=e;r&&r!==n;){if(r.classList.contains(l_element.consuming))return!0;var s=t(r);if([s.overflow,s.overflowX,s.overflowY].join("").match(/(scroll|auto)/)){var a=r.scrollHeight-r.clientHeight;if(a>0&&!(0===r.scrollTop&&o>0||r.scrollTop===a&&o<0))return!0;var c=r.scrollLeft-r.clientWidth;if(c>0&&!(0===r.scrollLeft&&i<0||r.scrollLeft===c&&i>0))return!0}r=r.parentNode}return!1}(s.target,u,d))return;a(u,d),i=p;var m=(new Date).getTime(),v=m-o;v>0&&(r.x=u/v,r.y=d/v,o=m),function(t,i){var o=Math.floor(n.scrollTop),r=n.scrollLeft,s=Math.abs(t),l=Math.abs(i);if(l>s){if(i<0&&o===e.contentHeight-e.containerHeight||i>0&&0===o)return 0===window.scrollY&&i>0&&g.isChrome}else if(s>l&&(t<0&&r===e.contentWidth-e.containerWidth||t>0&&0===r))return!0;return!0}(u,d)&&s.preventDefault()}}function u(){e.settings.swipeEasing&&(clearInterval(s),s=setInterval((function(){e.isInitialized?clearInterval(s):r.x||r.y?Math.abs(r.x)<.01&&Math.abs(r.y)<.01?clearInterval(s):(a(30*r.x,30*r.y),r.x*=.8,r.y*=.8):clearInterval(s)}),10))}}},L=function(i,o){var r=this;if(void 0===o&&(o={}),"string"==typeof i&&(i=document.querySelector(i)),!i||!i.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(var s in this.element=i,i.classList.add(l_main),this.settings={handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1},o)r.settings[s]=o[s];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var a,c,h=function(){return i.classList.add(l_state.focus)},f=function(){return i.classList.remove(l_state.focus)};this.isRtl="rtl"===t(i).direction,this.isNegativeScroll=(c=i.scrollLeft,i.scrollLeft=-1,a=i.scrollLeft<0,i.scrollLeft=c,a),this.negativeScrollAdjustment=this.isNegativeScroll?i.scrollWidth-i.clientWidth:0,this.event=new u,this.ownerDocument=i.ownerDocument||document,this.scrollbarXRail=n(l_element.rail("x")),i.appendChild(this.scrollbarXRail),this.scrollbarX=n(l_element.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",h),this.event.bind(this.scrollbarX,"blur",f),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var p=t(this.scrollbarXRail);this.scrollbarXBottom=parseInt(p.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=v(p.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=v(p.borderLeftWidth)+v(p.borderRightWidth),e(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=v(p.marginLeft)+v(p.marginRight),e(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=n(l_element.rail("y")),i.appendChild(this.scrollbarYRail),this.scrollbarY=n(l_element.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",h),this.event.bind(this.scrollbarY,"blur",f),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var d=t(this.scrollbarYRail);this.scrollbarYRight=parseInt(d.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=v(d.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?function(e){var n=t(e);return v(n.width)+v(n.paddingLeft)+v(n.paddingRight)+v(n.borderLeftWidth)+v(n.borderRightWidth)}(this.scrollbarY):null,this.railBorderYWidth=v(d.borderTopWidth)+v(d.borderBottomWidth),e(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=v(d.marginTop)+v(d.marginBottom),e(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:i.scrollLeft<=0?"start":i.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:i.scrollTop<=0?"start":i.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach((function(t){return E[t](r)})),this.lastScrollTop=Math.floor(i.scrollTop),this.lastScrollLeft=i.scrollLeft,this.event.bind(this.element,"scroll",(function(t){return r.onScroll(t)})),b(this)};return L.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,e(this.scrollbarXRail,{display:"block"}),e(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=v(t(this.scrollbarXRail).marginLeft)+v(t(this.scrollbarXRail).marginRight),this.railYMarginHeight=v(t(this.scrollbarYRail).marginTop)+v(t(this.scrollbarYRail).marginBottom),e(this.scrollbarXRail,{display:"none"}),e(this.scrollbarYRail,{display:"none"}),b(this),m(this,"top",0,!1,!0),m(this,"left",0,!1,!0),e(this.scrollbarXRail,{display:""}),e(this.scrollbarYRail,{display:""}))},L.prototype.onScroll=function(t){this.isAlive&&(b(this),m(this,"top",this.element.scrollTop-this.lastScrollTop),m(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},L.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),r(this.scrollbarX),r(this.scrollbarY),r(this.scrollbarXRail),r(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},L.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter((function(t){return!t.match(/^ps([-_].+|)$/)})).join(" ")},L}));var KTMenu=function(elementId,options){var the=this,init=!1,element=KTUtil.getById(elementId),body=KTUtil.getBody();if(element){var defaultOptions={scroll:{rememberPosition:!1},accordion:{slideSpeed:200,autoScroll:!1,autoScrollSpeed:1200,expandAll:!0},dropdown:{timeout:500}},Plugin={construct:function(options){return KTUtil.data(element).has("menu")?the=KTUtil.data(element).get("menu"):(Plugin.init(options),Plugin.reset(),Plugin.build(),KTUtil.data(element).set("menu",the)),the},init:function(options){the.events=[],the.eventHandlers={},the.options=KTUtil.deepExtend({},defaultOptions,options),the.pauseDropdownHoverTime=0,the.uid=KTUtil.getUniqueID()},update:function(options){the.options=KTUtil.deepExtend({},defaultOptions,options),the.pauseDropdownHoverTime=0,Plugin.reset(),the.eventHandlers={},Plugin.build(),KTUtil.data(element).set("menu",the)},reload:function(){Plugin.reset(),Plugin.build(),Plugin.resetSubmenuProps()},build:function(){the.eventHandlers.event_1=KTUtil.on(element,".menu-toggle","click",Plugin.handleSubmenuAccordion),("dropdown"===Plugin.getSubmenuMode()||Plugin.isConditionalSubmenuDropdown())&&(the.eventHandlers.event_2=KTUtil.on(element,'[data-menu-toggle="hover"]',"mouseover",Plugin.handleSubmenuDrodownHoverEnter),the.eventHandlers.event_3=KTUtil.on(element,'[data-menu-toggle="hover"]',"mouseout",Plugin.handleSubmenuDrodownHoverExit),the.eventHandlers.event_4=KTUtil.on(element,'[data-menu-toggle="click"] > .menu-toggle, [data-menu-toggle="click"] > .menu-link .menu-toggle',"click",Plugin.handleSubmenuDropdownClick),the.eventHandlers.event_5=KTUtil.on(element,'[data-menu-toggle="tab"] > .menu-toggle, [data-menu-toggle="tab"] > .menu-link .menu-toggle',"click",Plugin.handleSubmenuDropdownTabClick)),the.eventHandlers.event_6=KTUtil.on(element,".menu-item > .menu-link:not(.menu-toggle):not(.menu-link-toggle-skip)","click",Plugin.handleLinkClick),the.options.scroll&&the.options.scroll.height&&Plugin.scrollInit()},reset:function(){KTUtil.off(element,"click",the.eventHandlers.event_1),KTUtil.off(element,"mouseover",the.eventHandlers.event_2),KTUtil.off(element,"mouseout",the.eventHandlers.event_3),KTUtil.off(element,"click",the.eventHandlers.event_4),KTUtil.off(element,"click",the.eventHandlers.event_5),KTUtil.off(element,"click",the.eventHandlers.event_6)},scrollInit:function(){the.options.scroll&&the.options.scroll.height?(KTUtil.scrollDestroy(element,!0),KTUtil.scrollInit(element,{mobileNativeScroll:!0,windowScroll:!1,resetHeightOnDestroy:!0,handleWindowResize:!0,height:the.options.scroll.height,rememberPosition:the.options.scroll.rememberPosition})):KTUtil.scrollDestroy(element,!0)},scrollUpdate:function(){the.options.scroll&&the.options.scroll.height&&KTUtil.scrollUpdate(element)},scrollTop:function(){the.options.scroll&&the.options.scroll.height&&KTUtil.scrollTop(element)},getSubmenuMode:function(el){return KTUtil.isBreakpointUp("lg")?el&&KTUtil.hasAttr(el,"data-menu-toggle")&&"hover"==KTUtil.attr(el,"data-menu-toggle")?"dropdown":KTUtil.isset(the.options.submenu,"desktop.state.body")?KTUtil.hasClasses(body,the.options.submenu.desktop.state.body)?the.options.submenu.desktop.state.mode:the.options.submenu.desktop.default:KTUtil.isset(the.options.submenu,"desktop")?the.options.submenu.desktop:void 0:KTUtil.isBreakpointUp("md")&&KTUtil.isBreakpointDown("lg")&&KTUtil.isset(the.options.submenu,"tablet")?the.options.submenu.tablet:!(!KTUtil.isBreakpointDown("md")||!KTUtil.isset(the.options.submenu,"mobile"))&&the.options.submenu.mobile},isConditionalSubmenuDropdown:function(){return!(!KTUtil.isBreakpointUp("lg")||!KTUtil.isset(the.options.submenu,"desktop.state.body"))},resetSubmenuProps:function(e){var submenus=KTUtil.findAll(element,".menu-submenu");if(submenus)for(var i=0,len=submenus.length;i<len;i++){var submenu=submenus[0];KTUtil.css(submenu,"display",""),KTUtil.css(submenu,"overflow",""),submenu.hasAttribute("data-hor-direction")&&(KTUtil.removeClass(submenu,"menu-submenu-left"),KTUtil.removeClass(submenu,"menu-submenu-right"),KTUtil.addClass(submenu,submenu.getAttribute("data-hor-direction")))}},handleSubmenuDrodownHoverEnter:function(e){if("accordion"!==Plugin.getSubmenuMode(this)&&!1!==the.resumeDropdownHover()){"1"==this.getAttribute("data-hover")&&(this.removeAttribute("data-hover"),clearTimeout(this.getAttribute("data-timeout")),this.removeAttribute("data-timeout")),Plugin.showSubmenuDropdown(this)}},handleSubmenuDrodownHoverExit:function(e){if(!1!==the.resumeDropdownHover()&&"accordion"!==Plugin.getSubmenuMode(this)){var item=this,time=the.options.dropdown.timeout,timeout=setTimeout((function(){"1"==item.getAttribute("data-hover")&&Plugin.hideSubmenuDropdown(item,!0)}),time);item.setAttribute("data-hover","1"),item.setAttribute("data-timeout",timeout)}},handleSubmenuDropdownClick:function(e){if("accordion"!==Plugin.getSubmenuMode(this)){var item=this.closest(".menu-item");!1!==Plugin.eventTrigger("submenuToggle",this,e)&&"accordion"!=item.getAttribute("data-menu-submenu-mode")&&(!1===KTUtil.hasClass(item,"menu-item-hover")?(KTUtil.addClass(item,"menu-item-open-dropdown"),Plugin.showSubmenuDropdown(item)):(KTUtil.removeClass(item,"menu-item-open-dropdown"),Plugin.hideSubmenuDropdown(item,!0)),e.preventDefault())}},handleSubmenuDropdownTabClick:function(e){if("accordion"!==Plugin.getSubmenuMode(this)){var item=this.closest(".menu-item");!1!==Plugin.eventTrigger("submenuToggle",this,e)&&"accordion"!=item.getAttribute("data-menu-submenu-mode")&&(0==KTUtil.hasClass(item,"menu-item-hover")&&(KTUtil.addClass(item,"menu-item-open-dropdown"),Plugin.showSubmenuDropdown(item)),e.preventDefault())}},handleLinkClick:function(e){var submenu=this.closest(".menu-item.menu-item-submenu");!1!==Plugin.eventTrigger("linkClick",this,e)&&submenu&&"dropdown"===Plugin.getSubmenuMode(submenu)&&Plugin.hideSubmenuDropdowns()},handleSubmenuDropdownClose:function(e,el){if("accordion"!==Plugin.getSubmenuMode(el)){var shown=element.querySelectorAll(".menu-item.menu-item-submenu.menu-item-hover:not(.menu-item-tabs)");if(shown.length>0&&!1===KTUtil.hasClass(el,"menu-toggle")&&0===el.querySelectorAll(".menu-toggle").length)for(var i=0,len=shown.length;i<len;i++)Plugin.hideSubmenuDropdown(shown[0],!0)}},handleSubmenuAccordion:function(e,el){var query,item=el||this;if(!1!==Plugin.eventTrigger("submenuToggle",this,e))if("dropdown"===Plugin.getSubmenuMode(el)&&(query=item.closest(".menu-item"))&&"accordion"!=query.getAttribute("data-menu-submenu-mode"))e.preventDefault();else{var li=item.closest(".menu-item"),submenu=KTUtil.child(li,".menu-submenu, .menu-inner");if(!KTUtil.hasClass(item.closest(".menu-item"),"menu-item-open-always")&&li&&submenu){e.preventDefault();var speed=the.options.accordion.slideSpeed;if(!1===KTUtil.hasClass(li,"menu-item-open")){if(!1===the.options.accordion.expandAll){var subnav=item.closest(".menu-nav, .menu-subnav"),closables=KTUtil.children(subnav,".menu-item.menu-item-open.menu-item-submenu:not(.menu-item-here):not(.menu-item-open-always)");if(subnav&&closables)for(var i=0,len=closables.length;i<len;i++){var el_=closables[0],submenu_=KTUtil.child(el_,".menu-submenu");submenu_&&KTUtil.slideUp(submenu_,speed,(function(){Plugin.scrollUpdate(),KTUtil.removeClass(el_,"menu-item-open")}))}}KTUtil.slideDown(submenu,speed,(function(){Plugin.scrollToItem(item),Plugin.scrollUpdate(),Plugin.eventTrigger("submenuToggle",submenu,e)})),KTUtil.addClass(li,"menu-item-open")}else KTUtil.slideUp(submenu,speed,(function(){Plugin.scrollToItem(item),Plugin.eventTrigger("submenuToggle",submenu,e)})),KTUtil.removeClass(li,"menu-item-open")}}},scrollToItem:function(item){KTUtil.isBreakpointUp("lg")&&the.options.accordion.autoScroll&&"1"!==element.getAttribute("data-menu-scroll")&&KTUtil.scrollTo(item,the.options.accordion.autoScrollSpeed)},hideSubmenuDropdown:function(item,classAlso){classAlso&&(KTUtil.removeClass(item,"menu-item-hover"),KTUtil.removeClass(item,"menu-item-active-tab")),item.removeAttribute("data-hover"),item.getAttribute("data-menu-toggle-class")&&KTUtil.removeClass(body,item.getAttribute("data-menu-toggle-class"));var timeout=item.getAttribute("data-timeout");item.removeAttribute("data-timeout"),clearTimeout(timeout)},hideSubmenuDropdowns:function(){var items;if(items=element.querySelectorAll('.menu-item-submenu.menu-item-hover:not(.menu-item-tabs):not([data-menu-toggle="tab"])'))for(var j=0,cnt=items.length;j<cnt;j++)Plugin.hideSubmenuDropdown(items[j],!0)},showSubmenuDropdown:function(item){var list=element.querySelectorAll(".menu-item-submenu.menu-item-hover, .menu-item-submenu.menu-item-active-tab");if(list)for(var i=0,len=list.length;i<len;i++){var el=list[i];item!==el&&!1===el.contains(item)&&!1===item.contains(el)&&Plugin.hideSubmenuDropdown(el,!0)}KTUtil.addClass(item,"menu-item-hover");var submenu=KTUtil.find(item,".menu-submenu");submenu&&!1===submenu.hasAttribute("data-hor-direction")&&(KTUtil.hasClass(submenu,"menu-submenu-left")?submenu.setAttribute("data-hor-direction","menu-submenu-left"):KTUtil.hasClass(submenu,"menu-submenu-right")&&submenu.setAttribute("data-hor-direction","menu-submenu-right")),submenu&&!0===KTUtil.isOffscreen(submenu,"left",15)?(KTUtil.removeClass(submenu,"menu-submenu-left"),KTUtil.addClass(submenu,"menu-submenu-right")):submenu&&!0===KTUtil.isOffscreen(submenu,"right",15)&&(KTUtil.removeClass(submenu,"menu-submenu-right"),KTUtil.addClass(submenu,"menu-submenu-left")),item.getAttribute("data-menu-toggle-class")&&KTUtil.addClass(body,item.getAttribute("data-menu-toggle-class"))},createSubmenuDropdownClickDropoff:function(el){var query,zIndex=(query=KTUtil.child(el,".menu-submenu")?KTUtil.css(query,"z-index"):0)-1,dropoff=document.createElement('<div class="menu-dropoff" style="background: transparent; position: fixed; top: 0; bottom: 0; left: 0; right: 0; z-index: '+zIndex+'"></div>');body.appendChild(dropoff),KTUtil.addEvent(dropoff,"click",(function(e){e.stopPropagation(),e.preventDefault(),KTUtil.remove(this),Plugin.hideSubmenuDropdown(el,!0)}))},pauseDropdownHover:function(time){var date=new Date;the.pauseDropdownHoverTime=date.getTime()+time},resumeDropdownHover:function(){return(new Date).getTime()>the.pauseDropdownHoverTime},resetActiveItem:function(item){for(var list,parents,i=0,len=(list=element.querySelectorAll(".menu-item-active")).length;i<len;i++){var el=list[0];KTUtil.removeClass(el,"menu-item-active"),KTUtil.hide(KTUtil.child(el,".menu-submenu"));for(var i_=0,len_=(parents=KTUtil.parents(el,".menu-item-submenu")||[]).length;i_<len_;i_++){var el_=parents[i];KTUtil.removeClass(el_,"menu-item-open"),KTUtil.hide(KTUtil.child(el_,".menu-submenu"))}}if(!1===the.options.accordion.expandAll&&(list=element.querySelectorAll(".menu-item-open")))for(i=0,len=list.length;i<len;i++)KTUtil.removeClass(parents[0],"menu-item-open")},setActiveItem:function(item){Plugin.resetActiveItem();for(var parents=KTUtil.parents(item,".menu-item-submenu")||[],i=0,len=parents.length;i<len;i++)KTUtil.addClass(parents[i],"menu-item-open");KTUtil.addClass(item,"menu-item-active")},getBreadcrumbs:function(item){var query,breadcrumbs=[],link=KTUtil.child(item,".menu-link");breadcrumbs.push({text:query=KTUtil.child(link,".menu-text")?query.innerHTML:"",title:link.getAttribute("title"),href:link.getAttribute("href")});for(var parents=KTUtil.parents(item,".menu-item-submenu"),i=0,len=parents.length;i<len;i++){var submenuLink=KTUtil.child(parents[i],".menu-link");breadcrumbs.push({text:query=KTUtil.child(submenuLink,".menu-text")?query.innerHTML:"",title:submenuLink.getAttribute("title"),href:submenuLink.getAttribute("href")})}return breadcrumbs.reverse()},getPageTitle:function(item){var query;return KTUtil.child(item,".menu-text")?query.innerHTML:""},eventTrigger:function(name,target,e){for(var i=0;i<the.events.length;i++){var event=the.events[i];if(event.name==name){if(1!=event.one)return event.handler.call(this,target,e);if(0==event.fired)return the.events[i].fired=!0,event.handler.call(this,target,e)}}},addEvent:function(name,handler,one){the.events.push({name:name,handler:handler,one:one,fired:!1})},removeEvent:function(name){the.events[name]&&delete the.events[name]}};return the.setDefaults=function(options){defaultOptions=options},the.scrollUpdate=function(){return Plugin.scrollUpdate()},the.scrollReInit=function(){return Plugin.scrollInit()},the.scrollTop=function(){return Plugin.scrollTop()},the.setActiveItem=function(item){return Plugin.setActiveItem(item)},the.reload=function(){return Plugin.reload()},the.update=function(options){return Plugin.update(options)},the.getBreadcrumbs=function(item){return Plugin.getBreadcrumbs(item)},the.getPageTitle=function(item){return Plugin.getPageTitle(item)},the.getSubmenuMode=function(el){return Plugin.getSubmenuMode(el)},the.hideDropdown=function(item){Plugin.hideSubmenuDropdown(item,!0)},the.hideDropdowns=function(){Plugin.hideSubmenuDropdowns()},the.pauseDropdownHover=function(time){Plugin.pauseDropdownHover(time)},the.resumeDropdownHover=function(){return Plugin.resumeDropdownHover()},the.on=function(name,handler){return Plugin.addEvent(name,handler)},the.off=function(name){return Plugin.removeEvent(name)},the.one=function(name,handler){return Plugin.addEvent(name,handler,!0)},Plugin.construct.apply(the,[options]),KTUtil.addResizeHandler((function(){init&&the.reload()})),init=!0,the}};"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=KTMenu),document.addEventListener("click",(function(e){var query;if(query=KTUtil.getByTagName("body")[0].querySelectorAll('.menu-nav .menu-item.menu-item-submenu.menu-item-hover:not(.menu-item-tabs)[data-menu-toggle="click"]'))for(var i=0,len=query.length;i<len;i++){var element=query[i].closest(".menu-nav").parentNode;if(element){var the=KTUtil.data(element).get("menu");if(!the)break;if(!the||"dropdown"!==the.getSubmenuMode())break;e.target!==element&&!1===element.contains(e.target)&&the.hideDropdowns()}}}));var KTOffcanvas=function(elementId,options){var the=this,element=KTUtil.getById(elementId),body=KTUtil.getBody();if(element){var defaultOptions={attrCustom:""},Plugin={construct:function(options){return KTUtil.data(element).has("offcanvas")?the=KTUtil.data(element).get("offcanvas"):(Plugin.init(options),Plugin.build(),KTUtil.data(element).set("offcanvas",the)),the},init:function(options){the.events=[],the.options=KTUtil.deepExtend({},defaultOptions,options),the.classBase=the.options.baseClass,the.attrCustom=the.options.attrCustom,the.classShown=the.classBase+"-on",the.classOverlay=the.classBase+"-overlay",the.target,the.state=KTUtil.hasClass(element,the.classShown)?"shown":"hidden"},build:function(){if(the.options.toggleBy)if("string"==typeof the.options.toggleBy)KTUtil.addEvent(KTUtil.getById(the.options.toggleBy),"click",(function(e){e.preventDefault(),the.target=this,Plugin.toggle()}));else if(the.options.toggleBy&&the.options.toggleBy[0])if(the.options.toggleBy[0].target)for(var i in the.options.toggleBy)KTUtil.addEvent(KTUtil.getById(the.options.toggleBy[i].target),"click",(function(e){e.preventDefault(),the.target=this,Plugin.toggle()}));else for(var i in the.options.toggleBy)KTUtil.addEvent(KTUtil.getById(the.options.toggleBy[i]),"click",(function(e){e.preventDefault(),the.target=this,Plugin.toggle()}));else the.options.toggleBy&&the.options.toggleBy.target&&KTUtil.addEvent(KTUtil.getById(the.options.toggleBy.target),"click",(function(e){e.preventDefault(),the.target=this,Plugin.toggle()}));var closeBy=KTUtil.getById(the.options.closeBy);closeBy&&KTUtil.addEvent(closeBy,"click",(function(e){e.preventDefault(),the.target=this,Plugin.hide()}))},isShown:function(){return"shown"==the.state},toggle:function(){Plugin.eventTrigger("toggle"),"shown"==the.state?Plugin.hide():Plugin.show()},show:function(){"shown"!=the.state&&(Plugin.eventTrigger("beforeShow"),Plugin.toggleClass("show"),KTUtil.attr(body,"data-offcanvas-"+the.classBase,"on"),KTUtil.addClass(element,the.classShown),the.attrCustom.length>0&&KTUtil.attr(body,"data-offcanvas-"+the.classCustom,"on"),the.state="shown",the.options.overlay&&(the.overlay=KTUtil.insertAfter(document.createElement("DIV"),element),KTUtil.addClass(the.overlay,the.classOverlay),KTUtil.addEvent(the.overlay,"click",(function(e){e.preventDefault(),Plugin.hide(the.target)}))),Plugin.eventTrigger("afterShow"))},hide:function(){"hidden"!=the.state&&(Plugin.eventTrigger("beforeHide"),Plugin.toggleClass("hide"),KTUtil.removeAttr(body,"data-offcanvas-"+the.classBase),KTUtil.removeClass(element,the.classShown),the.attrCustom.length>0&&KTUtil.removeAttr(body,"data-offcanvas-"+the.attrCustom),the.state="hidden",the.options.overlay&&the.overlay&&KTUtil.remove(the.overlay),Plugin.eventTrigger("afterHide"))},toggleClass:function(mode){var toggleBy,id=KTUtil.attr(the.target,"id");if(the.options.toggleBy&&the.options.toggleBy[0]&&the.options.toggleBy[0].target)for(var i in the.options.toggleBy)the.options.toggleBy[i].target===id&&(toggleBy=the.options.toggleBy[i]);else the.options.toggleBy&&the.options.toggleBy.target&&(toggleBy=the.options.toggleBy);if(toggleBy){var el=KTUtil.getById(toggleBy.target);"show"===mode&&KTUtil.addClass(el,toggleBy.state),"hide"===mode&&KTUtil.removeClass(el,toggleBy.state)}},eventTrigger:function(name,args){for(var i=0;i<the.events.length;i++){var event=the.events[i];if(event.name==name){if(1!=event.one)return event.handler.call(this,the,args);if(0==event.fired)return the.events[i].fired=!0,event.handler.call(this,the,args)}}},addEvent:function(name,handler,one){the.events.push({name:name,handler:handler,one:one,fired:!1})}};return the.setDefaults=function(options){defaultOptions=options},the.isShown=function(){return Plugin.isShown()},the.hide=function(){return Plugin.hide()},the.show=function(){return Plugin.show()},the.on=function(name,handler){return Plugin.addEvent(name,handler)},the.one=function(name,handler){return Plugin.addEvent(name,handler,!0)},Plugin.construct.apply(the,[options]),!0,the}};"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=KTOffcanvas);var KTHeader=function(elementId,options){var the=this,element=KTUtil.getById(elementId),body=KTUtil.getBody();if(void 0!==element){var defaultOptions={offset:{desktop:!0,tabletAndMobile:!0},releseOnReverse:{desktop:!1,tabletAndMobile:!1}},Plugin={construct:function(options){return KTUtil.data(element).has("header")?the=KTUtil.data(element).get("header"):(Plugin.init(options),Plugin.build(),KTUtil.data(element).set("header",the)),the},init:function(options){the.events=[],the.options=KTUtil.deepExtend({},defaultOptions,options)},build:function(){var eventTriggerState=!0,lastScrollTop=0;window.addEventListener("scroll",(function(){var st,offset=0;KTUtil.isBreakpointDown("lg")&&!1===the.options.offset.tabletAndMobile||KTUtil.isBreakpointUp("lg")&&!1===the.options.offset.desktop||(KTUtil.isBreakpointUp("lg")?offset=the.options.offset.desktop:KTUtil.isBreakpointDown("lg")&&(offset=the.options.offset.tabletAndMobile),st=KTUtil.getScrollTop(),KTUtil.isBreakpointDown("lg")&&the.options.releseOnReverse.tabletAndMobile||KTUtil.isBreakpointUp("lg")&&the.options.releseOnReverse.desktop?(st>offset&&lastScrollTop<st?(!1===body.hasAttribute("data-header-scroll")&&body.setAttribute("data-header-scroll","on"),eventTriggerState&&(Plugin.eventTrigger("scrollOn",the),eventTriggerState=!1)):(!0===body.hasAttribute("data-header-scroll")&&body.removeAttribute("data-header-scroll"),0==eventTriggerState&&(Plugin.eventTrigger("scrollOff",the),eventTriggerState=!0)),lastScrollTop=st):st>offset?(!1===body.hasAttribute("data-header-scroll")&&body.setAttribute("data-header-scroll","on"),eventTriggerState&&(Plugin.eventTrigger("scrollOn",the),eventTriggerState=!1)):(!0===body.hasAttribute("data-header-scroll")&&body.removeAttribute("data-header-scroll"),0==eventTriggerState&&(Plugin.eventTrigger("scrollOff",the),eventTriggerState=!0)))}))},eventTrigger:function(name,args){for(var i=0;i<the.events.length;i++){var event=the.events[i];if(event.name==name){if(1!=event.one)return event.handler.call(this,the,args);if(0==event.fired)return the.events[i].fired=!0,event.handler.call(this,the,args)}}},addEvent:function(name,handler,one){the.events.push({name:name,handler:handler,one:one,fired:!1})}};return the.setDefaults=function(options){defaultOptions=options},the.on=function(name,handler){return Plugin.addEvent(name,handler)},Plugin.construct.apply(the,[options]),!0,the}};"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=KTHeader);var KTScrolltop=function(elementId,options){var the=this,element=KTUtil.getById(elementId),body=KTUtil.getBody();if(element){var defaultOptions={offset:300,speed:6e3},Plugin={construct:function(options){return KTUtil.data(element).has("scrolltop")?the=KTUtil.data(element).get("scrolltop"):(Plugin.init(options),Plugin.build(),KTUtil.data(element).set("scrolltop",the)),the},init:function(options){the.events=[],the.options=KTUtil.deepExtend({},defaultOptions,options)},build:function(){window.addEventListener("scroll",(function(){KTUtil.throttle(undefined,(function(){Plugin.handle()}),200)})),KTUtil.addEvent(element,"click",Plugin.scroll)},handle:function(){KTUtil.getScrollTop()>the.options.offset?!1===body.hasAttribute("data-scrolltop")&&body.setAttribute("data-scrolltop","on"):!0===body.hasAttribute("data-scrolltop")&&body.removeAttribute("data-scrolltop")},scroll:function(e){e.preventDefault(),KTUtil.scrollTop(0,the.options.speed)},eventTrigger:function(name,args){for(var i=0;i<the.events.length;i++){var event=the.events[i];if(event.name==name){if(1!=event.one)return event.handler.call(this,the,args);if(0==event.fired)return the.events[i].fired=!0,event.handler.call(this,the,args)}}},addEvent:function(name,handler,one){the.events.push({name:name,handler:handler,one:one,fired:!1})}};return the.setDefaults=function(options){defaultOptions=options},the.on=function(name,handler){return Plugin.addEvent(name,handler)},the.one=function(name,handler){return Plugin.addEvent(name,handler,!0)},Plugin.construct.apply(the,[options]),!0,the}};"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=KTScrolltop);var KTToggle=function(elementId,options){var the=this,element=KTUtil.getById(elementId);if(element){var defaultOptions={targetToggleMode:"class"},Plugin={construct:function(options){return KTUtil.data(element).has("toggle")?the=KTUtil.data(element).get("toggle"):(Plugin.init(options),Plugin.build(),KTUtil.data(element).set("toggle",the)),the},init:function(options){the.element=element,the.events=[],the.options=KTUtil.deepExtend({},defaultOptions,options),the.target=KTUtil.getById(options.target),the.targetState=the.options.targetState,the.toggleState=the.options.toggleState,"class"==the.options.targetToggleMode?the.state=KTUtil.hasClasses(the.target,the.targetState)?"on":"off":the.state=KTUtil.hasAttr(the.target,"data-"+the.targetState)?KTUtil.attr(the.target,"data-"+the.targetState):"off"},build:function(){KTUtil.addEvent(element,"mouseup",Plugin.toggle)},toggle:function(e){return Plugin.eventTrigger("beforeToggle"),"off"==the.state?Plugin.toggleOn():Plugin.toggleOff(),Plugin.eventTrigger("afterToggle"),e.preventDefault(),the},toggleOn:function(){return Plugin.eventTrigger("beforeOn"),"class"==the.options.targetToggleMode?KTUtil.addClass(the.target,the.targetState):KTUtil.attr(the.target,"data-"+the.targetState,"on"),the.toggleState&&KTUtil.addClass(element,the.toggleState),the.state="on",Plugin.eventTrigger("afterOn"),Plugin.eventTrigger("toggle"),the},toggleOff:function(){return Plugin.eventTrigger("beforeOff"),"class"==the.options.targetToggleMode?KTUtil.removeClass(the.target,the.targetState):KTUtil.removeAttr(the.target,"data-"+the.targetState),the.toggleState&&KTUtil.removeClass(element,the.toggleState),the.state="off",Plugin.eventTrigger("afterOff"),Plugin.eventTrigger("toggle"),the},eventTrigger:function(name){for(var i=0;i<the.events.length;i++){var event=the.events[i];if(event.name==name){if(1!=event.one)return event.handler.call(this,the);if(0==event.fired)return the.events[i].fired=!0,event.handler.call(this,the)}}},addEvent:function(name,handler,one){return the.events.push({name:name,handler:handler,one:one,fired:!1}),the}};return the.setDefaults=function(options){defaultOptions=options},the.getState=function(){return the.state},the.toggle=function(){return Plugin.toggle()},the.toggleOn=function(){return Plugin.toggleOn()},the.toggleOff=function(){return Plugin.toggleOff()},the.on=function(name,handler){return Plugin.addEvent(name,handler)},the.one=function(name,handler){return Plugin.addEvent(name,handler,!0)},Plugin.construct.apply(the,[options]),the}};function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _instanceof(left,right){return null!=right&&"undefined"!=typeof Symbol&&right[Symbol.hasInstance]?!!right[Symbol.hasInstance](left):left instanceof right}"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=KTToggle),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(s){var ancestor=this;if(!document.documentElement.contains(this))return null;do{if(ancestor.matches(s))return ancestor;ancestor=ancestor.parentElement}while(null!==ancestor);return null}),function(elem){for(var i=0;i<elem.length;i++)window[elem[i]]&&!("remove"in window[elem[i]].prototype)&&(window[elem[i]].prototype.remove=function(){this.parentNode.removeChild(this)})}(["Element","CharacterData","DocumentType"]),function(){for(var lastTime=0,vendors=["webkit","moz"],x=0;x<vendors.length&&!window.requestAnimationFrame;++x)window.requestAnimationFrame=window[vendors[x]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[vendors[x]+"CancelAnimationFrame"]||window[vendors[x]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(callback){var currTime=(new Date).getTime(),timeToCall=Math.max(0,16-(currTime-lastTime)),id=window.setTimeout((function(){callback(currTime+timeToCall)}),timeToCall);return lastTime=currTime+timeToCall,id}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(id){clearTimeout(id)})}(),[Element.prototype,Document.prototype,DocumentFragment.prototype].forEach((function(item){item.hasOwnProperty("prepend")||Object.defineProperty(item,"prepend",{configurable:!0,enumerable:!0,writable:!0,value:function prepend(){var argArr=Array.prototype.slice.call(arguments),docFrag=document.createDocumentFragment();argArr.forEach((function(argItem){var isNode=_instanceof(argItem,Node);docFrag.appendChild(isNode?argItem:document.createTextNode(String(argItem)))})),this.insertBefore(docFrag,this.firstChild)}})})),window.KTUtilElementDataStore={},window.KTUtilElementDataStoreID=0,window.KTUtilDelegatedEventHandlers={};var KTUtil=function(){var resizeHandlers=[],breakpoints={sm:544,md:768,lg:992,xl:1200},_windowResizeHandler=function _windowResizeHandler(){window.addEventListener("resize",(function(){KTUtil.throttle(undefined,(function(){!function _runResizeHandlers(){for(var i=0;i<resizeHandlers.length;i++)resizeHandlers[i].call()}()}),200)}))};return{init:function init(settings){settings&&settings.breakpoints&&(breakpoints=settings.breakpoints),_windowResizeHandler()},addResizeHandler:function addResizeHandler(callback){resizeHandlers.push(callback)},removeResizeHandler:function removeResizeHandler(callback){for(var i=0;i<resizeHandlers.length;i++)callback===resizeHandlers[i]&&delete resizeHandlers[i]},runResizeHandlers:function runResizeHandlers(){_runResizeHandlers()},resize:function resize(){if("function"==typeof Event)window.dispatchEvent(new Event("resize"));else{var evt=window.document.createEvent("UIEvents");evt.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(evt)}},getURLParam:function getURLParam(paramName){var i,val,params=window.location.search.substring(1).split("&");for(i=0;i<params.length;i++)if((val=params[i].split("="))[0]==paramName)return unescape(val[1]);return null},isMobileDevice:function isMobileDevice(){return this.getViewPort().width<this.getBreakpoint("lg")},isDesktopDevice:function isDesktopDevice(){return!KTUtil.isMobileDevice()},getViewPort:function getViewPort(){var e=window,a="inner";return"innerWidth"in window||(a="client",e=document.documentElement||document.body),{width:e[a+"Width"],height:e[a+"Height"]}},isInResponsiveRange:function isInResponsiveRange(mode){var breakpoint=this.getViewPort().width;return"general"==mode||("desktop"==mode&&breakpoint>=this.getBreakpoint("lg")+1||("tablet"==mode&&breakpoint>=this.getBreakpoint("md")+1&&breakpoint<this.getBreakpoint("lg")||("mobile"==mode&&breakpoint<=this.getBreakpoint("md")||("desktop-and-tablet"==mode&&breakpoint>=this.getBreakpoint("md")+1||("tablet-and-mobile"==mode&&breakpoint<=this.getBreakpoint("lg")||"minimal-desktop-and-below"==mode&&breakpoint<=this.getBreakpoint("xl"))))))},isBreakpointUp:function isBreakpointUp(mode){return this.getViewPort().width>=this.getBreakpoint(mode)},isBreakpointDown:function isBreakpointDown(mode){return this.getViewPort().width<this.getBreakpoint(mode)},getUniqueID:function getUniqueID(prefix){return prefix+Math.floor(Math.random()*(new Date).getTime())},getBreakpoint:function getBreakpoint(mode){return breakpoints[mode]},isset:function isset(obj,keys){var stone;if(-1!==(keys=keys||"").indexOf("["))throw new Error("Unsupported object path notation.");keys=keys.split(".");do{if(void 0===obj)return!1;if(stone=keys.shift(),!obj.hasOwnProperty(stone))return!1;obj=obj[stone]}while(keys.length);return!0},getHighestZindex:function getHighestZindex(el){for(var position,value;el&&el!==document;){if(("absolute"===(position=KTUtil.css(el,"position"))||"relative"===position||"fixed"===position)&&(value=parseInt(KTUtil.css(el,"z-index")),!isNaN(value)&&0!==value))return value;el=el.parentNode}return null},hasFixedPositionedParent:function hasFixedPositionedParent(el){for(;el&&el!==document;){if("fixed"===KTUtil.css(el,"position"))return!0;el=el.parentNode}return!1},sleep:function sleep(milliseconds){for(var start=(new Date).getTime(),i=0;i<1e7&&!((new Date).getTime()-start>milliseconds);i++);},getRandomInt:function getRandomInt(min,max){return Math.floor(Math.random()*(max-min+1))+min},isAngularVersion:function isAngularVersion(){return void 0!==window.Zone},deepExtend:function deepExtend(out){out=out||{};for(var i=1;i<arguments.length;i++){var obj=arguments[i];if(obj)for(var key in obj)obj.hasOwnProperty(key)&&("object"===_typeof(obj[key])?out[key]=KTUtil.deepExtend(out[key],obj[key]):out[key]=obj[key])}return out},extend:function extend(out){out=out||{};for(var i=1;i<arguments.length;i++)if(arguments[i])for(var key in arguments[i])arguments[i].hasOwnProperty(key)&&(out[key]=arguments[i][key]);return out},getById:function getById(el){return"string"==typeof el?document.getElementById(el):el},getByTag:function getByTag(query){return document.getElementsByTagName(query)},getByTagName:function getByTagName(query){return document.getElementsByTagName(query)},getByClass:function getByClass(query){return document.getElementsByClassName(query)},getBody:function getBody(){return document.getElementsByTagName("body")[0]},hasClasses:function hasClasses(el,classes){if(el){for(var classesArr=classes.split(" "),i=0;i<classesArr.length;i++)if(0==KTUtil.hasClass(el,KTUtil.trim(classesArr[i])))return!1;return!0}},hasClass:function hasClass(el,className){if(el)return el.classList?el.classList.contains(className):new RegExp("\\b"+className+"\\b").test(el.className)},addClass:function addClass(el,className){if(el&&void 0!==className){var classNames=className.split(" ");if(el.classList)for(var i=0;i<classNames.length;i++)classNames[i]&&classNames[i].length>0&&el.classList.add(KTUtil.trim(classNames[i]));else if(!KTUtil.hasClass(el,className))for(var x=0;x<classNames.length;x++)el.className+=" "+KTUtil.trim(classNames[x])}},removeClass:function removeClass(el,className){if(el&&void 0!==className){var classNames=className.split(" ");if(el.classList)for(var i=0;i<classNames.length;i++)el.classList.remove(KTUtil.trim(classNames[i]));else if(KTUtil.hasClass(el,className))for(var x=0;x<classNames.length;x++)el.className=el.className.replace(new RegExp("\\b"+KTUtil.trim(classNames[x])+"\\b","g"),"")}},triggerCustomEvent:function triggerCustomEvent(el,eventName,data){var event;window.CustomEvent?event=new CustomEvent(eventName,{detail:data}):(event=document.createEvent("CustomEvent")).initCustomEvent(eventName,!0,!0,data),el.dispatchEvent(event)},triggerEvent:function triggerEvent(node,eventName){var doc;if(node.ownerDocument)doc=node.ownerDocument;else{if(9!=node.nodeType)throw new Error("Invalid node passed to fireEvent: "+node.id);doc=node}if(node.dispatchEvent){var eventClass="";switch(eventName){case"click":case"mouseenter":case"mouseleave":case"mousedown":case"mouseup":eventClass="MouseEvents";break;case"focus":case"change":case"blur":case"select":eventClass="HTMLEvents";break;default:throw"fireEvent: Couldn't find an event class for event '"+eventName+"'."}var bubbles="change"!=eventName;(event=doc.createEvent(eventClass)).initEvent(eventName,bubbles,!0),event.synthetic=!0,node.dispatchEvent(event,!0)}else if(node.fireEvent){var event;(event=doc.createEventObject()).synthetic=!0,node.fireEvent("on"+eventName,event)}},index:function index(el){for(var c=el.parentNode.children,i=0;i<c.length;i++)if(c[i]==el)return i},trim:function trim(string){return string.trim()},eventTriggered:function eventTriggered(e){return!!e.currentTarget.dataset.triggered||(e.currentTarget.dataset.triggered=!0,!1)},remove:function remove(el){el&&el.parentNode&&el.parentNode.removeChild(el)},find:function find(parent,query){if(parent=KTUtil.getById(parent))return parent.querySelector(query)},findAll:function findAll(parent,query){if(parent=KTUtil.getById(parent))return parent.querySelectorAll(query)},insertAfter:function insertAfter(el,referenceNode){return referenceNode.parentNode.insertBefore(el,referenceNode.nextSibling)},parents:function parents(elem,selector){Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(s){for(var matches=(this.document||this.ownerDocument).querySelectorAll(s),i=matches.length;--i>=0&&matches.item(i)!==this;);return i>-1});for(var parents=[];elem&&elem!==document;elem=elem.parentNode)selector?elem.matches(selector)&&parents.push(elem):parents.push(elem);return parents},children:function children(el,selector,log){if(el&&el.childNodes){for(var result=[],i=0,l=el.childNodes.length;i<l;++i)1==el.childNodes[i].nodeType&&KTUtil.matches(el.childNodes[i],selector,log)&&result.push(el.childNodes[i]);return result}},child:function child(el,selector,log){var children=KTUtil.children(el,selector,log);return children?children[0]:null},matches:function matches(el,selector,log){var p=Element.prototype,f=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.msMatchesSelector||function(s){return-1!==[].indexOf.call(document.querySelectorAll(s),this)};return!(!el||!el.tagName)&&f.call(el,selector)},data:function data(el){return{set:function set(name,data){el&&(void 0===el.customDataTag&&(window.KTUtilElementDataStoreID++,el.customDataTag=window.KTUtilElementDataStoreID),void 0===window.KTUtilElementDataStore[el.customDataTag]&&(window.KTUtilElementDataStore[el.customDataTag]={}),window.KTUtilElementDataStore[el.customDataTag][name]=data)},get:function get(name){if(el)return void 0===el.customDataTag?null:this.has(name)?window.KTUtilElementDataStore[el.customDataTag][name]:null},has:function has(name){return!!el&&(void 0!==el.customDataTag&&!(!window.KTUtilElementDataStore[el.customDataTag]||!window.KTUtilElementDataStore[el.customDataTag][name]))},remove:function remove(name){el&&this.has(name)&&delete window.KTUtilElementDataStore[el.customDataTag][name]}}},outerWidth:function outerWidth(el,margin){var width;return!0===margin?(width=parseFloat(el.offsetWidth),width+=parseFloat(KTUtil.css(el,"margin-left"))+parseFloat(KTUtil.css(el,"margin-right")),parseFloat(width)):width=parseFloat(el.offsetWidth)},offset:function offset(el){var rect,win;if(el)return el.getClientRects().length?(rect=el.getBoundingClientRect(),win=el.ownerDocument.defaultView,{top:rect.top+win.pageYOffset,left:rect.left+win.pageXOffset}):{top:0,left:0}},height:function height(el){return KTUtil.css(el,"height")},outerHeight:function outerHeight(el){var style,withMargic=arguments.length>1&&void 0!==arguments[1]&&arguments[1],height=el.offsetHeight;return withMargic?(style=getComputedStyle(el),height+=parseInt(style.marginTop)+parseInt(style.marginBottom)):height},visible:function visible(el){return!(0===el.offsetWidth&&0===el.offsetHeight)},attr:function attr(el,name,value){if(null!=el)return void 0===value?el.getAttribute(name):void el.setAttribute(name,value)},hasAttr:function hasAttr(el,name){if(null!=el)return!!el.getAttribute(name)},removeAttr:function removeAttr(el,name){null!=el&&el.removeAttribute(name)},animate:function animate(from,to,duration,update,easing,done){var easings={};if(easings.linear=function(t,b,c,d){return c*t/d+b},easing=easings.linear,"number"==typeof from&&"number"==typeof to&&"number"==typeof duration&&"function"==typeof update){"function"!=typeof done&&(done=function done(){});var rAF=window.requestAnimationFrame||function(callback){window.setTimeout(callback,20)},change=to-from;update(from);var start=window.performance&&window.performance.now?window.performance.now():+new Date;rAF((function loop(timestamp){var time=(timestamp||+new Date)-start;time>=0&&update(easing(time,from,change,duration)),time>=0&&time>=duration?(update(to),done()):rAF(loop)}))}},actualCss:function actualCss(el,prop,cache){var value,css="";if(!1!==_instanceof(el,HTMLElement))return el.getAttribute("kt-hidden-"+prop)&&!1!==cache?parseFloat(el.getAttribute("kt-hidden-"+prop)):(css=el.style.cssText,el.style.cssText="position: absolute; visibility: hidden; display: block;","width"==prop?value=el.offsetWidth:"height"==prop&&(value=el.offsetHeight),el.style.cssText=css,el.setAttribute("kt-hidden-"+prop,value),parseFloat(value))},actualHeight:function actualHeight(el,cache){return KTUtil.actualCss(el,"height",cache)},actualWidth:function actualWidth(el,cache){return KTUtil.actualCss(el,"width",cache)},getScroll:function getScroll(element,method){return method="scroll"+method,element==window||element==document?self["scrollTop"==method?"pageYOffset":"pageXOffset"]||browserSupportsBoxModel&&document.documentElement[method]||document.body[method]:element[method]},css:function css(el,styleProp,value){if(el)if(void 0!==value)el.style[styleProp]=value;else{var defaultView=(el.ownerDocument||document).defaultView;if(defaultView&&defaultView.getComputedStyle)return styleProp=styleProp.replace(/([A-Z])/g,"-$1").toLowerCase(),defaultView.getComputedStyle(el,null).getPropertyValue(styleProp);if(el.currentStyle)return styleProp=styleProp.replace(/\-(\w)/g,(function(str,letter){return letter.toUpperCase()})),value=el.currentStyle[styleProp],/^\d+(em|pt|%|ex)?$/i.test(value)?function(value){var oldLeft=el.style.left,oldRsLeft=el.runtimeStyle.left;return el.runtimeStyle.left=el.currentStyle.left,el.style.left=value||0,value=el.style.pixelLeft+"px",el.style.left=oldLeft,el.runtimeStyle.left=oldRsLeft,value}(value):value}},slide:function slide(el,dir,speed,callback,recalcMaxHeight){if(!(!el||"up"==dir&&!1===KTUtil.visible(el)||"down"==dir&&!0===KTUtil.visible(el))){speed=speed||600;var calcHeight=KTUtil.actualHeight(el),calcPaddingTop=!1,calcPaddingBottom=!1;KTUtil.css(el,"padding-top")&&!0!==KTUtil.data(el).has("slide-padding-top")&&KTUtil.data(el).set("slide-padding-top",KTUtil.css(el,"padding-top")),KTUtil.css(el,"padding-bottom")&&!0!==KTUtil.data(el).has("slide-padding-bottom")&&KTUtil.data(el).set("slide-padding-bottom",KTUtil.css(el,"padding-bottom")),KTUtil.data(el).has("slide-padding-top")&&(calcPaddingTop=parseInt(KTUtil.data(el).get("slide-padding-top"))),KTUtil.data(el).has("slide-padding-bottom")&&(calcPaddingBottom=parseInt(KTUtil.data(el).get("slide-padding-bottom"))),"up"==dir?(el.style.cssText="display: block; overflow: hidden;",calcPaddingTop&&KTUtil.animate(0,calcPaddingTop,speed,(function(value){el.style.paddingTop=calcPaddingTop-value+"px"}),"linear"),calcPaddingBottom&&KTUtil.animate(0,calcPaddingBottom,speed,(function(value){el.style.paddingBottom=calcPaddingBottom-value+"px"}),"linear"),KTUtil.animate(0,calcHeight,speed,(function(value){el.style.height=calcHeight-value+"px"}),"linear",(function(){el.style.height="",el.style.display="none","function"==typeof callback&&callback()}))):"down"==dir&&(el.style.cssText="display: block; overflow: hidden;",calcPaddingTop&&KTUtil.animate(0,calcPaddingTop,speed,(function(value){el.style.paddingTop=value+"px"}),"linear",(function(){el.style.paddingTop=""})),calcPaddingBottom&&KTUtil.animate(0,calcPaddingBottom,speed,(function(value){el.style.paddingBottom=value+"px"}),"linear",(function(){el.style.paddingBottom=""})),KTUtil.animate(0,calcHeight,speed,(function(value){el.style.height=value+"px"}),"linear",(function(){el.style.height="",el.style.display="",el.style.overflow="","function"==typeof callback&&callback()})))}},slideUp:function slideUp(el,speed,callback){KTUtil.slide(el,"up",speed,callback)},slideDown:function slideDown(el,speed,callback){KTUtil.slide(el,"down",speed,callback)},show:function show(el,display){void 0!==el&&(el.style.display=display||"block")},hide:function hide(el){void 0!==el&&(el.style.display="none")},addEvent:function addEvent(el,type,handler,one){null!=el&&el.addEventListener(type,handler)},removeEvent:function removeEvent(el,type,handler){null!==el&&el.removeEventListener(type,handler)},on:function on(element,selector,event,handler){if(selector){var eventId=KTUtil.getUniqueID("event");return window.KTUtilDelegatedEventHandlers[eventId]=function(e){for(var targets=element.querySelectorAll(selector),target=e.target;target&&target!==element;){for(var i=0,j=targets.length;i<j;i++)target===targets[i]&&handler.call(target,e);target=target.parentNode}},KTUtil.addEvent(element,event,window.KTUtilDelegatedEventHandlers[eventId]),eventId}},off:function off(element,event,eventId){element&&window.KTUtilDelegatedEventHandlers[eventId]&&(KTUtil.removeEvent(element,event,window.KTUtilDelegatedEventHandlers[eventId]),delete window.KTUtilDelegatedEventHandlers[eventId])},one:function onetime(el,type,callback){el.addEventListener(type,(function callee(e){return e.target&&e.target.removeEventListener&&e.target.removeEventListener(e.type,callee),el&&el.removeEventListener&&e.currentTarget.removeEventListener(e.type,callee),callback(e)}))},hash:function hash(str){var i,hash=0;if(0===str.length)return hash;for(i=0;i<str.length;i++)hash=(hash<<5)-hash+str.charCodeAt(i),hash|=0;return hash},animateClass:function animateClass(el,animationName,callback){var animation,animations={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd",msAnimation:"msAnimationEnd"};for(var t in animations)void 0!==el.style[t]&&(animation=animations[t]);KTUtil.addClass(el,"animated "+animationName),KTUtil.one(el,animation,(function(){KTUtil.removeClass(el,"animated "+animationName)})),callback&&KTUtil.one(el,animation,callback)},transitionEnd:function transitionEnd(el,callback){var transition,transitions={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"mozTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"msTransitionEnd"};for(var t in transitions)void 0!==el.style[t]&&(transition=transitions[t]);KTUtil.one(el,transition,callback)},animationEnd:function animationEnd(el,callback){var animation,animations={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd",msAnimation:"msAnimationEnd"};for(var t in animations)void 0!==el.style[t]&&(animation=animations[t]);KTUtil.one(el,animation,callback)},animateDelay:function animateDelay(el,value){for(var vendors=["webkit-","moz-","ms-","o-",""],i=0;i<vendors.length;i++)KTUtil.css(el,vendors[i]+"animation-delay",value)},animateDuration:function animateDuration(el,value){for(var vendors=["webkit-","moz-","ms-","o-",""],i=0;i<vendors.length;i++)KTUtil.css(el,vendors[i]+"animation-duration",value)},scrollTo:function scrollTo(target,offset,duration){duration=duration||500;var from,to,targetPos=target?KTUtil.offset(target).top:0,scrollPos=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;offset&&(scrollPos+=offset),from=scrollPos,to=targetPos,KTUtil.animate(from,to,duration,(function(value){document.documentElement.scrollTop=value,document.body.parentNode.scrollTop=value,document.body.scrollTop=value}))},scrollTop:function scrollTop(offset,duration){KTUtil.scrollTo(null,offset,duration)},isArray:function isArray(obj){return obj&&Array.isArray(obj)},ready:function ready(callback){(document.attachEvent?"complete"===document.readyState:"loading"!==document.readyState)?callback():document.addEventListener("DOMContentLoaded",callback)},isEmpty:function isEmpty(obj){for(var prop in obj)if(obj.hasOwnProperty(prop))return!1;return!0},numberString:function numberString(nStr){for(var x=(nStr+="").split("."),x1=x[0],x2=x.length>1?"."+x[1]:"",rgx=/(\d+)(\d{3})/;rgx.test(x1);)x1=x1.replace(rgx,"$1,$2");return x1+x2},detectIE:function detectIE(){var ua=window.navigator.userAgent,msie=ua.indexOf("MSIE ");if(msie>0)return parseInt(ua.substring(msie+5,ua.indexOf(".",msie)),10);if(ua.indexOf("Trident/")>0){var rv=ua.indexOf("rv:");return parseInt(ua.substring(rv+3,ua.indexOf(".",rv)),10)}var edge=ua.indexOf("Edge/");return edge>0&&parseInt(ua.substring(edge+5,ua.indexOf(".",edge)),10)},isRTL:function isRTL(){var html=KTUtil.getByTagName("html")[0];if(html)return"rtl"==KTUtil.attr(html,"direction")},scrollInit:function scrollInit(element,options){if(element){options=KTUtil.deepExtend({},{wheelSpeed:.5,swipeEasing:!0,wheelPropagation:!1,minScrollbarLength:40,maxScrollbarLength:300,suppressScrollX:!0},options),init(),options.handleWindowResize&&KTUtil.addResizeHandler((function(){init()}))}function init(){var ps,height,attrs=element.getAttributeNames();if(attrs.length>0&&attrs.forEach((function(attrName){if(/^data-.*/g.test(attrName)&&0==["scroll","height","mobile-height"].includes(optionName)){var optionName=attrName.replace("data-","").toLowerCase().replace(/(?:[\s-])\w/g,(function(match){return match.replace("-","").toUpperCase()}));options[optionName]=KTUtil.filterBoolean(element.getAttribute(attrName))}})),!1!==(height=_instanceof(options.height,Function)?options.height.call():options.mobileHeight?parseInt(options.mobileHeight):parseInt(options.height)))if(height=parseInt(height),(options.mobileNativeScroll||options.disableForMobile)&&KTUtil.isBreakpointDown("lg"))(ps=KTUtil.data(element).get("ps"))?(options.resetHeightOnDestroy?KTUtil.css(element,"height","auto"):(KTUtil.css(element,"overflow","auto"),height>0&&KTUtil.css(element,"height",height+"px")),ps.destroy(),ps=KTUtil.data(element).remove("ps")):height>0&&(KTUtil.css(element,"overflow","auto"),KTUtil.css(element,"height",height+"px"));else if(height>0&&KTUtil.css(element,"height",height+"px"),options.desktopNativeScroll)KTUtil.css(element,"overflow","auto");else{"true"==KTUtil.attr(element,"data-window-scroll")&&(options.windowScroll=!0),(ps=KTUtil.data(element).get("ps"))?ps.update():(KTUtil.css(element,"overflow","hidden"),KTUtil.addClass(element,"scroll"),ps=new PerfectScrollbar(element,options),KTUtil.data(element).set("ps",ps));KTUtil.attr(element,"id")}else KTUtil.scrollDestroy(element,!0)}},scrollUpdate:function scrollUpdate(element){var ps=KTUtil.data(element).get("ps");ps&&ps.update()},scrollUpdateAll:function scrollUpdateAll(parent){for(var scrollers=KTUtil.findAll(parent,".ps"),i=0,len=scrollers.length;i<len;i++)KTUtil.scrollUpdate(scrollers[i])},scrollDestroy:function scrollDestroy(element,resetAll){var ps=KTUtil.data(element).get("ps");ps&&(ps.destroy(),ps=KTUtil.data(element).remove("ps")),element&&resetAll&&(element.style.setProperty("overflow",""),element.style.setProperty("height",""))},filterBoolean:function filterBoolean(val){return!0===val||"true"===val||!1!==val&&"false"!==val&&val},setHTML:function setHTML(el,html){el.innerHTML=html},getHTML:function getHTML(el){if(el)return el.innerHTML},getDocumentHeight:function getDocumentHeight(){var body=document.body,html=document.documentElement;return Math.max(body.scrollHeight,body.offsetHeight,html.clientHeight,html.scrollHeight,html.offsetHeight)},getScrollTop:function getScrollTop(){return(document.scrollingElement||document.documentElement).scrollTop},colorDarken:function colorDarken(color,amount){var subtractLight=function subtractLight(color,amount){var cc=parseInt(color,16)-amount,c=cc<0?0:cc;return c=c.toString(16).length>1?c.toString(16):"0".concat(c.toString(16))};return color=color.indexOf("#")>=0?color.substring(1,color.length):color,amount=parseInt(255*amount/100),"#".concat(subtractLight(color.substring(0,2),amount)).concat(subtractLight(color.substring(2,4),amount)).concat(subtractLight(color.substring(4,6),amount))},colorLighten:function colorLighten(color,amount){var addLight=function addLight(color,amount){var cc=parseInt(color,16)+amount,c=cc>255?255:cc;return c=c.toString(16).length>1?c.toString(16):"0".concat(c.toString(16))};return color=color.indexOf("#")>=0?color.substring(1,color.length):color,amount=parseInt(255*amount/100),"#".concat(addLight(color.substring(0,2),amount)).concat(addLight(color.substring(2,4),amount)).concat(addLight(color.substring(4,6),amount))},throttle:function throttle(timer,func,delay){timer||(timer=setTimeout((function(){func(),timer=void 0}),delay))},debounce:function debounce(timer,func,delay){clearTimeout(timer),timer=setTimeout(func,delay)},btnWait:function btnWait(el,cls,message){var disable=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(el&&(disable&&KTUtil.attr(el,"disabled",!0),cls&&(KTUtil.addClass(el,cls),KTUtil.attr(el,"wait-class",cls)),message)){var caption=KTUtil.find(el,".btn-caption");caption?(KTUtil.data(caption).set("caption",KTUtil.getHTML(caption)),KTUtil.setHTML(caption,message)):(KTUtil.data(el).set("caption",KTUtil.getHTML(el)),KTUtil.setHTML(el,message))}},btnRelease:function btnRelease(el){if(el){KTUtil.removeAttr(el,"disabled"),KTUtil.hasAttr(el,"wait-class")&&KTUtil.removeClass(el,KTUtil.attr(el,"wait-class"));var caption=KTUtil.find(el,".btn-caption");caption&&KTUtil.data(caption).has("caption")?KTUtil.setHTML(caption,KTUtil.data(caption).get("caption")):KTUtil.data(el).has("caption")&&KTUtil.setHTML(el,KTUtil.data(el).get("caption"))}},isOffscreen:function isOffscreen(el,direction){var offset=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,windowWidth=KTUtil.getViewPort().width,windowHeight=KTUtil.getViewPort().height,top=KTUtil.offset(el).top,height=KTUtil.outerHeight(el)+offset,left=KTUtil.offset(el).left,width=KTUtil.outerWidth(el)+offset;if("bottom"==direction){if(windowHeight<top+height)return!0;if(windowHeight>top+1.5*height)return!0}if("top"==direction){if(top<0)return!0;if(top>height)return!0}return"left"==direction&&left<0||"right"==direction&&windowWidth<left+width}}}();"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=KTUtil),KTUtil.ready((function(){"undefined"!=typeof KTAppSettings?KTUtil.init(KTAppSettings):KTUtil.init()})),window.onload=function(){var result=KTUtil.getByTagName("body");result&&result[0]&&KTUtil.removeClass(result[0],"page-loading")};